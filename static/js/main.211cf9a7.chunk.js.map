{"version":3,"sources":["images/white-logo-plus-name-final-01.svg","images/burger-icon-01.svg","images/cloud-computing-01-01.png","images/ai-process-01-01.png","images/report-vector-01-01.png","images/Creative_process_SVG.svg","images/pavement-without-ai.jpg","images/Data_analysis_SVG.svg","images/City_SVG.svg","label/demo-assets/demo.jpg","label/demo-assets/semantic-segmentation.json.resp","label/demo-assets/object-detection.json.resp","images/pavement-with-ai.jpg","images/Analytics_SVG.svg","services/api.js","store/actionTypes.js","store/actions/errors.js","store/actions/auth.js","Navbar.js","store/actions/users.js","components/DiagonalSpacer.js","containers/FormSpreeForm.js","Homepage.js","components/DataLabeling.js","components/AuthForm.js","components/AuthPage.js","components/DamageAnalysis.js","components/AiConsulting.js","containers/Demo.js","components/SaveToDrive.js","containers/ImageVisualizer.js","components/UploadHistory.js","components/AdminAuthForm.js","containers/Dashboard.js","containers/Menubar.js","containers/ProjectsGrid.js","containers/LabelHome.js","containers/ProjectImages.js","containers/UploadImages.js","containers/LabelFormItem.js","containers/ImportData.js","containers/UploadReference.js","containers/MLAssist.js","containers/ProjectPage.js","containers/LoginPage.js","containers/AdminApp.js","label/Figure.js","label/utils.js","label/CalcBoundsHOC.js","label/Canvas.js","label/HotkeysPanel.js","label/Sidebar.js","label/CanvasToolbar.js","label/Reference.js","image-processing/MaxHeap.js","image-processing/LiveWire.js","image-processing/Dijkstra.js","image-processing/Segmentation.js","label/tracing.js","label/MakePredictionsHOC.js","label/LabelingApp.js","label/LoadImageDataHOC.js","label/LabelingAppHistoryHOC.js","label/demo.js","label/LabelingLoader.js","label/OverScreen.js","components/NotFound.js","containers/Main.js","hocs/withAuth.js","store/reducers/currentUser.js","store/reducers/language.js","store/reducers/index.js","store/reducers/errors.js","App.js","store/index.js","serviceWorker.js","index.js"],"names":["module","exports","__webpack_require__","p","apiCall","method","path","data","Promise","resolve","reject","axios","toLowerCase","then","res","catch","err","response","error","multipartApiCall","headers","content-type","SET_CURRENT_USER","addError","type","removeError","setCurrentUser","user","setAuthorizationToken","token","defaults","common","concat","setTokenHeader","Navbar","props","_this","Object","classCallCheck","this","_super","call","targetElement","navbarOn","mobile","state","mobileNav","setState","disableBodyScroll","clearAllBodyScrollLocks","onLinkClick","e","preventDefault","l","target","name","history","push","document","querySelector","prevProps","location","onRouteChanged","_this2","browserLang","language","spanish","indexOf","menuOpen","mobileClassname","react_default","a","createElement","react","Responsive","onlyComputer","Segment","className","inverted","style","margin","position","width","zIndex","Menu","secondary","Item","href","currentUser","isAuthenticated","Image_Image","size","alt","src","Logo","active","pathname","Dropdown","item","text","options","key","value","cursor","onClick","logout","onlyMobile","overflow","maxHeight","height","Burger","vertical","lib","to","Component","withRouter","connect","errors","dispatch","localStorage","clear","setUserLanguage","lang","setItem","updateCurrentUser","objectSpread2","DiagonalSpacer","tilt","bColor","background","tiltClass","backgroundColor","FormSpreeForm","Form","display","action","Group","widths","Field","required","htmlFor","Input","id","placeholder","TextArea","rows","Button","ReactGA","event","category","label","React","Homepage","Helmet","content","property","http-equiv","basic","textTransform","syle","Icon","components_DiagonalSpacer","Container","Grid","centered","stackable","columns","divided","Column","container","Row","DataAnalysis","compact","padding","color","City","Divider","verticalAlign","Embed","autoplay","PavementSampleWithout","source","lineHeight","ConsultingImg","CloudComputing","AiProcess","ReportVector","paddingLeft","textAlign","containers_FormSpreeForm","DataLabeling","backgroundImg","minHeight","backgroundImage","AuthForm","handleSubmit","authType","signUp","password","password_confirm","errorMsg","reset","a_password","onAuth","email","f_name","l_name","profileImageUrl","handleChange","defineProperty","trim","agreedToTerms","company","onCheckboxSelect","bind","assertThisInitialized","_this$state","_this$props","heading","buttonText","pageLang","listen","removeAdditionalField","customWidth","message","Message","onSubmit","tabIndex","autoComplete","onChange","checked","disabled","AuthPage","console","log","paddingTop","components_AuthForm","assign","DamageAnalysis","AiConsulting","Demo","acceptedFiles","images","arrayBuffers","loading","detection","confidence","length","imgSize","handleDrop","evt","forEach","file","formData","FormData","append","post","process","Content-Type","result","image","detection_img_url","toConsumableArray","damage","imgsize","finally","_this3","fileNames","map","imgUrl","dist_es","onDrop","_ref","getRootProps","getInputProps","SaveToDrive","userId","foldername","files","_useState","useState","_useState2","slicedToArray","setLoading","fileDataArr","sendToDrive","asyncToGenerator","regenerator_default","mark","_callee","filesArr","_iterator","_step","_loop","_iterator2","_step2","wrap","_context","prev","next","createForOfIteratorHelper","lineArray","infoArray","index","line","join","csvContent","f","File","filename","lastModified","Date","s","n","done","JSON","stringify","sent","t0","stop","_x","apply","arguments","ImageVisualizer","parsedCsvData","withHeaders","withImages","imagesColumn","secondImageColumn","maxRowCount","startingRow","selectedRow","selectedRowIdx","nameCol","damageCol","qaGenerated","classificationGenerated","feedbackGenerated","usage","objective","qaDamageDetectedCorrectly","qaCorrectedDamage","classificationIsDamaged","classificationDamageName","feedbackImageHasDamage","feedbackDamageName1","feedbackDamageName2","feedbackDamageName3","feedbackDamage1Length","feedbackDamage2Length","feedbackDamage3Length","feedbackDamage1Width","feedbackDamage2Width","feedbackDamage3Width","feedbackComments","disableAdd","twoImages","startingRowCustomize","reader","FileReader","filesArray","onabort","onerror","onload","csv","parse","columnList","str","idx","parsedFile","readAsBinaryString","grade","newDamage","newRow","qaArr","foundDamage","newDamage1","newDamage1Length","newDamage1Width","newDamage2","newDamage2Length","newDamage2Width","newDamage3","newDamage3Length","newDamage3Width","comments","configSectionWidth","visualSectionWidth","tableData","usgObj","imageDropdownOptions","header","react_image_magnifiers_dist","maxWidth","imageSrc","imageAlt","mouseActivation","touchActivation","slice","marginLeft","marginRight","search","selection","Checkbox","toggle","hidden","fluid","overflowY","img","positive","components_SaveToDrive","react_csv","newStartingRow","parseInt","icon","circular","link","overflowX","Table","headerRow","selectable","renderBodyRow","cells","Cell","imageArr","UploadHistory","uploadRows","uploads","uploadObj","progress","Math","floor","uploadedFileCount","numFiles","moment","createdAt","format","customFolderName","Progress","percent","indicating","uploadSizeBytes","toFixed","celled","Header","HeaderCell","Body","AdminAuthForm","adminUserId","setTimeout","handleDropdownChange","companyList","companies","keys","comp","success","Dashboard","userid","uploadedFiles","modalOn","onModalClose","eventSource","EventSource","onmessage","prevState","progressArr","every","_","isEqual","close","window","reload","Modal","open","onClose","Content","Actions","multiple","_ref2","components_UploadHistory","role","components_AdminAuthForm","Menubar","react_router_dom","children","ProjectsGrid","isLoaded","projects","onNewProject","status","newProject","linkPrefix","newButton","title","Loader","inline","renderedButton","fontSize","as","project","form","imagesCount","labelsCount","_id","info","desc","formParts","part","Card","meta","description","LabelHome","Menubar_Menubar","ProjectsGrid_ProjectsGrid","ProjectImages","handleLabeled","handleDelete","markAllNotLabeled","nextProps","nextState","projectId","shallowEqualObjects","refetchRef","refetch","_context2","imageId","labeled","findIndex","x","update","$splice","flexDirection","flex","columnStyles","opacity","border","outline","ProjectImages_AutoSizedList","rowHeight","rowCount","rowRenderer","ProjectImages_Row","onLabeled","onDelete","overscanRowCount","float","rel","externalLink","originalName","_ref3","AutoSizedList","react_virtualized_dist_es","_ref4","UploadImages","urlsText","localPath","urlsError","localPathError","handlePathSubmit","handleFilesSubmit","change","urls","split","filter","resp","ok","urlsMessage","negative","relaxed","dragHandleStyle","minWidth","DragHandle","sortableHandle","ImportData","json","loader","messages","m","encType","accept","marginTop","UploadReference","uploadError","handleFileSubmit","fetch","body","onUpload","referenceText","referenceLink","uploadErrorMessage","preview","top","right","autoHeight","defaultValue","outputFormats","object_detection","object_classification","semantic_segmentation","MLAssist","models","currentValue","url","model","_this$state2","emptyMessage","Select","ProjectPage","onSortEnd","handleNew","handleNameChange","handleReferenceChange","handleProjectExport","replace","oldIndex","newIndex","$set","arrayMove","projectJSON","JSZip","zipFilename","finalJSON","imgLabels","fileContent","contents","fileId","random","blob","Blob","saveAs","oldValue","newValue","edit","$push","newFormPart","match","items","renderedItems","SortableItem","react_document_meta_dist_default","paddingBottom","control","origin","select","SortableContainer","useDragHandle","ProjectImages_ProjectImages","handleImagesChange","UploadImages_UploadImages","ImportData_ImportData","componentDidMount","UploadReference_UploadReference","MLAssist_MLAssist","alignSelf","boxShadow","List","sortableElement","extraConfig","prompt","Comp","Radio","renderedOptions","optionText","renderExtraConfig","shadow","sortableContainer","toString","substr","LoginPage","authUser","AdminApp","react_router","render","ProjectPage_ProjectPage","exact","LoginPage_LoginPage","Figure","dragging","draggedPoint","i","point","Polygon","points","guides","calculateGuides","pos","Polyline","positions","dashArray","weight","figure","skipNextClick","editing","finished","sketch","vertexColor","interactive","onSelect","renderPoints","getRenderPoints","lineColor","fillColor","classes","vcolor","vertices","CircleMarker","center","fillOpacity","radius","onPointClick","draggable","onDrag","getLatLng","onDragstart","onDragend","onPointMoved","fill","fillRule","guideLines","makeGuides","PolyComp","leafletComponent","hasFill","makeExtraElements","PolygonFigure","_Figure","inherits","_super2","createSuper","createClass","_this$props2","newPoint","additionalGuides","_this$props3","calcDistance","b","midPoint","onMousedown","_this$props4","_this$props5","BBoxFigure","_Figure2","_super3","_this$props6","oppPoint","sidePoint1","lat","lng","sidePoint2","_points","p1","p2","_this$props7","_figure$points","UnclosedPolyline","_Figure3","_super4","_this4","_this$props8","_this$props9","_ref5","_ref6","_ref7","_ref8","_this$props10","_this$props11","colorMapping","red","orange","yellow","olive","green","teal","blue","violet","purple","pink","brown","gray","black","convertPoint","genId","substring","colors","maxZoom","withBounds","CalcBoundsLayer","_PureComponent","crs","CRS","Simple","southWest","unproject","y","northEast","LatLngBounds","forwardedRef","rest","objectWithoutProperties","bounds","calcBounds","ref","PureComponent","forwardRef","Canvas","context","zoom","selectedFigureId","cursorPos","mouseDownFlag","draggableView","prevSelectedFigure","skipNextClickEvent","mapRef","createRef","handleClick","handleMouseMove","onSelectionChange","prevSelectedFigureId","figures","find","eventType","unfinishedFigure","drawing","newState","Error","latlng","onReassignment","current","leafletElement","latLngToLayerPoint","distanceTo","unfinishedDrawingDOM","renderFigure","getColor","tracingOptions","enabled","col","amt","usePound","num","r","g","lighten","figuresDOM","hotkeysDOM","lib_esm","keyName","onKeyDown","tagName","activeElement","includes","getSelectedFigure","panBy","setZoom","getZoom","onKeyUp","renderedTrace","selectedFigure","trace","traceOptions","Figure_PolygonFigure","Figure_UnclosedPolyline","es_Map","minZoom","zoomAnimation","zoomSnap","zoomControl","keyboard","attributionControl","onZoom","onMouseMove","onMouseDown","onMouseUp","ZoomControl","control_default","setView","fitted","ImageOverlay","borderRight","headerIconStyle","HotkeysPanel","labels","labelHotkeys","attached","Sidebar","selected","toggles","onToggle","openHotkeys","onBack","onSkip","labelData","onFormChange","makePrediction","imageName","hotkeysButton","getSelectHandler","shortcut","_ref2$selected","_ref2$disabled","_ref2$isToggled","isToggled","icons","typeHidable","stopPropagation","iconType","iconMapping","figureIcon","Label","horizontal","sublistStyle","filteredModels","fillInDOM","_x2","option","_ref9","_ref10","genSublist","ListItem","primary","bbox","polygon","polyline","select-one","defaultStyle","borderBottom","smoothingOptions","precisionOptions","selectStyle","groupStyle","PathToolbar","smoothing","precision","selectProps","predictionSmoothingOptions","lastSelected","MakePredictionToolbar","_Component","_handleGenerate","generate","smoothingSelect","handleGenerate","containerStyle","imageStyle","renderReference","MinHeap","_MaxHeap","comparator","get","getPrototypeOf","prototype","MaxHeap","undefined","_comparator","_heapIdx","Map","_heap","Array","isArray","initData","_initFromData","set","parentIdx","_downHeap","leftChildIdx","left","rightChildIdx","largest","_maxIndex","_swap","parent","idxA","idxB","valueA","_get","valueB","recA","recB","has","_upHeap","last","pop","delete","iterator","obj","def","defaultMarkRadius","computePath","imageData","markRadius","pointToId","idToPoint","minPoint","maxPoint","idsSets","dx","dy","inBounds","ps","Set","getPaths","startingSet","startingDistances","endSet","Infinity","min","max","calcCost","c","d","sum","aveA","aveB","diff","abs","distanceFn","neighborsFn","queue","fromId","finalDistances","_step$value","dist","leftSet","entries","minElementId","remove","nid","ndist","delta","add","empty","from","curId","reverse","distance","dijkstra","pa","pb","cost","j","_step3","prevDistances","_iterator3","pathsSets","currentSet","paths","pathId","minDist","totalPath","pathsSet","selectedPath","DIR","DOWN","LEFT","UP","RIGHT","turnDirection","vectorize","start","used","matrix","q","area","front","cur","di","direction","getMask","_pos","_start","sy","sx","mask","nDirection","computeTrace","LineUtil","simplify","vectorizeSegmentation","scaling","row","vectors","v","computeVectorized","channels","LabelingApp","reassigning","hotkeysPanel","handleSelected","handleSelectionChange","canvasRef","externalImageUrl","imgData","pushState","labelIdx","figureId","newLabelId","imageInfo","_update5","_this5","imageUrl","reference","popState","forwardedProps","allFigures","__temp","sidebarProps","labelId","hotkeysPanelDOM","toolbarDOM","toolbarStyle","CanvasToolbar_MakePredictionToolbar","preds","CanvasToolbar_PathToolbar","demoBar","demo","fontWeight","Sidebar_Sidebar","label_Canvas","withLoadImageData","LoadImageLayer","componentDidUpdate","Image","resetImage","canvas","getElementById","ctx","getContext","scale","sHeight","sWidth","imageSmoothingQuality","imageSmoothingEnabled","drawImage","imgB64","toDataURL","getImageData","b64Scaling","readyState","addEventListener","crossOrigin","HistoryLayer","flipY","figuresHistory","unfinishedFigureHistory","transformPoints","onLabelChange","stateChange","cb","passedProps","withHistory","PredictionsLayer","_makePrediction","_args","instances","input_bytes","b64","predictions","_ref$det_boxes","det_boxes","y1","x1","y2","x2","modelId","abrupt","raw_image","_componentDidMount","_callee2","newProps","demoMocks","/api/images/getLabelingInfo","points2","_json","demoImg","mzs64divv","lastEdited","projectsId","/api/mlmodels","_json2","/api/mlmodels/1","objectDetectionResponse","/api/mlmodels/2","semanticSegmentationResponse","/api/images/1","LabelingLoader","params","args","goBack","nextImageId","imgIdx","markComplete","pushUpdate","src_label_LabelingApp","OverScreen","NotFound","EnhancedDashboard","ComponentToBeRendered","Authenticate","withAuth","trackPage","page","pageview","Main","components_DataLabeling","components_DamageAnalysis","components_AiConsulting","containers_Demo","containers_ImageVisualizer","component","OverScreen_OverScreen","LabelingLoader_LabelingLoader","LabelHome_LabelHome","containers_AdminApp","components_AuthPage","src_Homepage","components_NotFound","userData","hasOwnProperty","DEFAULT_STATE","rootReducer","combineReducers","store","createStore","compose","applyMiddleware","thunk","devToolsExtension","detectBrowserLanguage","enginJwtToken","jwtDecode","App","initialize","debug","titleCase","es","src_Navbar","containers_Main","Boolean","hostname","ReactDOM","src_App_0","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.211cf9a7.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/white-logo-plus-name-final-01.ae4733f6.svg\";","module.exports = __webpack_public_path__ + \"static/media/burger-icon-01.eef32ba4.svg\";","module.exports = __webpack_public_path__ + \"static/media/cloud-computing-01-01.76a8ebdf.png\";","module.exports = __webpack_public_path__ + \"static/media/ai-process-01-01.a493823f.png\";","module.exports = __webpack_public_path__ + \"static/media/report-vector-01-01.8feec911.png\";","module.exports = __webpack_public_path__ + \"static/media/Creative_process_SVG.002c7f52.svg\";","module.exports = __webpack_public_path__ + \"static/media/pavement-without-ai.d02eafd6.jpg\";","module.exports = __webpack_public_path__ + \"static/media/Data_analysis_SVG.781c725f.svg\";","module.exports = __webpack_public_path__ + \"static/media/City_SVG.1f3498c5.svg\";","module.exports = __webpack_public_path__ + \"static/media/demo.6318aa84.jpg\";","module.exports = __webpack_public_path__ + \"static/media/semantic-segmentation.json.a51c4372.resp\";","module.exports = __webpack_public_path__ + \"static/media/object-detection.json.b776f784.resp\";","module.exports = __webpack_public_path__ + \"static/media/pavement-with-ai.ef770fa6.jpg\";","module.exports = __webpack_public_path__ + \"static/media/Analytics_SVG.eb5c9f14.svg\";","import axios from \"axios\";\r\n\r\nexport function setTokenHeader(token) {\r\n  if (token) {\r\n    axios.defaults.headers.common[\"Authorization\"] = `Bearer ${token}`;\r\n  } else {\r\n    delete axios.defaults.headers.common[\"Authorization\"];\r\n  }\r\n}\r\n\r\nexport function apiCall(method, path, data) {\r\n  //debugger;\r\n  return new Promise((resolve, reject) => {\r\n    return axios[method.toLowerCase()](path, data)\r\n      .then(res => {\r\n        return resolve(res.data);\r\n      })\r\n      .catch(err => {\r\n        return reject(err.response.data.error);\r\n      });\r\n  });\r\n}\r\n\r\n\r\nexport function multipartApiCall(method, path, data) {\r\n  //debugger;\r\n  return new Promise((resolve, reject) => {\r\n    const config = {\r\n        headers: {\r\n            'content-type': 'multipart/form-data'\r\n        }\r\n    }\r\n    return axios[method.toLowerCase()](path, data, config)\r\n      .then(res => {\r\n        return resolve(res.data);\r\n      })\r\n      .catch(err => {\r\n        return reject(err.response.data.error);\r\n      });\r\n  });\r\n}\r\n","export const ADD_ERROR = \"ADD_ERROR\";\r\nexport const REMOVE_ERROR = \"REMOVE_ERROR\";\r\nexport const SET_CURRENT_USER = \"SET_CURRENT_USER\";\r\nexport const UPDATE_USER = \"UPDATE_USER\";\r\nexport const NAV_SELECTION = \"NAV_SELECTION\";\r\nexport const SET_USER_LANGUAGE = \"SET_USER_LANGUAGE\";\r\n","import { ADD_ERROR, REMOVE_ERROR } from \"../actionTypes\";\r\n\r\nexport const addError = error => ({\r\n  type: ADD_ERROR,\r\n  error\r\n});\r\n\r\nexport const removeError = () => ({\r\n  type: REMOVE_ERROR\r\n});\r\n","import { apiCall, setTokenHeader } from \"../../services/api\";\r\nimport { SET_CURRENT_USER } from \"../actionTypes\";\r\nimport { addError, removeError } from \"./errors\";\r\n\r\nexport function setCurrentUser(user) {\r\n  return {\r\n    type: SET_CURRENT_USER,\r\n    user\r\n  };\r\n}\r\n\r\nexport function setAuthorizationToken(token) {\r\n  setTokenHeader(token);\r\n}\r\n\r\nexport function logout() {\r\n  return dispatch => {\r\n    localStorage.clear();\r\n    setAuthorizationToken(false);\r\n    dispatch(setCurrentUser({}));\r\n  };\r\n}\r\n\r\nexport function authUser(type, userData) {\r\n  return dispatch => {\r\n    // wrap our thunk in a promise so we can wait for the API call\r\n    return new Promise((resolve, reject) => {\r\n      return apiCall(\"post\", `${process.env.REACT_APP_PRODUCTION_SERVER_URL}/api/auth/${type}`, userData)\r\n        .then(({ token, ...user }) => {\r\n          localStorage.setItem(\"enginJwtToken\", token);\r\n          setAuthorizationToken(token);\r\n          dispatch(setCurrentUser(user));\r\n          dispatch(removeError());\r\n          resolve(); // indicate that the API call succeeded\r\n        })\r\n        .catch(err => {\r\n          let error = \"Something Went Wrong, Please refresh the page and try again\";\r\n          if(err && err.hasOwnProperty(\"message\")){\r\n            error= err.message;\r\n          }\r\n          dispatch(addError(error));\r\n          reject(); // indicate the API call failed\r\n        });\r\n    });\r\n  };\r\n}\r\n","import React, { Component, Fragment } from 'react';\r\nimport { Menu, Segment, Image, Responsive, Dropdown } from 'semantic-ui-react';\r\nimport Logo from \"./images/white-logo-plus-name-final-01.svg\";\r\nimport Burger from \"./images/burger-icon-01.svg\";\r\nimport './App.css';\r\nimport { HashLink as Link } from 'react-router-hash-link';\r\nimport { disableBodyScroll, clearAllBodyScrollLocks } from 'body-scroll-lock';\r\nimport { withRouter } from \"react-router-dom\";\r\nimport { connect } from \"react-redux\";\r\nimport { logout } from \"./store/actions/auth\";\r\n\r\nclass Navbar extends Component {\r\n  constructor(props){\r\n    super(props);\r\n    this.state = {\r\n        mobileNav : false,\r\n\r\n      }\r\n     \r\n  }\r\n  targetElement = null;\r\n  \r\n\r\n\r\n\r\n   componentDidMount() {\r\n    // 2. Get a target element that you want to persist scrolling for (such as a modal/lightbox/flyout/nav). \r\n    // Specifically, the target element is the one we would like to allow scroll on (NOT a parent of that element).\r\n    // This is also the element to apply the CSS '-webkit-overflow-scrolling: touch;' if desired.\r\n    this.targetElement = document.querySelector('.mobile-overlay');\r\n  }\r\n componentDidUpdate(prevProps) {\r\n    if (this.props.location !== prevProps.location) {\r\n      this.onRouteChanged();\r\n    }\r\n  }\r\n\r\n  onRouteChanged() {\r\n    \r\n    this.setState({mobileNav:false});\r\n    clearAllBodyScrollLocks();\r\n  }\r\n\r\n  navbarOn = ()=>{\r\n    let mobile = this.state.mobileNav;\r\n    //console.log(mobile);\r\n    \r\n    \r\n    this.setState({mobileNav:!mobile});\r\n    mobile = !mobile;\r\n    if(mobile){\r\n      disableBodyScroll(this.targetElement);  \r\n    }else{\r\n      clearAllBodyScrollLocks();\r\n    }\r\n  }\r\n\r\n  onLinkClick = (e)=>{\r\n    // console.log(e.target.name);\r\n    // console.log(\"clicked\");\r\n    // console.log(e);\r\n\r\n    e.preventDefault();\r\n    let l = e.target.name;\r\n    clearAllBodyScrollLocks();  \r\n    this.setState({mobileNav:false});\r\n    this.props.history.push(l);\r\n\r\n\r\n\r\n  }\r\n\r\n  render() {\r\n    const browserLang = this.props.language? this.props.language : \"en\";\r\n    const spanish = browserLang.indexOf(\"es\") > -1;\r\n    const indSpecDropdownOptions = [\r\n      { key: 1, text: 'Pavement Damage Analysis', value: 1, target:\"_self\",href:\"#/pavements-analysis\", className: \"navDropDownItem\" },\r\n    ]\r\n    let mobileNav = this.state.mobileNav;\r\n    let menuOpen = mobileNav? \"open\" : \"closed\";\r\n    let mobileClassname = \"mobile-overlay-closed\";\r\n    let location = this.props.location;\r\n    if(mobileNav){\r\n      mobileClassname = \"mobile-overlay-open\";\r\n    }\r\n    // console.log(location);\r\n    return (\r\n      <Fragment>\r\n        <Responsive {...Responsive.onlyComputer}>\r\n        <Segment className=\"App-nav\" inverted style={{margin:\"0\",position:\"absolute\",\"width\":\"100%\", \"zIndex\":\"100\"}}>\r\n        <Menu inverted secondary>\r\n        <Menu.Item>\r\n        <a href={this.props.currentUser && this.props.currentUser.isAuthenticated? \"/#/dashboard\" : \"/#\" }>\r\n          <Image size=\"small\" alt=\"engin.ai logo\" src={Logo}>\r\n          </Image>\r\n        </a>\r\n        </Menu.Item>         \r\n          <Menu.Menu position='right'>\r\n          <Menu.Item\r\n            name='Data-labeling'\r\n            active={location.pathname === \"/data-labeling\"}\r\n            href=\"#/data-labeling\"\r\n            target=\"_self\"\r\n          >\r\n            {browserLang ===\"en\"? \"Data Labeling\" : \"Etiquetado de Datos\"}\r\n          </Menu.Item>\r\n           <Menu.Item>\r\n            <Dropdown\r\n              item\r\n              text={browserLang ===\"en\"? \"Industry-Specific Solutions\" : \"Soluciones Especializadas\"}\r\n              options={indSpecDropdownOptions}\r\n            />\r\n          </Menu.Item>\r\n          {this.props.currentUser && this.props.currentUser.isAuthenticated?\r\n            (\r\n              <Menu.Item\r\n                name='Logout'\r\n                style={{\r\n                  \"cursor\":\"pointer\"\r\n                }}\r\n                onClick={()=>{\r\n                  this.props.logout()\r\n                  this.props.history.push(\"/\");\r\n                }}               \r\n              >\r\n                {browserLang === \"en\" ? \"Logout\": \"Cerrar Sesión\"}\r\n              </Menu.Item>\r\n              )\r\n              :\r\n            (\r\n              <Menu.Item\r\n                name='Login'\r\n                onClick={()=>{\r\n                  this.props.history.push(\"/signin\");\r\n                }}   \r\n              >\r\n                {browserLang === \"en\" ? \"Login\": \"Iniciar Sesión\"}\r\n              </Menu.Item>\r\n              )\r\n          }\r\n        </Menu.Menu>\r\n        </Menu>\r\n         \r\n      </Segment>\r\n       </Responsive>\r\n       <Responsive {...Responsive.onlyMobile}>\r\n       <div style={{\"overflow\":\"hidden\",\"maxHeight\":\"100vh\",\"zIndex\":\"200\"}}>\r\n         <div className={`mobile-overlay ${mobileClassname}`} style={{\"maxHeight\":\"150vh\"}}></div>\r\n       {mobileNav ? \r\n        <Fragment>\r\n          \r\n        <div style={{\"height\":\"100vh\",\"zIndex\":\"120\", \"position\":\"absolute\",\"width\":\"100%\"}}>\r\n         <Segment className=\"App-nav\" inverted >\r\n        <Menu inverted secondary>\r\n          <Menu.Item>\r\n          \r\n            <Image onClick={this.onLinkClick} name={this.props.currentUser && this.props.currentUser.isAuthenticated? \"/#/dashboard\" : \"/#\" } size=\"small\" src={Logo}>\r\n              \r\n            </Image>\r\n            \r\n            \r\n          </Menu.Item>\r\n          <Menu.Menu position=\"right\">\r\n            <Menu.Item>\r\n               <Image onClick={this.navbarOn} style={{\"width\":\"38px\", \"height\":\"29px\"}} size=\"tiny\" src={Burger}/>\r\n            </Menu.Item>\r\n          </Menu.Menu>\r\n        </Menu>\r\n\r\n        <Menu vertical inverted className=\"menu-item-group\">\r\n          <Menu.Item className={`mobile-menu-item ${menuOpen}`} href=\"#/data-labeling\" >\r\n           {spanish? \"Etiquetado de Datos\":\"Data Labeling\"} \r\n          </Menu.Item>\r\n          <Menu.Item className={`mobile-menu-item ${menuOpen}`} href=\"#/pavements-analysis\" >\r\n            {spanish?\"Análisis de Daños en Pavimentos\":\"Pavement Damage Analysis\"} \r\n          </Menu.Item>\r\n          <Menu.Item className={`mobile-menu-item ${menuOpen}`}>\r\n          <Link to=\"/#contact-us\">\r\n            {spanish? \"Contáctenos\":\"Contact Us\"} \r\n          </Link>\r\n            \r\n          </Menu.Item>\r\n        </Menu>\r\n\r\n        \r\n         \r\n      </Segment>\r\n       </div>\r\n        </Fragment>\r\n        \r\n          : null\r\n       }\r\n       </div>\r\n       \r\n       \r\n        <Segment className=\"App-nav\" inverted style={{margin:\"0\",position:\"absolute\",\"width\":\"100%\",\"zIndex\":\"100\"}}>\r\n        <Menu inverted secondary>\r\n          <Menu.Item>\r\n          <Link to=\"/#\" target=\"_self\">\r\n            <Image size=\"small\" alt=\"engin.ai logo\" src={Logo}>\r\n              \r\n            </Image>\r\n          </Link>\r\n            \r\n            \r\n          </Menu.Item>\r\n          <Menu.Menu position=\"right\">\r\n            <Menu.Item>\r\n               <Image onClick={this.navbarOn} style={{\"width\":\"38px\", \"height\":\"29px\"}} size=\"tiny\" src={Burger}/>\r\n            </Menu.Item>\r\n          </Menu.Menu>\r\n        </Menu>\r\n        \r\n       \r\n      </Segment>\r\n      \r\n\r\n       </Responsive>\r\n      </Fragment>\r\n       \r\n      \r\n    )\r\n  }\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n  return {\r\n    currentUser: state.currentUser,\r\n    errors: state.errors,\r\n    language:state.language\r\n  };\r\n}\r\n\r\n\r\nexport default withRouter( connect(mapStateToProps, {logout})(Navbar));","import { apiCall } from \"../../services/api\";\r\nimport { addError } from \"./errors\";\r\nimport { UPDATE_USER } from \"../actionTypes\";\r\nimport { SET_USER_LANGUAGE } from \"../actionTypes\";\r\n\r\n\r\n//Set user preferred language\r\nexport const setUserLanguage = (lang)=>{\r\n if(!lang){return;}\r\n\r\n  localStorage.setItem(\"language\", lang);\r\n\r\n return {\r\n  type:SET_USER_LANGUAGE,\r\n  language:lang\r\n }\r\n\r\n}\r\n\r\n//updates the current user as a tutor or student\r\nexport const updateCurrentUser = (data)=>{\r\n  if(data){\r\n    return {\r\n      type:UPDATE_USER,\r\n      user:{...data}\r\n    }\r\n  }\r\n  return {};\r\n}\r\n\r\n\r\n//updates current user\r\nexport const updateUser = obj => (dispatch, getState) => {\r\n  //\r\n  //debugger;\r\n  let { currentUser } = getState();\r\n  const id = currentUser.user.id;\r\n  \treturn apiCall(\"put\", `${process.env.REACT_APP_PRODUCTION_SERVER_URL}/api/users/${id}`, obj)\r\n    .then(res => {\r\n      dispatch(updateCurrentUser(res));\r\n    })\r\n    .catch(err => {\r\n      if(err && err.hasOwnProperty(\"message\")){\r\n        addError(err.message)  \r\n      }else{\r\n        addError(err);\r\n      }\r\n      \r\n    });\r\n  \r\n};\r\n","import React from 'react';\r\nimport '../App.css';\r\n\r\nconst DiagonalSpacer = (props)=>{\r\n\tconst tilt = props.tilt || \"tilt-down\";\r\n\tconst bColor = props.background || \"#ffffff\";\r\n\tconst tiltClass =  `extra-border-inner-${tilt}`;\r\n\treturn(\r\n\t<div className=\"border-diagonal\">\r\n\t\t<div className=\"extra-border-outer\">\r\n\t\t\t<div className={tiltClass} style={{\r\n\t\t\t\t\"backgroundColor\":`${bColor}`\r\n\t\t\t}}>\r\n\t\t\t\t\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t</div>);\r\n}\r\nexport default DiagonalSpacer;","import React from \"react\";\r\nimport {Form, Button} from 'semantic-ui-react';\r\nimport '../App.css';\r\nimport ReactGA from 'react-ga';\r\n\r\nclass FormSpreeForm extends React.Component {\r\nconstructor(props){\r\n\t\tsuper(props);\r\n\t\tthis.state = {};\r\n    \r\n\t}\r\n  render() {\r\n    return (\r\n      \r\n        <Form style={{\"display\":\"inline-block\"}} size=\"huge\" action=\"https://formspree.io/engin.ai.solutions@gmail.com\" method=\"POST\">\r\n        \t<Form.Group  widths='equal'>\r\n\t        \t<Form.Field required>\r\n            <label htmlFor=\"email\" style={{display:\"none\"}}>Email</label>\r\n\t        \t\t<Form.Input required id=\"email\" name=\"name\" type=\"email\" placeholder='Email*' />\r\n\t        \t</Form.Field>\r\n        \t\t\r\n      \t\t\t<label htmlFor=\"company_name\" style={{display:\"none\"}}>Company Name</label>\r\n      \t\t\t<Form.Input name=\"name\" id=\"company_name\"  placeholder='Company Name' />\r\n        \t</Form.Group>\r\n        \t<Form.Field required>\r\n              <label htmlFor=\"comments\"  style={{display:\"none\"}}>Comments</label>\r\n\t        \t\t<Form.TextArea rows={10} id=\"comments\" required name=\"name\" placeholder='Comment*' />\r\n\t        \t</Form.Field>\r\n        \t<Button onClick={()=>{\r\n                ReactGA.event({\r\n                  category: 'Lead',\r\n                  action: 'Contact Us Form Start Submission',\r\n                  label: 'Start of Contact Us Submission'\r\n                });\r\n              }} \r\n              size=\"huge\" type=\"submit\" className=\"CTA-2\">Contact Us</Button>\r\n        </Form>\r\n     \r\n    );\r\n  }\r\n}\r\n\r\nexport default FormSpreeForm;","import React, {Fragment} from 'react';\r\nimport { Segment, Button, Icon, Grid, Container, Divider, Image, Embed } from 'semantic-ui-react';\r\nimport './App.css';\r\nimport DiagonalSpacer from \"./components/DiagonalSpacer\";\r\nimport CloudComputing from \"./images/cloud-computing-01-01.png\";\r\nimport AiProcess from \"./images/ai-process-01-01.png\";\r\nimport ReportVector from \"./images/report-vector-01-01.png\";\r\nimport ConsultingImg from \"./images/Creative_process_SVG.svg\";\r\nimport PavementSampleWithout from \"./images/pavement-without-ai.jpg\";\r\nimport PavementSampleWith from \"./images/pavement-with-ai.jpg\";\r\nimport DataAnalysis from \"./images/Data_analysis_SVG.svg\";\r\nimport Analytics from \"./images/Analytics_SVG.svg\";\r\nimport City from \"./images/City_SVG.svg\";\r\nimport BeforeAfterSlider from 'react-before-after-slider'\r\nimport FormSpreeForm from './containers/FormSpreeForm';\r\nimport { HashLink as Link } from 'react-router-hash-link';\r\nimport {Helmet} from \"react-helmet\";\r\nimport ReactGA from 'react-ga';\r\n\r\nconst Homepage = (props)=>{\r\n\tconst browserLang = props.browserLang;\r\n  const {language} = props; \r\n\tconst spanish = language.indexOf(\"es\") > -1;\r\n\treturn (\r\n\t\t<Fragment>\r\n    <Helmet>\r\n      <title>Engin.ai - AI Solutions for Engineers | AI Consulting, data labeling, damage analysis in pavements</title>\r\n      <meta name=\"description\" content=\"At Engin.AI we create custom AI solutions for engineering companies . We offer data labeling services, AI consulting, and pavement analysis with computer vision\" />\r\n      <meta property=\"og:title\" content=\"Engin.AI - AI Solutions for Engineers | Your AI Strategic Partner\"/>\r\n      <meta property=\"og:type\" content=\"website\"/>\r\n      <meta property=\"og:url\" content=\"https://www.engin.ai\"/>\r\n      <meta property=\"og:description\" content=\"At Engin.AI we create custom AI solutions for engineering companies . We offer data labeling services, AI consulting, and pavement analysis with computer vision\"/>\r\n      <meta name=\"keywords\" content=\"engin ai, enginai, engin.ai, ai for engineers, ai consulting,  data labeling services, AI solutions, computer vision, damage analysis in pavements\"/>\r\n      <meta name=\"robots\" content=\"index, follow\"/>\r\n      <meta http-equiv=\"Content-Type\" content=\"text/html; charset=utf-8\"/>\r\n      <meta name=\"language\" content=\"English\"/>\r\n      <meta name=\"author\" content=\"Javier Urbina\"/>\r\n      <meta property=\"og:image\" content=\"%PUBLIC_URL%/full-color-logo-only-01-01.png\" />\r\n    </Helmet>\r\n\t\t\t<header className=\"App-header\">\r\n        \r\n\t\t<Segment basic style={{width:\"70%\",\"zIndex\":\"10\"}}>\r\n\t\t\t<h1 style={{\"textTransform\": \"uppercase\"}}>\r\n\t\t\t{spanish ? (\r\n\t\t\t\t\"Empoderamos su negocio con inteligencia artificial\"\r\n\t\t\t\t):\r\n\t\t\t\t\"Empowering your business with artificial intelligence\"}\r\n\t\t\t\r\n\t\t\t</h1>\r\n\t\t\t<br/>\r\n\t\t\t<br/>\r\n\t\t\t<h2>{spanish ? \r\n\t\t\t\t\"Haga parte de la 4ta revolución industrial con Engin.ai, su aliado estratégico\" : \r\n\t\t\t\t\"Enter the 4th industrial revolution with Engin.ai, your strategic partner\"}</h2>\r\n\t\t\t<br/>\r\n\t\t\t<Link to=\"/#contact-us\">\r\n\t\t\t\t<Button className=\"mainCTABtn\" inverted size=\"huge\" syle={{\"width\":\"50%\"}} onClick={()=>{\r\n          ReactGA.event({\r\n            category: 'Contact Us',\r\n            action: 'Contact Us Main Btn Click',\r\n            label: 'Homepage Main Btn'\r\n          }); \r\n        }} >\r\n\t\t\t\t{spanish?\r\n\t\t\t\t\t<span className=\"buttonText\">Contáctenos</span> \r\n\t\t\t\t\t : \r\n\t\t\t\t\t<span>Contact Us</span>}\r\n\t\t\t\t<span className =\"iconContainer\" style={{\"display\":\"inline-block\", \"width\":\"10px\"}}>\r\n\t\t\t\t\t<Icon name=\"chevron right\">\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t</Icon>\r\n\t\t\t\t</span>\r\n\t\t\t</Button>\r\n\r\n\t\t\t</Link>\r\n\t\t\t\r\n\t\t\t\t\r\n\t\t</Segment>\r\n\r\n      </header>\r\n      <DiagonalSpacer tilt=\"tilt-down\"></DiagonalSpacer>\r\n      <section>\r\n      \r\n        <Container>\r\n          <h1>{spanish? \"Lo que ofrecemos\":\"What we offer\"}</h1>  \r\n          <Grid centered stackable columns={2} divided>\r\n            <Grid.Column style={{\"zIndex\":\"3\"}}>\r\n              <Segment basic>\r\n                <Grid container centered>\r\n                  <Grid.Row>\r\n                    <Image  alt=\"people around a table analyzing data\" className=\"custom-icon\" size=\"small\" src={DataAnalysis}></Image>\r\n                  </Grid.Row>\r\n                  <Grid.Row>\r\n                    <h2>{spanish? \"Etiquetado de datos\":\"Data Labeling\"}</h2>\r\n                  </Grid.Row>\r\n                  <Grid.Row>\r\n                    <Segment compact basic size=\"large\" style={{\"padding\":\"0\"}}>\r\n                      {spanish? \"Los algoritmos de aprendizaje sólo serán tan buenos como los datos usados para entrenarlos. Nosotros le ayudamos con el proceso de etiquetado para que usted sólo se preocupe de entrenar sus modelos.\":\r\n                      \"A learning model will only be as good as the data used to train it. Our expert team will help you label your data so you only need to worry about training and using your model.\"}\r\n                    </Segment>\r\n\r\n                    \r\n                  </Grid.Row>\r\n                  <Grid.Row>\r\n                  \t<Button onClick={()=>{\r\n                        ReactGA.event({\r\n                          category: 'Learn More',\r\n                          action: 'Learn More - Data Labeling',\r\n                          label: 'Homepage Learn More Btn - Data Labeling'\r\n                        }); \r\n                      }}\r\n                      href=\"/#data-labeling\" color=\"green\">{spanish?\"Aprender Más\":\"Learn More\"}</Button>\r\n                  </Grid.Row>\r\n                </Grid>\r\n              </Segment>\r\n\r\n            </Grid.Column>\r\n            \r\n            <Grid.Column style={{\"zIndex\":\"3\"}}>\r\n              <Segment basic>\r\n                 <Grid container centered>\r\n                  <Grid.Row>\r\n                    <Image alt=\"buildings in a city\" className=\"custom-icon\" size=\"small\" src={City}></Image>\r\n                  </Grid.Row>\r\n                  <Grid.Row>\r\n                    <h2>{spanish? \"Análisis de daño de pavimentos\":\"Damage Analysis in Pavements\"}</h2>\r\n                  </Grid.Row>\r\n                  <Grid.Row>\r\n                    <Segment compact basic size=\"large\" style={{\"padding\":\"0\"}}>\r\n                      {spanish? \"¿Tiene fotos de pavimentos para analizar? Con nuestros algoritmos de visión computacional, nosotros podemos analizarlos con gran precisión y en tiempo récord\":\r\n                      \"Do you have photos pavements to analyze? With our computer vision algorithms, we can analyze them with great accuracy and in a record time\"}\r\n                    </Segment>\r\n                    \r\n                  </Grid.Row>\r\n                \t<Grid.Row>\r\n                  \t<Button onClick={()=>{\r\n                        ReactGA.event({\r\n                          category: 'Learn More',\r\n                          action: 'Learn More - Damage Analysis in Pavements',\r\n                          label: 'Homepage Learn More Btn - Damage Analysis in Pavements'\r\n                        }); \r\n                      }} href=\"/#pavements-analysis\" color=\"green\">{spanish?\"Aprender Más\":\"Learn More\"}</Button>\r\n                  </Grid.Row>\r\n                </Grid>\r\n              </Segment>\r\n            </Grid.Column>\r\n\r\n            <Divider></Divider>\r\n            <Divider></Divider>\r\n          </Grid>\r\n        </Container>\r\n       \r\n      </section>\r\n       <DiagonalSpacer background=\"whitesmoke\" tilt=\"tilt-up\"></DiagonalSpacer>\r\n      <section>\r\n        <Grid container stackable columns={2} verticalAlign='middle'>\r\n          <Grid.Column style={{\"zIndex\":\"3\"}}>\r\n              <Embed\r\n                autoplay={true}\r\n                id='RVRfjraqpfc'\r\n                placeholder={PavementSampleWithout}\r\n                source='youtube'\r\n                onClick={()=>{\r\n                  ReactGA.event({\r\n                    category: 'Demo Video',\r\n                    action: 'Video Play',\r\n                    label: 'Homepage Demo Video Play'\r\n                  });\r\n                }}\r\n              />\r\n          </Grid.Column>\r\n          <Grid.Column style={{\"zIndex\":\"3\"}}>\r\n              <h1>{spanish? \"El Programa en Acción\":\"Our Software in Action\"}</h1>\r\n              <Segment basic size=\"massive\" style={{\"lineHeight\":\"1.5\"}}>\r\n                {spanish? \"Usamos algoritmos de visión computacional para analizar y clasificar daños en diversos pavimentos.\":\r\n                \"We use computer vision algorithms to analyze and classify damages in different pavements.\"}\r\n              </Segment>\r\n              <Button onClick={()=>{\r\n                        ReactGA.event({\r\n                          category: 'Learn More',\r\n                          action: 'Learn More - Pavements Analysis',\r\n                          label: 'Homepage Learn More Btn - Pavements Analysis'\r\n                        }); \r\n                      }}\r\n                      className=\"CTA-2\" size=\"huge\" href=\"/#/pavements-analysis\">\r\n                {spanish? \"Aprender más\": \"Learn more\"}\r\n              </Button>\r\n          </Grid.Column>\r\n        </Grid>\r\n      </section>\r\n      <DiagonalSpacer background=\"white\" tilt=\"tilt-up\"></DiagonalSpacer>\r\n      <section className=\"purpleBack\" >\r\n        <Grid container stackable columns={2} verticalAlign='middle'>\r\n          \r\n          <Grid.Column style={{\"zIndex\":\"3\"}}>\r\n              <h1>{spanish? \"Por qué escoger a Engin.ai\":\"Why Choose Engin.ai\"}</h1>\r\n              <Segment basic size=\"massive\" style={{\"lineHeight\":\"1.5\"}}>\r\n                {spanish? \"Tenemos un equipo de profesionales cualificados en diferentes áreas de conocimientos. Esto nos permite trabajar con clientes en diversas industrias, y facilita el desarrollo de soluciones innovadoras para nuestros clientes.\"\r\n                :\r\n                \"We have a qualified team of professionals in diverse areas. This allows us to work with our clients across different industries and enables us to create innovative enterprise solutions for our clients.\"}\r\n              </Segment>\r\n          </Grid.Column>\r\n          <Grid.Column style={{\"zIndex\":\"3\"}}>\r\n         \r\n            <Segment basic>\r\n             <Image alt=\"people around a table with a light bulb in the middle\" src={ConsultingImg}></Image>\r\n            </Segment>\r\n  \r\n          </Grid.Column>\r\n        </Grid>\r\n      </section>\r\n      <DiagonalSpacer background=\"#5a72ff\" tilt=\"tilt-up\"></DiagonalSpacer>\r\n       <section style={{\"background\":\"#5a72ff\"}}>\r\n      \r\n        <Container>\r\n          <h1 style={{\"color\":\"white\"}}>{spanish? \"Cómo Funciona\":\"How it works\"}</h1>  \r\n          <Grid centered stackable columns={3}>\r\n            <Grid.Column style={{\"zIndex\":\"3\"}}>\r\n              <Segment>\r\n                <Grid container centered>\r\n                  <Grid.Row>\r\n                    <Image alt=\"a cloud with a database icon\" className=\"custom-icon\" size=\"tiny\" src={CloudComputing}></Image>\r\n                  </Grid.Row>\r\n                  <Grid.Row>\r\n                    <h2>{spanish? \"Envío\":\"Upload\"}</h2>\r\n                  </Grid.Row>\r\n                  <Grid.Row>\r\n                    <Segment compact basic size=\"large\" style={{\"padding\":\"0\"}}>\r\n                      {spanish? \"Envíanos de forma segura los datos que necesitas analizar.\":\r\n                      \"Send us the data that you need to analyze.\"}\r\n                    </Segment>\r\n                  </Grid.Row>\r\n                </Grid>\r\n              </Segment>\r\n            </Grid.Column>\r\n            <Grid.Column style={{\"zIndex\":\"3\"}}>\r\n              <Segment>\r\n                 <Grid container centered>\r\n                  <Grid.Row>\r\n                    <Image alt=\"a brain merged with a gear\" className=\"custom-icon\" size=\"tiny\" src={AiProcess}></Image>\r\n                  </Grid.Row>\r\n                  <Grid.Row>\r\n                    <h2>{spanish? \"Análisis\":\"Analyze\"}</h2>\r\n                  </Grid.Row>\r\n                  <Grid.Row>\r\n                    <Segment compact basic size=\"large\" style={{\"padding\":\"0\"}}>\r\n                      {spanish? \"Nosotros analizamos los datos con nuestros algoritmos de visión computacional.\":\r\n                      \"We analyze the data using our computer vision algorithms.\"}\r\n                    </Segment>\r\n                  </Grid.Row>\r\n                </Grid>\r\n              </Segment>\r\n            </Grid.Column>\r\n            <Grid.Column style={{\"zIndex\":\"3\"}}>\r\n              <Segment>\r\n                 <Grid container centered>\r\n                  <Grid.Row>\r\n                    <Image alt=\"icon with a report and a checkmark\" className=\"custom-icon\" size=\"tiny\" src={ReportVector}></Image>\r\n                  </Grid.Row>\r\n                  <Grid.Row>\r\n                    <h2>{spanish? \"Reporte\":\"Report\"}</h2>\r\n                  </Grid.Row>\r\n                  <Grid.Row>\r\n                    <Segment compact basic size=\"large\" style={{\"padding\":\"0\"}}>\r\n                      {spanish? \"Recibe un reporte con el insight que necesitas para tomar decisiones informadas.\":\r\n                      \"Receive a report with the insight that you need to make informed decisions.\"}\r\n                    </Segment>\r\n                  </Grid.Row>\r\n                </Grid>\r\n              </Segment>\r\n            </Grid.Column>\r\n          </Grid>\r\n        </Container>\r\n       \r\n      </section>\r\n      <DiagonalSpacer background=\"white\" tilt=\"tilt-down\"></DiagonalSpacer>\r\n      <section className=\"announcement-section\" id=\"announcements\">\r\n          <Grid.Row centered>\r\n            <h1>{spanish? \"Finalistas Fase 1 en Competencia Mundial de Inteligencia Artificial\": \"Phase 1 Finalists in Worldwide AI Competition\"}</h1>\r\n          </Grid.Row>\r\n          <Grid container stackable columns={2} verticalAlign='middle'>\r\n          \r\n          <Grid.Column style={{\"zIndex\":\"3\"}}>\r\n              <h1>{spanish? \"OpenCV AI Competition\":\"OpenCV AI Competition\"}</h1>\r\n              <Segment basic size=\"massive\" style={{\"lineHeight\":\"1.5\"}}>\r\n                {spanish?\r\n                  <Fragment>\r\n                    <p>\r\n                      Nuestro producto, RoadEngin, ha sido seleccionado como finalista en la Fase 1 de la competencia mundial de OpenCV. ¡Con este producto esperamos revolucionar la industria de Ingeniería de Pavimentos!\r\n                    </p>\r\n                    <p>\r\n                      ¡Síganos en <a href=\"https://www.linkedin.com/company/engin-ai\">LinkedIn</a> para mantenerse al tanto de nuestro producto!  Para más información sobre la competencia, visite  \r\n                      <a style={{\"paddingLeft\":\"10px\"}} href=\"https://opencv.org/opencv-ai-competition-2021/\">{spanish? \"la página oficial de la competencia\":\"the official competition page\"}</a>                  \r\n                    </p>\r\n                  </Fragment> \r\n                :\r\n                <Fragment>\r\n                  <p>\r\n                    Our product, RoadEngin, has been selected as a Phase 1 finalist in the Worldwide competition hosted by OpenCV. Our goal is to revolutionize the Road Survey industry with this product! \r\n                  </p>\r\n                  <p>\r\n                    Follow us in <a href=\"https://www.linkedin.com/company/engin-ai\">LinkedIn</a> for more updates! For more information about the competition, see  \r\n                    <a style={{\"paddingLeft\":\"10px\"}} href=\"https://opencv.org/opencv-ai-competition-2021/\">{spanish? \"la página oficial de la competencia\":\"the official competition page\"}</a>                  \r\n                  </p>\r\n                </Fragment>\r\n\r\n                  }\r\n              </Segment>\r\n          </Grid.Column>\r\n          <Grid.Column style={{\"zIndex\":\"3\"}}>\r\n         \r\n            <Segment basic>\r\n             <Image alt=\"people around a table with a light bulb in the middle\" src=\"https://opencv.org/wp-content/uploads/2021/03/OAK2021-5-@2x.png\"></Image>\r\n            </Segment>\r\n  \r\n          </Grid.Column>\r\n        </Grid>\r\n      </section>\r\n      <DiagonalSpacer background=\"white\" tilt=\"tilt-down\"></DiagonalSpacer>\r\n      <section className=\"cta-section\" id=\"contact-us\">\r\n      <Grid.Row centered>\r\n        <h1>{spanish? \"Entre a la era AI con Engin.ai\": \"Enter the AI era with Engin.ai\"}</h1>\r\n      </Grid.Row>\r\n      <Grid.Row centered>\r\n        <p>{spanish? \"Permítanos ayudarle a automatizar tareas para que usted pueda enfocarse en lo que sabe hacer mejor.\": \r\n        \"We can help you automate tasks so you can focus on doing what you do best.\"}</p>\r\n      </Grid.Row>\r\n      <Divider></Divider>\r\n      <Grid.Row centered>\r\n      <Container textAlign=\"center\">\r\n      \t\r\n      \t\t<FormSpreeForm style={{\"display\":\"inline-block\"}}></FormSpreeForm>\r\n      \t\r\n      </Container>\r\n      \t\r\n      \t\t\r\n            \t\r\n      </Grid.Row>\r\n       \r\n      </section>\r\n\t\t</Fragment>\r\n\t\t\r\n\t\t);\r\n\r\n}\r\n\r\n\r\nexport default Homepage;","import React  from 'react';\r\nimport { Segment, Button, Icon, Grid, Form, TextArea, Input } from 'semantic-ui-react';\r\nimport '../App.css';\r\nimport { HashLink as Link } from 'react-router-hash-link';\r\nimport {Helmet} from \"react-helmet\";\r\n\r\nconst DataLabeling = (props)=>{\r\n\tconst browserLang = props.browserLang;\r\n\tconst spanish = browserLang.indexOf(\"es\") > -1;\r\n\tconst imgUrl = \"images/background-image-hero.jpg\";\r\n\tlet backgroundImg = `linear-gradient(45deg, rgba(0, 26, 255, 0.7) 1%, rgb(99, 97, 238) 30%, rgb(119, 99, 213) 69%, rgb(161, 103, 161) 100%),url(${imgUrl})`;\r\n\treturn(\r\n\t\t\r\n\t\t<header className=\"App-hero\" style={{\r\n\t\t\t\"minHeight\":\"100vh\",\r\n\t\t\t\"backgroundImage\":backgroundImg,\r\n\t\t\t\"color\":\"white\"\r\n\t\t}}>\r\n        <Helmet>\r\n\t\t\t<title>\r\n\t\t\t\tEngin.AI - Data Labeling Services\r\n\t\t\t</title>\r\n\t\t\t<meta name=\"description\" content=\"A learning model will only be as good as the data used to train it. Our expert team will help you label your data so you only need to worry about training and using your models\" />\r\n\t\t    <meta property=\"og:title\" content=\"Engin.AI - Data Labeling Services For AI\"/>\r\n\t\t    <meta property=\"og:type\" content=\"website\"/>\r\n\t\t    <meta property=\"og:url\" content=\"https://www.engin.ai\"/>\r\n\t\t    <meta property=\"og:description\" content=\"A learning model will only be as good as the data used to train it. Our expert team will help you label your data so you only need to worry about training and using your models\"/>\r\n\t\t    <meta name=\"keywords\" content=\"engin ai, enginai, engin.ai, data labeling services, AI solutions, computer vision, damage analysis in pavements\"/>\r\n\t\t    <meta name=\"robots\" content=\"index, follow\"/>\r\n\t\t    <meta http-equiv=\"Content-Type\" content=\"text/html; charset=utf-8\"/>\r\n\t\t    <meta name=\"language\" content=\"English\"/>\r\n\t\t    <meta name=\"author\" content=\"Javier Urbina\"/>\r\n\t\t    <meta property=\"og:image\" content=\"%PUBLIC_URL%/full-color-logo-only-01-01.png\" />\r\n\t\t</Helmet>\r\n\t\t<Segment basic style={{width:\"70%\",\"zIndex\":\"10\"}} className=\"cta-hero-section\">\r\n\t\t<Grid stackable>\r\n\t\t\t<Grid.Row columns={2}>\r\n\t\t\t\t<Grid.Column style={{\"textAlign\":\"left\"}}>\r\n\t\t\t\t\t<h1 style={{\"textTransform\": \"uppercase\"}}>\r\n\t\t\t{spanish ? (\r\n\t\t\t\t\"Etiquetado de Datos\"\r\n\t\t\t\t):\r\n\t\t\t\t\"Data labeling\"}\r\n\t\t\t\r\n\t\t\t</h1>\r\n\t\t\t<br/>\r\n\t\t\t<br/>\r\n\t\t\t<h2 style={{\"lineHeight\":\"1.5\"}}>{spanish ? \r\n\t\t\t\t\"Los algoritmos de aprendizaje sólo serán tan buenos como los datos usados para entrenarlos. Nosotros le ayudamos con el proceso de etiquetado para que usted sólo se preocupe de entrenar sus modelos.\" : \r\n\t\t\t\t\"A learning model will only be as good as the data used to train it. Our expert team will help you label your data so you only need to worry about training and using your models.\"}</h2>\r\n\t\t\t<br/>\r\n\t\t\r\n\t\t\t\r\n\t\t\t\t</Grid.Column>\r\n\t\t\t\t<Grid.Column>\r\n\t\t\t\t\t<Segment>\r\n\t\t\t\t\t\t<Form action=\"https://formspree.io/engin.ai.solutions@gmail.com\" method=\"POST\" style={{\"color\":\"black\"}}>\r\n\t\t\t\t\t\t\t<h2>\r\n\t\t\t\t\t\t\t\t{spanish? \"Contáctenos para Hacer un Demo\"\r\n\t\t\t\t\t\t\t\t\t:\r\n\t\t\t\t\t\t\t\t\t\"Request a Demo\"\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t</h2>\r\n\t\t\t\t\t\t\t<Segment basic style={{\"textAlign\":\"left\"}}>\r\n\t\t\t\t\t\t\t<Form.Field>\r\n\t\t\t\t\t\t\t\t<label htmlFor=\"user_name\">Name</label>\t\r\n\t\t\t\t\t\t\t\t<Input name=\"name\" id=\"user_name\" placeholder=\"John Doe\">\r\n\t\t\t\t\t\t\t\t</Input>\r\n\t\t\t\t\t\t\t</Form.Field>\r\n\t\t\t\t\t\t\t<Form.Field required>\r\n\t\t\t\t\t\t\t\t<label htmlFor=\"email\">Email</label>\t\r\n\t\t\t\t\t\t\t\t<Input required name=\"name\" id=\"email\" placeholder=\"jdoe@example.com\">\r\n\t\t\t\t\t\t\t\t</Input>\r\n\t\t\t\t\t\t\t</Form.Field>\r\n\t\t\t\t\t\t\t<Form.Field>\r\n\t\t\t\t\t\t\t\t<label htmlFor=\"company\">Company</label>\t\r\n\t\t\t\t\t\t\t\t<Input name=\"name\" id=\"company\" placeholder=\"My Business\">\r\n\t\t\t\t\t\t\t\t</Input>\r\n\t\t\t\t\t\t\t</Form.Field>\r\n\t\t\t\t\t\t\t<Form.Field>\r\n\t\t\t\t\t\t\t\t<label htmlFor=\"comment\">Comment</label>\t\r\n\t\t\t\t\t\t\t\t<TextArea name=\"name\" id=\"comment\">\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t</TextArea>\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t</Form.Field>\r\n\t\t\t\t\t\t\t</Segment>\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t<Button type=\"submit\" color=\"red\" size=\"huge\" syle={{\"width\":\"50%\"}} >\r\n\t\t\t\t\t\t\t\t{spanish?\r\n\t\t\t\t\t\t\t\t\t<span className=\"buttonText\">Contáctenos</span> \r\n\t\t\t\t\t\t\t\t\t : \r\n\t\t\t\t\t\t\t\t\t<span>Contact Us</span>}\r\n\t\t\t\t\t\t\t\t<span className =\"iconContainer\" style={{\"display\":\"inline-block\", \"width\":\"10px\"}}>\r\n\t\t\t\t\t\t\t\t\t<Icon name=\"chevron right\">\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t</Icon>\r\n\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t</Form>\r\n\t\t\t\t\t</Segment>\r\n\t\t\t\t</Grid.Column>\r\n\t\t\t</Grid.Row>\r\n\t\t</Grid>\r\n\t\t\t\r\n\t\t\t\t\t<Link to=\"/#contact-us\">\r\n\t\t\t\t\r\n\r\n\t\t\t</Link>\r\n\t\t</Segment>\r\n\r\n      </header>\r\n\t\t);\t\r\n} \r\n\r\nexport default DataLabeling;","import React, { Component } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport { Form, Message } from 'semantic-ui-react';\r\nimport ReactGA from 'react-ga';\r\n\r\nclass AuthForm extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      email: \"\",\r\n      password: \"\",\r\n      profileImageUrl: \"\",\r\n      f_name:\"\",\r\n      l_name:\"\",\r\n      password_confirm:\"\",\r\n      error:false,\r\n      errorMsg:\"\",\r\n      agreedToTerms:false,\r\n      a_password:\"\",\r\n      company:\"\"\r\n    };\r\n    this.onCheckboxSelect = this.onCheckboxSelect.bind(this);\r\n  }\r\n\r\n\r\n  handleSubmit = e => {\r\n    e.preventDefault();\r\n    const authType = this.props.signUp ? \"signup\" : \"signin\";\r\n    if(this.props.signUp){\r\n      if(this.state.password !== this.state.password_confirm){\r\n        this.setState({error: true, errorMsg:\"Your passwords don't match. Try again\"});\r\n        return;\r\n      }\r\n      e.target.reset();\r\n    }\r\n    if(this.state.a_password !== \"\"){\r\n      ReactGA.event({\r\n                 category: 'Fake Sign Up',\r\n                 action: 'Captcha triggered'\r\n                }); \r\n      this.setState({error: true, errorMsg:\"Your sign up is suspicious. Please try again later\"});\r\n      return;\r\n    }\r\n    if(authType === \"signup\"){\r\n    this.props\r\n      .onAuth(authType, {\r\n        email:this.state.email.toLowerCase(),\r\n        password:this.state.password,\r\n        f_name:this.state.f_name,\r\n        l_name: this.state.l_name,\r\n        profileImageUrl: this.state.profileImageUrl\r\n        })\r\n      .then(() => {\r\n        ReactGA.event({\r\n                 category: 'Sign Up',\r\n                 action: 'User Signed Up'\r\n                }); \r\n        this.props.history.push(\"/\");\r\n      })\r\n      .catch(() => {\r\n        return;\r\n      });\r\n    }else if(authType === \"signin\"){\r\n     this.props\r\n      .onAuth(authType, {\r\n        email:this.state.email.toLowerCase(),\r\n        password:this.state.password\r\n        })\r\n      .then(() => {\r\n        ReactGA.event({\r\n                 category: 'Sign In',\r\n                 action: 'User Signed In'\r\n                }); \r\n        this.props.history.push(\"/dashboard\");\r\n        \r\n      })\r\n      .catch(() => {\r\n        return;\r\n      });\r\n    }\r\n\r\n\r\n  };\r\n\r\n  handleChange = e => {\r\n    this.setState({ [e.target.name]: e.target.value.trim() });\r\n  };\r\n   onCheckboxSelect(){\r\n    this.setState({\r\n      agreedToTerms: !this.state.agreedToTerms\r\n    });\r\n  }\r\n\r\n  \r\n\r\n  render() {\r\n    const { email, password, f_name, l_name , password_confirm, a_password} = this.state;\r\n    const {\r\n      signUp,\r\n      heading,\r\n      buttonText,\r\n      errors,\r\n      history,\r\n      removeError\r\n    } = this.props;\r\n    let pageLang = this.props.language;\r\n    history.listen(() => {\r\n      removeError();\r\n    });\r\n    const removeAdditionalField = this.props.removeAdditionalField ? this.props.removeAdditionalField  : false;\r\n    const customWidth = this.props.customWidth ? this.props.customWidth : \"50%\";\r\n    return (\r\n      <div>\r\n        <div className=\"section\">\r\n    <div className=\"ui container\">\r\n        \r\n        <div className=\"ui one column centered grid\">\r\n        <div className=\"row\">\r\n            <div className=\"ui segments\" id=\"authform\" style={{\"width\": customWidth}}>\r\n             <div className=\"ui segment\">\r\n                 <h1>{heading}</h1> \r\n                  {errors.message && (\r\n                  <Message \r\n                  error\r\n                  content={errors.message}/>) }\r\n                  {this.state.error && this.state.errorMsg !== \"\" && (\r\n                  <Message \r\n                  error\r\n                  content={this.state.errorMsg}/>) }\r\n             </div>\r\n               <div className=\"ui left aligned segment\">\r\n                    <div className=\"ui form registerForm\">\r\n          <Form error={this.state.error} onSubmit={this.handleSubmit}>\r\n          <div style={{\"display\":\"none\"}}>\r\n            <Form.Input\r\n                      style={{\"display\":\"none\"}}\r\n                      required={false}\r\n                      alt = \"Please leave this field empty\"\r\n                      tabIndex=\"-1\"\r\n                      autoComplete=\"somepassword\"\r\n                      id=\"a_password\"\r\n                      name=\"a_password\"\r\n                      onChange={this.handleChange}\r\n                      value={a_password}\r\n                      placeholder=\"**********\"\r\n                   />\r\n          </div>\r\n          {signUp && (\r\n               <div className=\"required field\">\r\n                   <Form.Input\r\n                      required={true}\r\n                      label= {pageLang === \"en\" ? \"First Name\" : \"Nombre\"} \r\n                      autoComplete=\"off\"\r\n                      id=\"f_name\"\r\n                      name=\"f_name\"\r\n                      onChange={this.handleChange}\r\n                      type=\"text\"\r\n                      value={f_name}\r\n                      placeholder=\"John\"\r\n                   />\r\n                    <div className=\"required field\">\r\n                  <Form.Input\r\n                      required={true}\r\n                      label= {pageLang === \"en\" ?  \"Last Name\": \"Apellido\"} \r\n                      autoComplete=\"off\"\r\n                      id=\"l_name\"\r\n                      name=\"l_name\"\r\n                      onChange={this.handleChange}\r\n                      type=\"text\"\r\n                      value={l_name}\r\n                      placeholder=\"Doe\"\r\n                   />\r\n          </div>\r\n          </div>\r\n            ) }\r\n         \r\n         \r\n          <div className=\"required field\">\r\n              <Form.Input\r\n                      required={true}\r\n                      label= \"Email\" \r\n                      autoComplete=\"off\"\r\n                      id=\"email\"\r\n                      name=\"email\"\r\n                      onChange={this.handleChange}\r\n                      type=\"email\"\r\n                      value={email}\r\n                      placeholder=\"johndoe@engin-ai.com\"\r\n                   />\r\n          </div>\r\n          <div className=\"required field\">  \r\n            <Form.Input\r\n                      required={true}\r\n                      label= {pageLang === \"en\" ? \"Password\" : \"Contraseña\"} \r\n                      autoComplete=\"off\"\r\n                      id=\"password\"\r\n                      name=\"password\"\r\n                      onChange={this.handleChange}\r\n                      type=\"password\"\r\n                      value={password}\r\n                      placeholder=\"**********\"\r\n                   />\r\n          </div>\r\n          {/*!signUp && (\r\n            <p><a href=\"/recover\">{pageLang === \"en\" ? \"Forgot your password?\" : \"¿Olvidaste tu contraseña?\"}</a></p>\r\n            )*/}\r\n          {signUp && (\r\n            <div className=\"required field\">  \r\n            <Form.Input\r\n                      required={true}\r\n                      label= {pageLang === \"en\"? \"Confirm password\" : \"Confirma la Contraseña\"} \r\n                      autoComplete=\"off\"\r\n                      id=\"password_confirm\"\r\n                      name=\"password_confirm\"\r\n                      onChange={this.handleChange}\r\n                      type=\"password\"\r\n                      value={password_confirm}\r\n                      placeholder=\"**********\"\r\n                   />\r\n          </div>\r\n            )}\r\n          {signUp && (\r\n            <Form.Field required>\r\n              <div className= \"ui checkbox\">\r\n                  <input checked={this.state.agreedToTerms} onChange={this.onCheckboxSelect} required type=\"checkbox\" name=\"agree\"/> \r\n                <label>\r\n                  <span>\r\n                    {pageLang === \"en\" ? \"I accept the\": \"Acepto los\"} <a href=\"/terms-of-use\">{pageLang === \"en\"? \"Terms and Conditions\" : \"Términos y Condiciones\"}</a> {pageLang=== \"en\" ? \"and the\":\"y la\"} <a href=\"/privacy-policy\">{pageLang === \"en\"? \"Privacy Policy\" : \"Política de Privacidad\"}</a>  \r\n                  </span>\r\n                </label> \r\n            </div>\r\n            </Form.Field>\r\n            )}\r\n\r\n          <button disabled={signUp ? (!this.state.agreedToTerms || this.state.email === \"\" || this.state.password === \"\" || this.state.f_name === \"\" || this.state.l_name === \"\") : (this.state.email === \"\" || this.state.password === \"\")} className=\"ui red large fluid button\" type=\"submit\">{buttonText}</button>\r\n         {signUp && (\r\n                <Message \r\n                  error\r\n                  content={pageLang === \"en\"? \"Passwords do not match\" : \"Las contraseñas no son iguales\"}\r\n                  />)}\r\n          </Form>\r\n                </div>\r\n                </div> \r\n                 </div>\r\n        </div>\r\n        {!removeAdditionalField && (\r\n          <div className=\"row\">\r\n                   <div className=\"ui segment\">\r\n                    {signUp ? (pageLang === \"en\" ? \"Already have an account?\" : \"¿Ya tienes una cuenta?\") : (pageLang === \"en\"? \"Not a member yet? Create a free account\" : \"Crea una cuenta gratuita\")}  <a href={signUp? \"/signin\" : \"/signup\" }>{signUp? (pageLang === \"en\" ? \"Sign In\" : \"Ingresa\") : (pageLang === \"en\" ? \"here\" : \"aquí\")}</a>.\r\n                 </div>    \r\n            </div>\r\n          )\r\n                           \r\n        }\r\n\r\n      \r\n        </div>\r\n        \r\n        \r\n    </div>\r\n   \r\n</div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\nAuthForm.propTypes = {\r\n  buttonText: PropTypes.string,\r\n  errors: PropTypes.object,\r\n  heading: PropTypes.string,\r\n  history: PropTypes.object,\r\n  onAuth: PropTypes.func,\r\n  signIn: PropTypes.bool,\r\n  removeError: PropTypes.func\r\n};\r\n\r\nexport default AuthForm;\r\n","import React, {Fragment} from 'react';\r\nimport AuthForm from \"./AuthForm\";\r\nimport {Container} from 'semantic-ui-react';\r\n\r\nconst AuthPage = (props)=>{\r\n\tconst browserLang = props.browserLang;\r\n\tconst signUp = props.signUp? props.signUp : false;\r\n\tconst imgUrl = \"images/background-image-hero.jpg\";\r\n\tlet backgroundImg = `linear-gradient(45deg, rgb(108, 16, 204) 1%, rgb(126, 81, 177) 30%, rgb(162, 98, 153) 69%, rgba(220, 40, 55, 0.7) 100%),url(${imgUrl})`;\r\n\tconst removeAdditionalField = props.removeAdditionalField ? props.removeAdditionalField  : false;\r\n\tconst heading = props.heading ? props.heading  : \"\";\r\n    const buttonText = props.buttonText ?props.buttonText : \"Signin\"; \r\n    const removeError = props.removeError ? props.removeError : ()=> console.log(\"remove error\");\r\n    const onAuth = props.onAuth ? props.onAuth : ()=> console.log(\"error\");\r\n    const errors = props.errors ? props.errors : null;\r\n\treturn(\r\n\t\t<div style={{\"background\":\"whitesmoke\",\"height\":\"100vh\"}}>\r\n\t\t\t<header className=\"App-hero\" style={{\r\n\t\t          \"minHeight\":\"75px\",\r\n\t\t          \"backgroundImage\":backgroundImg,\r\n\t\t          \"color\":\"white\"\r\n\t\t        }}>\r\n\t\t\t</header>\r\n\t\t\t<Container style={{\"paddingTop\":\"50px\"}}>\r\n\t\t\t\t<AuthForm onAuth={onAuth} removeAdditionalField={removeAdditionalField}  errors={errors} removeError={removeError} heading={heading} buttonText={buttonText} signUp={signUp}{...props}></AuthForm>\r\n\t\t\t</Container>\r\n\t\t</div>\r\n\t\t);\t\r\n}; \r\n\r\nexport default AuthPage;","import React from 'react';\r\nimport { Segment, Button, Icon, Grid, Form, TextArea, Input } from 'semantic-ui-react';\r\nimport '../App.css';import { HashLink as Link } from 'react-router-hash-link';\r\nimport {Helmet} from \"react-helmet\";\r\n\r\nconst DamageAnalysis = (props)=>{\r\n\tconst browserLang = props.browserLang;\r\n\tconst spanish = browserLang.indexOf(\"es\") > -1;\r\n\tconst imgUrl = \"images/background-image-hero.jpg\";\r\n\tlet backgroundImg = `linear-gradient(45deg, rgb(229, 44, 78) 1%, rgb(233, 74, 99) 30%, rgb(174, 82, 157) 69%, rgb(154, 85, 177) 100%),url(${imgUrl})`;\r\n\treturn(\r\n\t\t<header className=\"App-hero\" style={{\r\n\t\t\t\"minHeight\":\"100vh\",\r\n\t\t\t\"backgroundImage\":backgroundImg,\r\n\t\t\t\"color\":\"white\"\r\n\t\t}}>\r\n         <Helmet>\r\n\t\t\t<title>\r\n\t\t\t\tEngin.AI - Pavement Damage Analysis |Pavement Inspection and Auditing\r\n\t\t\t</title>\r\n\t\t\t<meta name=\"description\" content=\"Save money and increase accuracy of your pavement inspections using our AI -powered software to detect damages in pavement and its different categories.\" />\r\n\t\t    <meta property=\"og:title\" content=\"Engin.AI - AI Consulting | Data Strategy | AI Strategy\"/>\r\n\t\t    <meta property=\"og:type\" content=\"website\"/>\r\n\t\t    <meta property=\"og:url\" content=\"https://www.engin.ai\"/>\r\n\t\t    <meta property=\"og:description\" content=\"Save money and increase accuracy of your pavement inspections using our AI -powered software to detect damages in pavement and its different categories.\"/>\r\n\t\t    <meta name=\"keywords\" content=\"engin ai, enginai, engin.ai, AI for civil engineering, computer vision, pavement inspection, pavement inspection with ai, pavement inspection machine learning\"/>\r\n\t\t    <meta name=\"robots\" content=\"index, follow\"/>\r\n\t\t    <meta http-equiv=\"Content-Type\" content=\"text/html; charset=utf-8\"/>\r\n\t\t    <meta name=\"language\" content=\"English\"/>\r\n\t\t    <meta name=\"author\" content=\"Javier Urbina\"/>\r\n\t\t    <meta property=\"og:image\" content=\"%PUBLIC_URL%/full-color-logo-only-01-01.png\" />\r\n\t\t</Helmet>\r\n\t\t<Segment basic style={{width:\"70%\",\"zIndex\":\"10\"}} className=\"cta-hero-section\">\r\n\t\t<Grid stackable>\r\n\t\t\t<Grid.Row columns={2}>\r\n\t\t\t\t<Grid.Column style={{\"textAlign\":\"left\"}}>\r\n\t\t\t\t\t<h1 style={{\"textTransform\": \"uppercase\"}}>\r\n\t\t\t{spanish ? (\r\n\t\t\t\t\"Análisis de Daños en Pavimentos\"\r\n\t\t\t\t):\r\n\t\t\t\t\"Analysis of Pavement Damage\"}\r\n\t\t\t\r\n\t\t\t</h1>\r\n\t\t\t<br/>\r\n\t\t\t<br/>\r\n\t\t\t<h2 style={{\"lineHeight\":\"1.5\"}}>{spanish ? \r\n\t\t\t\t\"¿Tiene fotos de pavimentos para analizar? Con nuestros algoritmos de visión computacional, nosotros podemos analizarlos con gran precisión y a un tiempo récord en tiempo récord.\" : \r\n\t\t\t\t\"Do you have photos pavements to analyze? With our computer vision algorithms, we can analyze them with great accuracy and in a record time.\"}</h2>\r\n\t\t\t<br/>\r\n\t\t\r\n\t\t\t\r\n\t\t\t\t</Grid.Column>\r\n\t\t\t\t<Grid.Column>\r\n\t\t\t\t\t<Segment>\r\n\t\t\t\t\t\t<Form action=\"https://formspree.io/engin.ai.solutions@gmail.com\" method=\"POST\" style={{\"color\":\"black\"}}>\r\n\t\t\t\t\t\t\t<h2>\r\n\t\t\t\t\t\t\t\t{spanish? \"Contáctenos para Hacer un Demo\"\r\n\t\t\t\t\t\t\t\t\t:\r\n\t\t\t\t\t\t\t\t\t\"Request a Demo\"\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t</h2>\r\n\t\t\t\t\t\t\t<Segment basic style={{\"textAlign\":\"left\"}}>\r\n\t\t\t\t\t\t\t<Form.Field>\r\n\t\t\t\t\t\t\t\t<label htmlFor=\"user_name\">Name</label>\t\r\n\t\t\t\t\t\t\t\t<Input name=\"name\" id=\"user_name\" placeholder=\"John Doe\">\r\n\t\t\t\t\t\t\t\t</Input>\r\n\t\t\t\t\t\t\t</Form.Field>\r\n\t\t\t\t\t\t\t<Form.Field>\r\n\t\t\t\t\t\t\t\t<label htmlFor=\"email\">Email</label>\t\r\n\t\t\t\t\t\t\t\t<Input required name=\"name\" id=\"email\" placeholder=\"jdoe@example.com\">\r\n\t\t\t\t\t\t\t\t</Input>\r\n\t\t\t\t\t\t\t</Form.Field>\r\n\t\t\t\t\t\t\t<Form.Field>\r\n\t\t\t\t\t\t\t\t<label htmlFor=\"company\">Company</label>\t\r\n\t\t\t\t\t\t\t\t<Input name=\"name\" id=\"company\" placeholder=\"My Business\">\r\n\t\t\t\t\t\t\t\t</Input>\r\n\t\t\t\t\t\t\t</Form.Field>\r\n\t\t\t\t\t\t\t<Form.Field>\r\n\t\t\t\t\t\t\t\t<label htmlFor=\"comment\">Comment</label>\t\r\n\t\t\t\t\t\t\t\t<TextArea name=\"name\" id=\"comment\">\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t</TextArea>\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t</Form.Field>\r\n\t\t\t\t\t\t\t</Segment>\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t<Button type=\"submit\" color=\"red\" size=\"huge\" syle={{\"width\":\"50%\"}} >\r\n\t\t\t\t\t\t\t\t{spanish?\r\n\t\t\t\t\t\t\t\t\t<span className=\"buttonText\">Contáctenos</span> \r\n\t\t\t\t\t\t\t\t\t : \r\n\t\t\t\t\t\t\t\t\t<span>Contact Us</span>}\r\n\t\t\t\t\t\t\t\t<span className =\"iconContainer\" style={{\"display\":\"inline-block\", \"width\":\"10px\"}}>\r\n\t\t\t\t\t\t\t\t\t<Icon name=\"chevron right\">\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t</Icon>\r\n\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t</Form>\r\n\t\t\t\t\t</Segment>\r\n\t\t\t\t</Grid.Column>\r\n\t\t\t</Grid.Row>\r\n\t\t</Grid>\r\n\t\t\t\r\n\t\t\t\t\t<Link to=\"/#contact-us\">\r\n\t\t\t\t\r\n\r\n\t\t\t</Link>\r\n\t\t</Segment>\r\n\r\n      </header>\r\n\t\t);\t\r\n} \r\n\r\nexport default DamageAnalysis;","import React from 'react';\r\nimport { Segment, Button, Icon, Grid, Form, TextArea, Input } from 'semantic-ui-react';\r\nimport '../App.css';import { HashLink as Link } from 'react-router-hash-link';\r\nimport {Helmet} from \"react-helmet\";\r\n\r\nconst AiConsulting = (props)=>{\r\n\tconst browserLang = props.browserLang;\r\n\tconst spanish = browserLang.indexOf(\"es\") > -1;\r\n\tconst imgUrl = \"images/background-image-hero.jpg\";\r\n\tlet backgroundImg = `linear-gradient(45deg, rgb(108, 16, 204) 1%, rgb(126, 81, 177) 30%, rgb(162, 98, 153) 69%, rgba(220, 40, 55, 0.7) 100%),url(${imgUrl})`;\r\n\treturn(\r\n\t\t<header className=\"App-hero\" style={{\r\n\t\t\t\"minHeight\":\"100vh\",\r\n\t\t\t\"backgroundImage\":backgroundImg,\r\n\t\t\t\"color\":\"white\"\r\n\t\t}}>\r\n         <Helmet>\r\n\t\t\t<title>\r\n\t\t\t\tEngin.AI - AI Consulting Services\r\n\t\t\t</title>\r\n\t\t\t<meta name=\"description\" content=\"At Engin.AI we help clients at all levels of AI adoption. We provide consulting in data collection strategy, data curation, AI strategy, AI implementation and deployment\" />\r\n\t\t    <meta property=\"og:title\" content=\"Engin.AI - AI Consulting | Data Strategy | AI Strategy\"/>\r\n\t\t    <meta property=\"og:type\" content=\"website\"/>\r\n\t\t    <meta property=\"og:url\" content=\"https://www.engin.ai\"/>\r\n\t\t    <meta property=\"og:description\" content=\"At Engin.AI we help clients at all levels of AI adoption. We provide consulting in data collection strategy, data curation, AI strategy, AI implementation and deployment\"/>\r\n\t\t    <meta name=\"keywords\" content=\"engin ai, enginai, engin.ai, AI consulting services, AI solutions, computer vision, deep learning, data collection, data strategy, ai strategy, ai deployment\"/>\r\n\t\t    <meta name=\"robots\" content=\"index, follow\"/>\r\n\t\t    <meta http-equiv=\"Content-Type\" content=\"text/html; charset=utf-8\"/>\r\n\t\t    <meta name=\"language\" content=\"English\"/>\r\n\t\t    <meta name=\"author\" content=\"Javier Urbina\"/>\r\n\t\t    <meta property=\"og:image\" content=\"%PUBLIC_URL%/full-color-logo-only-01-01.png\" />\r\n\t\t</Helmet>\r\n\t\t<Segment basic style={{width:\"70%\",\"zIndex\":\"10\"}} className=\"cta-hero-section\">\r\n\t\t<Grid stackable>\r\n\t\t\t<Grid.Row columns={2}>\r\n\t\t\t\t<Grid.Column style={{\"textAlign\":\"left\"}}>\r\n\t\t\t\t\t<h1 style={{\"textTransform\": \"uppercase\"}}>\r\n\t\t\t{spanish ? (\r\n\t\t\t\t\"Consultoría en AI\"\r\n\t\t\t\t):\r\n\t\t\t\t\"AI Consulting\"}\r\n\t\t\t\r\n\t\t\t</h1>\r\n\t\t\t<br/>\r\n\t\t\t<br/>\r\n\t\t\t<h2 style={{\"lineHeight\":\"1.5\"}}>{spanish ? \r\n\t\t\t\t\"¿Quisiera potenciar su empresa con soluciones personalizads? Nuestros consultores le pueden ayudar a crear soluciones para sus necesidades operacionales y de negocios.\" : \r\n\t\t\t\t\"Would you like to find custom AI solutions for your company? Our AI consultants will work with you to create taylor-made solutions to your business and operational needs.\"}</h2>\r\n\t\t\t<br/>\r\n\t\t\r\n\t\t\t\r\n\t\t\t\t</Grid.Column>\r\n\t\t\t\t<Grid.Column>\r\n\t\t\t\t\t<Segment>\r\n\t\t\t\t\t\t<Form style={{\"color\":\"black\"}} action=\"https://formspree.io/engin.ai.solutions@gmail.com\" method=\"POST\">\r\n\t\t\t\t\t\t\t<h2>\r\n\t\t\t\t\t\t\t\t{spanish? \"Solicite una Asesoría Inicial Gratuita\"\r\n\t\t\t\t\t\t\t\t\t:\r\n\t\t\t\t\t\t\t\t\t\"Request a Free Initial Assessment\"\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t</h2>\r\n\t\t\t\t\t\t\t<Segment basic style={{\"textAlign\":\"left\"}}>\r\n\t\t\t\t\t\t\t<Form.Field>\r\n\t\t\t\t\t\t\t\t<label htmlFor=\"user_name\">Name</label>\t\r\n\t\t\t\t\t\t\t\t<Input name=\"name\" id=\"user_name\" placeholder=\"John Doe\">\r\n\t\t\t\t\t\t\t\t</Input>\r\n\t\t\t\t\t\t\t</Form.Field>\r\n\t\t\t\t\t\t\t<Form.Field>\r\n\t\t\t\t\t\t\t\t<label htmlFor=\"email\" >Email</label>\t\r\n\t\t\t\t\t\t\t\t<Input required name=\"name\" id=\"email\" placeholder=\"jdoe@example.com\">\r\n\t\t\t\t\t\t\t\t</Input>\r\n\t\t\t\t\t\t\t</Form.Field>\r\n\t\t\t\t\t\t\t<Form.Field>\r\n\t\t\t\t\t\t\t\t<label htmlFor=\"company\">Company</label>\t\r\n\t\t\t\t\t\t\t\t<Input name=\"name\" id=\"company\" placeholder=\"My Business\">\r\n\t\t\t\t\t\t\t\t</Input>\r\n\t\t\t\t\t\t\t</Form.Field>\r\n\t\t\t\t\t\t\t<Form.Field>\r\n\t\t\t\t\t\t\t\t<label htmlFor=\"comment\">Comment</label>\t\r\n\t\t\t\t\t\t\t\t<TextArea name=\"name\" id=\"comment\">\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t</TextArea>\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t</Form.Field>\r\n\t\t\t\t\t\t\t</Segment>\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t<Button type=\"submit\" color=\"red\" size=\"huge\" syle={{\"width\":\"50%\"}} >\r\n\t\t\t\t\t\t\t\t{spanish?\r\n\t\t\t\t\t\t\t\t\t<span className=\"buttonText\">Contáctenos</span> \r\n\t\t\t\t\t\t\t\t\t : \r\n\t\t\t\t\t\t\t\t\t<span>Contact Us</span>}\r\n\t\t\t\t\t\t\t\t<span className =\"iconContainer\" style={{\"display\":\"inline-block\", \"width\":\"10px\"}}>\r\n\t\t\t\t\t\t\t\t\t<Icon name=\"chevron right\">\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t</Icon>\r\n\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t</Form>\r\n\t\t\t\t\t</Segment>\r\n\t\t\t\t</Grid.Column>\r\n\t\t\t</Grid.Row>\r\n\t\t</Grid>\r\n\t\t\t\r\n\t\t\t\t\t<Link to=\"/#contact-us\">\r\n\t\t\t\t\r\n\r\n\t\t\t</Link>\r\n\t\t</Segment>\r\n\r\n      </header>\r\n\t\t);\t\r\n} \r\n\r\nexport default AiConsulting;","import React, {Fragment} from \"react\";\r\nimport {Grid, Container, Button, Divider, Image, Segment} from 'semantic-ui-react';\r\nimport '../App.css';\r\nimport Dropzone from 'react-dropzone';\r\nimport axios from \"axios\";\r\n\r\nclass Demo extends React.Component {\r\nconstructor(props){\r\n\t\tsuper(props);\r\n\t\tthis.state = {\r\n      acceptedFiles:[],\r\n      images:[],\r\n      arrayBuffers:[],\r\n      loading:false,\r\n      detection:null,\r\n      type:null,\r\n      confidence:null,\r\n      length:null,\r\n      width:null,\r\n      imgSize:null\r\n    };\r\n    this.handleDrop = this.handleDrop.bind(this);\r\n    this.handleSubmit = this.handleSubmit.bind(this);\r\n\t}\r\n\r\n  handleDrop(acceptedFiles){\r\n     this.setState({\r\n      acceptedFiles:acceptedFiles\r\n     });\r\n    \r\n  }\r\n\r\n  handleSubmit(evt){  \r\n    evt.preventDefault();\r\n    this.setState({\r\n      loading:true\r\n    });\r\n    \r\n    // var imagefile = this.state.arrayBuffers;\r\n    this.state.acceptedFiles.forEach((file)=>{\r\n      var formData = new FormData();\r\n    formData.append(\"image\", file);\r\n    axios.post(`${process.env.REACT_APP_PRODUCTION_SERVER_URL}/api/images/uploads`,formData,{\r\n      headers:{\r\n        'Content-Type': 'multipart/form-data'\r\n      }\r\n    }).then((result)=>{\r\n      console.log(result);\r\n        if(result.data.data.image && result.data.data.detection_img_url){\r\n          this.setState({\r\n            images:[...this.state.images, result.data.data.image],\r\n            detection:result.data.data.detection_img_url,\r\n            confidence:result.data.data.damage.confidence,\r\n            length:result.data.data.damage.length,\r\n            width:result.data.data.damage.name,\r\n            imgSize:result.data.data.imgsize\r\n          });\r\n        }\r\n        if(result.data.data.image){\r\n          this.setState({\r\n            images:[...this.state.images, result.data.data.image]\r\n          });\r\n        }\r\n      })\r\n      .catch((err)=>{\r\n        console.log(err);\r\n      }).finally(()=>{\r\n        this.setState({\r\n          loading:false\r\n        });\r\n      });\r\n    });\r\n\r\n\r\n  }\r\n\r\n  render() {\r\n    let backgroundImg = `linear-gradient(45deg, rgb(229, 44, 78) 1%, rgb(233, 74, 99) 30%, rgb(174, 82, 157) 69%, rgb(154, 85, 177) 100%)`;\r\n    const browserLang = this.props.browserLang || \"en\";\r\n    console.log(process.env.REACT_APP_PRODUCTION_SERVER_URL);\r\n    let fileNames = this.state.acceptedFiles.map((file)=>{\r\n      if(\"name\" in file){\r\n        return (<p>{file.name}</p>)\r\n      }else if(\"path\" in file){\r\n        return (<p>{file.path}</p>)\r\n      }else{\r\n        return (<p>{\"no-name\"}</p>)\r\n      }\r\n      \r\n    });\r\n    let images = this.state.images.map((imgUrl)=>{\r\n      return (<Image src={imgUrl} size=\"medium\"></Image>)\r\n    });\r\n    return (\r\n      <Fragment>\r\n        <header className=\"App-hero\" style={{\r\n          \"minHeight\":\"75px\",\r\n          \"backgroundImage\":backgroundImg,\r\n          \"color\":\"white\"\r\n        }}>\r\n        </header>\r\n        <Container style={{\"paddingTop\":\"16px\"}}>\r\n          <Grid>\r\n            <Grid.Row columns={2}>\r\n                <Grid.Column style={{\"textAlign\":\"left\"}}>\r\n                  <Grid.Row>\r\n                    <h1>{browserLang === \"en\" ? \"Select Photo\":\"Seleccionar Foto\"}</h1>\r\n                    </Grid.Row>\r\n                    <Grid.Row>\r\n                      <Dropzone  onDrop={acceptedFiles => this.handleDrop(acceptedFiles)}>\r\n                      {({getRootProps, getInputProps}) => (\r\n                        <section>\r\n                          <div className=\"dropzone\" {...getRootProps()}>\r\n                            <input {...getInputProps()} />\r\n                            <p>{browserLang === \"en\" ? \"Drag 'n' drop some files here, or click to select files\":\"Arrastra los archivos aquí, o haz click para seleccionar archivo\"}</p>\r\n                          </div>\r\n                        </section>\r\n                      )}\r\n                </Dropzone>\r\n                    </Grid.Row>\r\n                    <Grid.Row>\r\n                      <h1>{browserLang === \"en\" ? \"Selected Files\" : \"Archivos seleccionados\"}</h1>\r\n                    </Grid.Row>\r\n                     <Grid.Row>\r\n                      <Segment>\r\n                        {fileNames}  \r\n                      </Segment>\r\n                    </Grid.Row>\r\n                    <Divider></Divider>\r\n                    <Grid.Row>\r\n                      <Button loading={this.state.loading} color=\"red\" disabled={this.state.acceptedFiles.length < 1} onClick={this.handleSubmit} >\r\n                        {browserLang === \"en\" ? \"Submit\" : \"Enviar\"}\r\n                      </Button>\r\n                    </Grid.Row>\r\n                </Grid.Column> \r\n                <Grid.Column>\r\n                  {images}\r\n                </Grid.Column>  \r\n            </Grid.Row>\r\n          \r\n        </Grid>  \r\n        </Container>\r\n          \r\n      </Fragment>\r\n      \r\n     \r\n    );\r\n  }\r\n}\r\n\r\nexport default Demo;","import React, {useState} from 'react';\r\nimport {Grid, Button, Divider} from 'semantic-ui-react';\r\nimport {multipartApiCall} from \"../services/api\";\r\n\r\nconst SaveToDrive = (props)=>{\r\n\t const browserLang = props.browserLang || \"en\";\r\n\t const userId = props.userId ? props.userId : null; \r\n\t const foldername = props.foldername? props.foldername : \"\";\r\n\t const files = props.files ? props.files : [];\r\n\t const [loading, setLoading] = useState(false);\r\n\t const fileDataArr = props.fileDataArr ? props.fileDataArr : null;\r\n\t console.log(\"fileDataArr\",fileDataArr);\r\n\t const sendToDrive = async (filesArr) => {\r\n\t \ttry{\r\n\t \t\tsetLoading(true);\r\n\t \t\tif(fileDataArr){\r\n\t\t\t\tfor (const file of fileDataArr){\r\n\t\t\t\t\tlet lineArray = [];\r\n\t\t\t\t\tif(file.data.length > 1){\r\n\t\t\t\t\t\t\tfile.data.forEach((infoArray, index)=> {\r\n\t\t\t\t\t\t    let line = infoArray.join(\",\");\r\n\t\t\t\t\t\t    lineArray.push(line);\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\tlet csvContent = lineArray.join(\"\\n\");\r\n\t\t\t\t\t\tconst f = new File([csvContent], `${file.filename}.csv`, {type: \"text/csv\", lastModified: new Date()})\r\n\t\t\t\t\t\tfiles.push(f);\r\n\t\t\t\t\t}\r\n\t\t\t\t} \r\n\t\t \t}\r\n\r\n\t \t\tconst formData = new FormData();\r\n\t\t      for(let file of files){\r\n\t\t        formData.append(\"image\", file);\r\n\t\t      }\r\n\t\t      formData.append(\"userid\", userId);\r\n\t\t      formData.append(\"foldername\",foldername);\r\n\t\t      formData.append(\"largeFilesExpected\",JSON.stringify(false));\r\n\t\t      const uploadedFiles = await multipartApiCall(\"POST\",`${process.env.REACT_APP_PRODUCTION_SERVER_URL}/api/images/uploads/drive/bulk`, formData);\r\n\t\t      setLoading(false);\r\n\t \t}catch(err){\r\n\t \t\tconsole.log(err);\r\n\t \t\tsetLoading(false);\r\n\t \t}\r\n\t };\r\n\treturn(\r\n\t<div>\r\n\t\t<Button loading={loading} color=\"teal\" onClick={sendToDrive}>\r\n\t\t\t{browserLang === \"en\" ? \"Save\": \"Guardar\"}\r\n\t\t</Button>\r\n\t</div>\r\n\t);\r\n}\r\nexport default SaveToDrive;","import React, {Fragment} from \"react\";\r\nimport {Grid, Button, Divider, Segment, Checkbox, Dropdown,Table, Input, Icon, TextArea,Form} from 'semantic-ui-react';\r\nimport '../App.css';\r\nimport Dropzone from 'react-dropzone';\r\nimport csv from \"csv\";\r\nimport {Magnifier} from \"react-image-magnifiers\";\r\nimport { CSVLink } from \"react-csv\";\r\nimport ReactGA from 'react-ga';\r\nimport SaveToDrive from '../components/SaveToDrive';\r\n\r\nclass ImageVisualizer extends React.Component {\r\nconstructor(props){\r\n\t\tsuper(props);\r\n\t\tthis.state = {\r\n      acceptedFiles:[],\r\n      images:[],\r\n      arrayBuffers:[],\r\n      loading:false,\r\n      detection:null,\r\n      type:null,\r\n      confidence:null,\r\n      length:null,\r\n      width:null,\r\n      imgSize:null,\r\n      parsedCsvData:null,\r\n      withHeaders:true,\r\n      withImages:false,\r\n      headers:[],\r\n      imagesColumn:null,\r\n      secondImageColumn:null,\r\n      maxRowCount : 10,\r\n      startingRow:1,\r\n      selectedRow:[],\r\n      selectedRowIdx:0,\r\n      nameCol:0,\r\n      damageCol:1,\r\n      qaGenerated:[],\r\n      classificationGenerated:[],\r\n      feedbackGenerated:[],\r\n      usage:[\r\n        {value:\"qa\", text:\"Quality Assurance\"},\r\n        {value:\"quick-classification\", text:\"Quick Classification\"},\r\n        {value:\"visual\", text:\"Only Visualize\"},\r\n        {value:\"feedback\", text:\"Feedback\"}\r\n        ],\r\n      objective:\"visual\",\r\n      qaDamageDetectedCorrectly:true,\r\n      qaCorrectedDamage:\"none\",\r\n      classificationIsDamaged:false,\r\n      classificationDamageName:\"none\",\r\n      feedbackImageHasDamage:false,\r\n      feedbackDamageName1:\"none\",\r\n      feedbackDamageName2:\"none\",\r\n      feedbackDamageName3:\"none\",\r\n      feedbackDamage1Length:0,\r\n      feedbackDamage2Length:0,\r\n      feedbackDamage3Length:0,\r\n      feedbackDamage1Width:0,\r\n      feedbackDamage2Width:0,\r\n      feedbackDamage3Width:0,\r\n      feedbackComments:\"\",\r\n      disableAdd:false,\r\n      twoImages:false,\r\n      startingRowCustomize:1\r\n    };\r\n    this.handleDrop = this.handleDrop.bind(this);\r\n    this.handleSubmit = this.handleSubmit.bind(this);\r\n    this.handleChange = this.handleChange.bind(this);\r\n\t}\r\n\r\n  handleDrop(acceptedFiles){\r\n    console.log(acceptedFiles);\r\n     const reader = new FileReader();\r\n     let filesArray = [];\r\n     reader.onabort = () => console.log(\"file reading was aborted\");\r\n      reader.onerror = () => console.log(\"file reading failed\");\r\n      reader.onload = () => {\r\n        // Parse CSV file\r\n        csv.parse(reader.result, (err, data) => {\r\n          if(data && \"length\" in data && data.length){\r\n            let columnList = data[0].map((str,idx)=>{\r\n            if(this.state.withHeaders){\r\n              return str;\r\n            }else{\r\n              return idx;\r\n            }\r\n          });  \r\n          // console.log(\"Parsed CSV data: \", data);\r\n          this.setState({\r\n            parsedCsvData:this.state.withHeaders? data : [columnList,...data],\r\n            headers:columnList,\r\n            qaGenerated:[[...columnList,\"damage_detected_correctly\",\"corrected_damage\"],...this.state.qaGenerated],\r\n            classificationGenerated:[[...columnList,\"has_damage\",\"damage_type\"],...this.state.qaGenerated],\r\n            feedbackGenerated:[[...columnList,\"damage_1_type\",\"damage_1_length\",\"damage_1_width\",\"damage_2_type\",\"damage_2_length\",\"damage_2_width\",\"damage_3_type\",\"damage_3_length\",\"damage_3_width\",\"comments\"],...this.state.qaGenerated],\r\n          });\r\n          }\r\n        });\r\n      };\r\n\r\n      // read file contents\r\n      acceptedFiles.forEach(file => {\r\n        console.log(\"file\",file);\r\n        const parsedFile = reader.readAsBinaryString(file);\r\n        console.log(\"parsed file\",parsedFile);\r\n        filesArray.push(parsedFile);\r\n      });\r\n      // console.log(filesArray);.\r\n       ReactGA.event({\r\n                category: 'Visualization Tool',\r\n                action: 'File Upload',\r\n                label: 'File upload success'\r\n              }); \r\n     this.setState({\r\n      acceptedFiles:acceptedFiles,\r\n      arrayBuffers:filesArray\r\n     });\r\n    \r\n  }\r\n\r\n  handleChange(evt, data){\r\n    this.setState({\r\n      [data.name] : data.value\r\n    });\r\n  }\r\n\r\n  handleSubmit(evt){  \r\n    evt.preventDefault();\r\n    this.setState({\r\n      loading:true\r\n    });\r\n    \r\n    if(this.state.objective === \"qa\"){\r\n      ReactGA.event({\r\n        category: 'Visualization Tool',\r\n        action: 'Row added to QA CSV',\r\n        label: 'Submitted new row to QA CSV'\r\n      }); \r\n      let grade = this.state.qaDamageDetectedCorrectly ? this.state.qaDamageDetectedCorrectly : false;\r\n      let newDamage = this.state.qaCorrectedDamage;\r\n      let newRow = [...this.state.selectedRow, grade, newDamage];\r\n      let qaArr = [...this.state.qaGenerated,newRow];\r\n      this.setState({\r\n        qaGenerated:qaArr,\r\n        loading:false,\r\n        qaDamageDetectedCorrectly:true,\r\n        qaCorrectedDamage:\"\",\r\n        disableAdd:true\r\n      });\r\n    }else if(this.state.objective === \"quick-classification\"){\r\n      ReactGA.event({\r\n        category: 'Visualization Tool',\r\n        action: 'Row added to Quick Classification CSV',\r\n        label: 'Submitted new row to Quick Classification CSV'\r\n      });\r\n      let foundDamage = this.state.classificationIsDamaged ? this.state.classificationIsDamaged : false;\r\n      let newDamage = foundDamage ? this.state.classificationDamageName : \"None\";\r\n      let newRow = [...this.state.selectedRow, foundDamage, newDamage];\r\n      let classificationGenerated = [...this.state.classificationGenerated, newRow];\r\n      this.setState({\r\n        classificationGenerated:classificationGenerated,\r\n        loading:false,\r\n        classificationIsDamaged:false,\r\n        disableAdd:true\r\n      });\r\n    }else if(this.state.objective === \"feedback\"){\r\n      ReactGA.event({\r\n        category: 'Visualization Tool',\r\n        action: 'Row added to Feedback CSV',\r\n        label: 'Submitted new row to Feedback CSV'\r\n      });\r\n      let foundDamage = this.state.feedbackImageHasDamage ? this.state.feedbackImageHasDamage : false;\r\n      let newDamage1 = foundDamage ? this.state.feedbackDamageName1 : \"None\";\r\n      let newDamage1Length = foundDamage ? this.state.feedbackDamage1Length : 0;\r\n      let newDamage1Width = foundDamage ? this.state.feedbackDamage1Width : 0;\r\n      let newDamage2 = foundDamage ? this.state.feedbackDamageName2 : \"None\";\r\n      let newDamage2Length = foundDamage ? this.state.feedbackDamage2Length : 0;\r\n      let newDamage2Width = foundDamage ? this.state.feedbackDamage2Width : 0;\r\n      let newDamage3 = foundDamage ? this.state.feedbackDamageName3 : \"None\";\r\n      let newDamage3Length = foundDamage ? this.state.feedbackDamage3Length : 0;\r\n      let newDamage3Width = foundDamage ? this.state.feedbackDamage3Width : 0;\r\n      let comments = foundDamage ? this.state.feedbackComments : \"\";\r\n      let newRow = [...this.state.selectedRow, newDamage1,newDamage1Length, newDamage1Width, newDamage2, newDamage2Length,newDamage2Width, newDamage3, newDamage3Length, newDamage3Width, comments];\r\n      let feedbackGenerated = [...this.state.feedbackGenerated, newRow];\r\n      this.setState({\r\n        feedbackGenerated:feedbackGenerated,\r\n        loading:false,\r\n        feedbackImageHasDamage:false,\r\n        disableAdd:true,\r\n        feedbackDamageName1:\"none\",\r\n        feedbackDamageName2:\"none\",\r\n        feedbackDamageName3:\"none\",\r\n        feedbackDamage1Length:0,\r\n        feedbackDamage2Length:0,\r\n        feedbackDamage3Length:0,\r\n        feedbackDamage1Width:0,\r\n        feedbackDamage2Width:0,\r\n        feedbackDamage3Width:0,\r\n        feedbackComments:\"\"\r\n      });\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const currentUser = this.props.currentUser ? this.props.currentUser :null;\r\n    let backgroundImg = `linear-gradient(45deg, rgb(229, 44, 78) 1%, rgb(233, 74, 99) 30%, rgb(174, 82, 157) 69%, rgb(154, 85, 177) 100%)`;\r\n    const browserLang = this.props.browserLang || \"en\";\r\n    const configSectionWidth = this.state.twoImages? 4 : 8;\r\n    const visualSectionWidth = this.state.twoImages? 12: 8;\r\n    let tableData = [];\r\n    const usage = this.state.usage.map((usgObj)=>{\r\n      if(browserLang === \"en\"){\r\n        return {\r\n          text:usgObj.text,\r\n          value:usgObj.value\r\n        };\r\n      }else{\r\n          if(usgObj.value === \"qa\"){\r\n            return {\r\n              text:\"Aseguramiento de Calidad\",\r\n              value:usgObj.value\r\n            }\r\n          }else if(usgObj.value === \"quick-classification\"){\r\n            \r\n            return {text:\"Clasificación Rápida\",\r\n            value:usgObj.value}\r\n          }else if(usgObj.value === \"feedback\"){\r\n            return {text:\"Retroalimentación\",\r\n            value:usgObj.value}\r\n          }else{\r\n            return {text:\"Visualización\",\r\n            value:usgObj.value}\r\n          }\r\n        }\r\n      }\r\n    );\r\n    const imageDropdownOptions = this.state.headers.map((header, idx)=>{\r\n      return {\r\n        text:header,\r\n        value:idx\r\n      }\r\n    });    \r\n    // console.log(process.env.REACT_APP_PRODUCTION_SERVER_URL);\r\n    let fileNames = this.state.acceptedFiles.map((file)=>{\r\n      if(\"name\" in file){\r\n        return (<p key={file.name}>{file.name}</p>)\r\n      }else if(\"path\" in file){\r\n        return (<p key={file.path}>{file.path}</p>)\r\n      }else{\r\n        return (<p key=\"no-name\">{\"no-name\"}</p>)\r\n      }\r\n      \r\n    });\r\n    let images = this.state.images.map((imgUrl, idx)=>{\r\n      return (\r\n        <Magnifier\r\n          key={idx}\r\n          style={{\"maxWidth\":\"700px\"}}\r\n          imageSrc={imgUrl}\r\n          imageAlt=\"image\"\r\n          mouseActivation=\"click\" // Optional\r\n          touchActivation=\"tap\" // Optional\r\n        />\r\n        )\r\n    });\r\n    if(this.state.parsedCsvData && \"length\" in this.state.parsedCsvData){\r\n      tableData = this.state.parsedCsvData.slice(this.state.startingRow, this.state.startingRow+this.state.maxRowCount);\r\n    }\r\n    return (\r\n      <Fragment>\r\n        <header className=\"App-hero\" style={{\r\n          \"minHeight\":\"75px\",\r\n          \"backgroundImage\":backgroundImg,\r\n          \"color\":\"white\"\r\n        }}>\r\n        </header>\r\n        <div style={{\"paddingTop\":\"16px\",\"marginLeft\":\"40px\", \"marginRight\":\"40px\"}}>\r\n          <Grid stackable>\r\n            <Grid.Row columns={2}>\r\n                <Grid.Column width={configSectionWidth} style={{\"textAlign\":\"left\"}}>\r\n                  <Grid.Row>\r\n                    <h2>{browserLang === \"en\" ? \"Select Files (Only CSV)\":\"Seleccionar Archivo (Solo CSV)\"}</h2>\r\n                    </Grid.Row>\r\n                    <Grid.Row>\r\n                      <Dropzone  onDrop={acceptedFiles => this.handleDrop(acceptedFiles)}>\r\n                      {({getRootProps, getInputProps}) => (\r\n                        <section>\r\n                          <div className=\"dropzone\" {...getRootProps()}>\r\n                            <input {...getInputProps()} />\r\n                            <p>{browserLang === \"en\" ? \"Drag 'n' drop some files here, or click to select files\":\"Arrastra los archivos aquí, o haz click para seleccionar archivo\"}</p>\r\n                          </div>\r\n                        </section>\r\n                      )}\r\n                </Dropzone>\r\n                    </Grid.Row>\r\n                    <Grid.Row>\r\n                      <h2>{browserLang === \"en\" ? \"Selected Files\" : \"Archivos seleccionados\"}</h2>\r\n                    </Grid.Row>\r\n                     <Grid.Row>\r\n                      <Segment>\r\n                        {fileNames}  \r\n                      </Segment>\r\n                    </Grid.Row>\r\n                    <Divider></Divider>\r\n                    <h2>{browserLang === \"en\" ? \"Configure Usage of This Tool\" : \"Configurar Uso de la Herramienta\"}</h2>\r\n                    <Grid.Row>\r\n                      <Dropdown\r\n                        search\r\n                        options = {usage}\r\n                        selection\r\n                        placeholder = {browserLang === \"en\" ? \"What do you want to accomplish with this tool?\" : \"¿Cuál es tu objectivo?\"}\r\n                        onChange = {(event, data)=>{\r\n                          this.setState({\r\n                            objective:data.value\r\n                          });\r\n                        }}\r\n                      >  \r\n                      </Dropdown>\r\n                    </Grid.Row>\r\n                    <Divider></Divider>\r\n                    <h2>{browserLang === \"en\" ? \"Configure Visualization\" : \"Configurar Visualización\"}</h2>\r\n                    <Grid.Row>\r\n                      <Checkbox checked={this.state.withHeaders}  onChange={(event, data)=>{\r\n                        this.setState({\r\n                          withHeaders:!this.state.withHeaders,\r\n                        })\r\n                      }} label={browserLang === \"en\" ? \"Data has headers\" : \"Las columnas tienen encabezados\"} toggle />\r\n                    </Grid.Row>\r\n                    <Divider hidden></Divider>\r\n                    <Grid.Row>\r\n                      <Checkbox checked={this.state.withImages}  onChange={(event, data)=>{\r\n                        this.setState({\r\n                          withImages:!this.state.withImages\r\n                        })\r\n                      }} label={browserLang === \"en\" ? \"Has Images?\" : \"¿Hay imágenes?\"} toggle />\r\n                    </Grid.Row>\r\n                    {this.state.parsedCsvData && this.state.parsedCsvData.length > 0  && this.state.withImages && (\r\n                      <Fragment>\r\n                        <Divider></Divider>\r\n                        <p> {browserLang === \"en\" ?  \"Select column that specifies image URL\": \"Selecciona la columna que especifica el URL de las imágenes\"}</p>\r\n                        <Dropdown\r\n                          search\r\n                          onChange={(event,data)=>{\r\n                            // console.log(data);\r\n                            this.setState({\r\n                              imagesColumn:data.value\r\n                            });\r\n                          }}\r\n                          placeholder={browserLang === \"en\" ?  \"Select column that specifies image URL\": \"Selecciona la columna que especifica el URL de las imágenes\"}\r\n                          fluid\r\n                          label={browserLang === \"en\" ?  \"Select column that specifies image URL\": \"Selecciona la columna que especifica el URL de las imágenes\"}\r\n                          selection\r\n                          options={imageDropdownOptions}\r\n                        >\r\n                          \r\n                        </Dropdown>\r\n                        <Divider></Divider>\r\n                        <h3>Configure second image</h3>\r\n                        <Grid.Row>\r\n                          <Checkbox name=\"twoImages\" checked={this.state.twoImages}  onChange={(event, data)=>{\r\n                            this.setState({\r\n                              twoImages:!this.state.twoImages\r\n                            })\r\n                          }} label={browserLang === \"en\" ? \"Visualize 2 images?\" : \"¿Ver 2 imágenes?\"} toggle />\r\n                        </Grid.Row>\r\n                        {this.state.twoImages &&(\r\n                          <Fragment>\r\n                            <Divider hidden></Divider>\r\n                            <p> {browserLang === \"en\" ?  \"Select column that specifies image URL of the second image\": \"Selecciona la columna que especifica el URL de las imágenes 2\"}</p>\r\n                              <Dropdown\r\n                                name = \"secondImageColumn\"\r\n                                search\r\n                                onChange={this.handleChange}\r\n                                placeholder={browserLang === \"en\" ?  \"Select column that specifies image URL\": \"Selecciona la columna que especifica el URL de las imágenes\"}\r\n                                fluid\r\n                                label={browserLang === \"en\" ?  \"Select column that specifies image URL\": \"Selecciona la columna que especifica el URL de las imágenes\"}\r\n                                selection\r\n                                options={imageDropdownOptions}\r\n                              >\r\n                                \r\n                              </Dropdown>\r\n                          </Fragment>\r\n                          )\r\n                        }\r\n                         <Divider></Divider>\r\n                         <p>{browserLang === \"en\" ?  \"Column with image name\": \"Columna con nombre de la imagen\"}</p>\r\n                        <Dropdown\r\n                          onChange={(event,data)=>{\r\n                            // console.log(data);\r\n                            this.setState({\r\n                              nameCol:data.value\r\n                            });\r\n                          }}\r\n                          search\r\n                          placeholder={browserLang === \"en\" ?  \"Column with image name\": \"Columna con nombre de la imagen\"}\r\n                          fluid\r\n                          label={browserLang === \"en\" ?  \"Column with image name\": \"Columna con nombre de la imagen\"}\r\n                          selection\r\n                          options={imageDropdownOptions}\r\n                        >\r\n                          \r\n                        </Dropdown>\r\n                        <Divider></Divider>\r\n                        <p>{browserLang === \"en\" ?  \"Column with damage name\": \"Columna con nombre del daño\"}</p>\r\n                        <Dropdown\r\n                          search\r\n                          onChange={(event,data)=>{\r\n                            // console.log(data);\r\n                            this.setState({\r\n                              damageCol:data.value\r\n                            });\r\n                          }}\r\n                          placeholder={browserLang === \"en\" ?  \"Column with damage name\": \"Columna con nombre del daño\"}\r\n                          label={browserLang === \"en\" ?  \"Column with damage name\": \"Columna con nombre del daño\"}\r\n                          fluid\r\n                          selection\r\n                          options={imageDropdownOptions}\r\n                        >\r\n                          \r\n                        </Dropdown>\r\n                      </Fragment>\r\n                      )}\r\n                    <Divider hidden></Divider>\r\n                </Grid.Column> \r\n                <Grid.Column width={visualSectionWidth}>\r\n                {\r\n                  this.state.withImages && (\r\n                      <Segment style={{\"position\":\"fixed\",\"zIndex\":\"2\",\"overflowY\":\"scroll\",\"maxHeight\":\"88vh\"}}>\r\n                          <h2>{browserLang === \"en\" ? \"Visualization\":\"Visualización\"}</h2>\r\n                          <Grid>\r\n                            <Grid.Row columns={this.state.twoImages ? 2:1}>\r\n                            {images.map((img,idx)=>{\r\n                              return (<Grid.Column key={idx}>\r\n                                {img}\r\n                              </Grid.Column>)\r\n                            })}  \r\n                          </Grid.Row>\r\n                          </Grid>\r\n                          {this.state.parsedCsvData && this.state.parsedCsvData.length > 1 && this.state.selectedRow &&  (\r\n                            <Fragment>\r\n                              <Divider></Divider>\r\n                                <p>Image name: {this.state.selectedRow[this.state.nameCol]}</p>  \r\n                                <p>Damage: {this.state.selectedRow[this.state.damageCol]}</p>\r\n                            </Fragment>\r\n                            )\r\n                          }\r\n                          {this.state.parsedCsvData && this.state.parsedCsvData.length > 1 && this.state.selectedRow && this.state.objective === \"qa\" &&  (\r\n                            <Fragment>\r\n                              <Divider></Divider>\r\n                              <p>{browserLang === \"en\" ? \"Is the damage correctly identified?\":\"¿Se identificó el daño de forma correcta?\"}</p>\r\n                              <Grid.Row>\r\n                                <Dropdown\r\n                                  search\r\n                                  name=\"qaDamageDetectedCorrectly\"\r\n                                  onChange={this.handleChange}\r\n                                  selection\r\n                                  value={this.state.qaDamageDetectedCorrectly}\r\n                                  options={[\r\n                                    {\r\n                                      text:browserLang === \"en\" ? \"Yes\":\"Si\", \r\n                                      value:true\r\n                                    },{\r\n                                      text:browserLang === \"en\" ? \"No\":\"No\", \r\n                                      value:false\r\n                                    }\r\n                                  ]}\r\n                                >                            \r\n                                </Dropdown>\r\n                              </Grid.Row>\r\n                              {this.state.qaDamageDetectedCorrectly === false && (\r\n                                <Fragment>\r\n                                    <p>{browserLang === \"en\" ? \"What's the correct damage?\" : \"¿Cuál es el daño correcto?\"}</p>\r\n                                    <Input name=\"qaCorrectedDamage\" onChange={this.handleChange} value={this.state.qaCorrectedDamage}>\r\n                                    </Input>  \r\n                                </Fragment>\r\n                                \r\n                                )}\r\n                              <Divider hidden></Divider>\r\n                              <Grid.Row>\r\n                                <Button disabled={this.state.disableAdd} loading={this.state.loading} onClick={this.handleSubmit} positive>{browserLang === \"en\" ? \"Add to new list\" : \"Agregar a lista nueva\"}</Button>\r\n                              </Grid.Row>\r\n                            </Fragment>\r\n                            )\r\n                          }\r\n                          {this.state.parsedCsvData && this.state.parsedCsvData.length > 1 && this.state.selectedRow && this.state.objective === \"quick-classification\" &&  (\r\n                            <Fragment>\r\n                              <Divider></Divider>\r\n                              <p>{browserLang === \"en\" ? \"Is there a damage?\":\"¿Se identifica un daño?\"}</p>\r\n                              <Grid.Row>\r\n                                <Dropdown\r\n                                  search\r\n                                  name=\"classificationIsDamaged\"\r\n                                  onChange={this.handleChange}\r\n                                  selection\r\n                                  value={this.state.classificationIsDamaged}\r\n                                  options={[\r\n                                    {\r\n                                      text:browserLang === \"en\" ? \"Yes\":\"Si\", \r\n                                      value:true\r\n                                    },{\r\n                                      text:browserLang === \"en\" ? \"No\":\"No\", \r\n                                      value:false\r\n                                    }\r\n                                  ]}\r\n                                >                            \r\n                                </Dropdown>\r\n                              </Grid.Row>\r\n                              {this.state.classificationIsDamaged === true && (\r\n                                <Fragment>\r\n                                    <p>{browserLang === \"en\" ? \"What's the damage?\" : \"¿Cuál es el daño?\"}</p>\r\n                                    <Input name=\"classificationDamageName\" onChange={this.handleChange} value={this.state.classificationDamageName}>\r\n                                    </Input>  \r\n                                </Fragment>\r\n                                \r\n                                )}\r\n                              <Divider hidden></Divider>\r\n                              <Grid.Row>\r\n                                <Button disabled={this.state.disableAdd} loading={this.state.loading} onClick={this.handleSubmit} positive>{browserLang === \"en\" ? \"Add to new list\" : \"Agregar a lista nueva\"}</Button>\r\n                              </Grid.Row>\r\n                            </Fragment>\r\n                            )\r\n                          }\r\n                          {this.state.parsedCsvData && this.state.parsedCsvData.length > 1 && this.state.selectedRow && this.state.objective === \"feedback\" &&  (\r\n                            <Fragment>\r\n                              <Divider></Divider>\r\n                              <p>{browserLang === \"en\" ? \"Is there a damage?\":\"¿Se identifica un daño?\"}</p>\r\n                              <Grid.Row>\r\n                                <Dropdown\r\n                                  search\r\n                                  name=\"feedbackImageHasDamage\"\r\n                                  onChange={this.handleChange}\r\n                                  selection\r\n                                  value={this.state.feedbackImageHasDamage}\r\n                                  options={[\r\n                                    {\r\n                                      text:browserLang === \"en\" ? \"Yes\":\"Si\", \r\n                                      value:true\r\n                                    },{\r\n                                      text:browserLang === \"en\" ? \"No\":\"No\", \r\n                                      value:false\r\n                                    }\r\n                                  ]}\r\n                                >                            \r\n                                </Dropdown>\r\n                              </Grid.Row>\r\n                              {this.state.feedbackImageHasDamage === true && (\r\n                                <Fragment>\r\n                                <Grid>\r\n                                  <Grid.Row columns='equal'>\r\n                                    <Grid.Column >\r\n                                      <p>{browserLang === \"en\" ? \"Damage 1\" : \"Daño 1\"}</p>\r\n                                      <Input name=\"feedbackDamageName1\" onChange={this.handleChange} value={this.state.feedbackDamageName1}>\r\n                                      </Input>\r\n                                    </Grid.Column>\r\n                                    <Grid.Column>\r\n                                      <p>{browserLang === \"en\" ? \"Length (m) 1\" : \"Longitud (m) 1\"}</p>\r\n                                      <Input name=\"feedbackDamage1Length\" onChange={this.handleChange} value={this.state.feedbackDamage1Length}>\r\n                                      </Input>  \r\n                                    </Grid.Column>\r\n                                    <Grid.Column>\r\n                                      <p>{browserLang === \"en\" ? \"Width (m) 1\" : \"Ancho (m) 1\"}</p>\r\n                                        <Input name=\"feedbackDamage1Width\" onChange={this.handleChange} value={this.state.feedbackDamage1Width}>\r\n                                        </Input>  \r\n                                    </Grid.Column>\r\n                                  </Grid.Row>\r\n                                  <Grid.Row columns='equal'>\r\n                                    <Grid.Column>\r\n                                      <p>{browserLang === \"en\" ? \"Damage 2\" : \"Daño 2\"}</p>\r\n                                      <Input name=\"feedbackDamageName2\" onChange={this.handleChange} value={this.state.feedbackDamageName2}>\r\n                                      </Input>\r\n                                    </Grid.Column>\r\n                                    <Grid.Column>\r\n                                      <p>{browserLang === \"en\" ? \"Length (m) 2\" : \"Longitud (m) 2\"}</p>\r\n                                      <Input name=\"feedbackDamage2Length\" onChange={this.handleChange} value={this.state.feedbackDamage2Length}>\r\n                                      </Input>  \r\n                                    </Grid.Column>\r\n                                    <Grid.Column>\r\n                                      <p>{browserLang === \"en\" ? \"Width (m) 2\" : \"Ancho (m) 2\"}</p>\r\n                                        <Input name=\"feedbackDamage2Width\" onChange={this.handleChange} value={this.state.feedbackDamage2Width}>\r\n                                        </Input>  \r\n                                    </Grid.Column>\r\n                                  </Grid.Row>\r\n                                  <Grid.Row columns='equal'>\r\n                                    <Grid.Column>\r\n                                      <p>{browserLang === \"en\" ? \"Damage 3\" : \"Daño 3\"}</p>\r\n                                      <Input name=\"feedbackDamageName3\" onChange={this.handleChange} value={this.state.feedbackDamageName3}>\r\n                                      </Input>\r\n                                    </Grid.Column>\r\n                                    <Grid.Column>\r\n                                      <p>{browserLang === \"en\" ? \"Length (m) 3\" : \"Longitud (m) 3\"}</p>\r\n                                      <Input name=\"feedbackDamage3Length\" onChange={this.handleChange} value={this.state.feedbackDamage3Length}>\r\n                                      </Input>  \r\n                                    </Grid.Column>\r\n                                    <Grid.Column>\r\n                                      <p>{browserLang === \"en\" ? \"Width (m) 3\" : \"Ancho (m) 3\"}</p>\r\n                                        <Input name=\"feedbackDamage3Width\" onChange={this.handleChange} value={this.state.feedbackDamage3Width}>\r\n                                        </Input>  \r\n                                    </Grid.Column>\r\n                                  </Grid.Row>\r\n                                  <Grid.Row columns='equal'>\r\n                                    <Grid.Column>\r\n                                      <Form>\r\n                                        <p>{browserLang === \"en\" ? \"Comments\" : \"Comentarios\"}</p>\r\n                                        <TextArea placeholder={browserLang === \"en\" ? \"Comments\" : \"Comentarios\"} label= {browserLang === \"en\" ? \"Comments\" : \"Comentarios\"} name=\"feedbackComments\" onChange={this.handleChange} value={this.state.feedbackComments}></TextArea>\r\n                                      </Form>\r\n                                    </Grid.Column>\r\n                                  </Grid.Row>\r\n                                </Grid>\r\n                                </Fragment>\r\n                                \r\n                                )}\r\n                              <Divider hidden></Divider>\r\n                              <Grid.Row>\r\n                                <Button disabled={this.state.disableAdd} loading={this.state.loading} onClick={this.handleSubmit} positive>{browserLang === \"en\" ? \"Add to new list\" : \"Agregar a lista nueva\"}</Button>\r\n                              </Grid.Row>\r\n                            </Fragment>\r\n                            )\r\n                          }\r\n                          <Divider></Divider>\r\n                          {currentUser && \"user\" in currentUser && \"id\" in currentUser.user && currentUser.user.id && (\r\n                            <Fragment>\r\n                              <Grid.Row>\r\n                                <h2>{browserLang === \"en\" ? \"Save To Google Drive\" : \"Guardar A Google Drive\"}</h2>\r\n                              </Grid.Row>\r\n                              <Grid.Row>\r\n                                <SaveToDrive browserLang={browserLang} userId = {currentUser.user.id} fileDataArr={[{filename: \"engin-ai-qa-export\" , data: this.state.qaGenerated, type:\"csv\"}, {filename: \"engin-ai-classification-export\", data: this.state.classificationGenerated,  type:\"csv\"}, {filename: \"engin-ai-feedback-export\", data: this.state.feedbackGenerated,  type:\"csv\"}]} ></SaveToDrive>\r\n                              </Grid.Row>\r\n                              <Divider hidden></Divider>\r\n                            </Fragment>\r\n                            )\r\n                          }\r\n                          <Grid.Row>\r\n                          <h2>{browserLang === \"en\" ? \"Download\" : \"Descarga\"}</h2>\r\n                        </Grid.Row>\r\n                         {this.state.qaGenerated.length > 0 && (\r\n                            <Fragment>\r\n                              <Grid.Row>\r\n                                 <p>{browserLang === \"en\" ?  \"Quality Assurance\" : \"Aseguramiento de Calidad\"}</p>\r\n                              </Grid.Row>\r\n                              <Grid.Row>\r\n                                <CSVLink filename={\"engin-ai-qa-export.csv\"} data={this.state.qaGenerated}>{browserLang===\"en\" ? \"Download QA document\" : \"Descargar documento QA\"}</CSVLink>\r\n                              </Grid.Row>\r\n                              <Divider hidden></Divider>\r\n                            </Fragment>\r\n                            )}\r\n                          {this.state.classificationGenerated.length > 0 && (\r\n                            <Fragment>\r\n                              <Grid.Row>\r\n                                <p>{browserLang === \"en\" ?  \"Quick Classification\" : \"Clasificación Rápida\"}</p>\r\n                              </Grid.Row>\r\n                              <Grid.Row>\r\n                                <CSVLink filename={\"engin-ai-classification-export.csv\"} data={this.state.classificationGenerated}>{browserLang===\"en\" ? \"Download Classification document\" : \"Descargar documento clasificado\"}</CSVLink>\r\n                              </Grid.Row>\r\n                            </Fragment>                  \r\n                            )}\r\n                           {this.state.feedbackGenerated.length > 0 && (\r\n                            <Fragment>\r\n                              <Grid.Row>\r\n                                <p>{browserLang === \"en\" ? \"Feedback\" : \"Retroalimentación\"}</p>\r\n                              </Grid.Row>\r\n                              <Grid.Row>\r\n                                <CSVLink filename={\"engin-ai-feedback-export.csv\"} data={this.state.feedbackGenerated}>{browserLang===\"en\" ? \"Download feedback document\" : \"Descargar documento de retroalimentación\"}</CSVLink>\r\n                              </Grid.Row>\r\n                            </Fragment>                  \r\n                            )}\r\n                        </Segment>\r\n                    )\r\n                }\r\n                </Grid.Column>  \r\n            </Grid.Row>\r\n            {this.state.parsedCsvData && \"length\" in this.state.parsedCsvData && (\r\n              <Fragment>\r\n               <Grid.Row>\r\n                  <h2>{browserLang === \"en\" ? \"Table Controllers\" : \"Controladores de tabla\"}</h2>\r\n                </Grid.Row>\r\n                <Grid.Row>\r\n                    <Button color=\"blue\" onClick={()=>{\r\n                      this.setState({\r\n                        startingRow:1\r\n                      });\r\n                    }}>Start</Button>\r\n                    <Button color=\"yellow\" onClick={()=>{\r\n                      let newStartingRow = this.state.startingRow - this.state.maxRowCount;\r\n                      if(newStartingRow > 1){\r\n                        this.setState({\r\n                        startingRow:newStartingRow\r\n                      });\r\n                      }\r\n                    }}>Previous</Button>\r\n                    <Button color=\"green\" onClick={()=>{\r\n                      let newStartingRow = this.state.startingRow + this.state.maxRowCount;\r\n                      if(newStartingRow < this.state.parsedCsvData.length){\r\n                        this.setState({\r\n                          startingRow:newStartingRow\r\n                        });\r\n                      }\r\n                    }}>Next</Button>\r\n                     <Button color=\"blue\" onClick={()=>{\r\n                      this.setState({\r\n                        startingRow:this.state.parsedCsvData.length - this.state.maxRowCount\r\n                      });\r\n                    }}>End</Button>\r\n                </Grid.Row>\r\n                <Grid.Row>\r\n                  <p>{browserLang === \"en\" ? `Count` : `Cuenta`}</p>\r\n                </Grid.Row>\r\n                <Grid.Row>\r\n                  <p>{`${this.state.startingRow} - ${this.state.maxRowCount + this.state.startingRow}/${this.state.parsedCsvData.length}`}</p>\r\n                </Grid.Row>\r\n                <Grid.Row>\r\n                  <Input\r\n                    type=\"number\"\r\n                    value={this.state.startingRowCustomize}\r\n                    name =\"startingRowCustomize\"\r\n                    onChange={(event, data)=>{\r\n                      this.setState({\r\n                        startingRowCustomize:parseInt(data.value, 10)\r\n                      });\r\n                    }}\r\n                    placeholder = {browserLang === \"en\" ? \"Customize Starting Row\":\"Personaliza la fila de inicio\"}\r\n                    label = {browserLang === \"en\" ? \"Customize Starting Row\":\"Personaliza la fila de inicio\"}\r\n                    icon={<Icon name='search' inverted circular link onClick={()=>{\r\n                      if(this.state.startingRowCustomize <= this.state.parsedCsvData.length && this.state.startingRowCustomize > 0 ){\r\n                        this.setState({\r\n                          startingRow:this.state.startingRowCustomize\r\n                        });\r\n                      }\r\n                    }}/>}\r\n                  >  \r\n                  </Input>\r\n                </Grid.Row>\r\n                <Grid.Row>\r\n                  <Grid.Column width={configSectionWidth} style={{\"overflowX\":\"scroll\"}}>\r\n                       <Table\r\n                        color=\"purple\"\r\n                        headerRow={this.state.headers}\r\n                        compact\r\n                        selectable\r\n                        tableData = {tableData}\r\n                        renderBodyRow = {(data, index)=>{\r\n                          let cells = data.map((item, idx)=>{\r\n                            return (\r\n                              <Table.Cell key={idx}>\r\n                                {item}\r\n                              </Table.Cell>\r\n                              );\r\n                          });\r\n                          return (\r\n                            <Table.Row key={index} style={{\"cursor\":\"pointer\", \"color\": index === this.state.selectedRowIdx ? \"red\":\"black\", \"background\":index === this.state.selectedRowIdx ? \"whitesmoke\":\"white\"}} onClick={()=>{\r\n                              let overallPosition = index;\r\n\r\n                              if(this.state.withImages && this.state.imagesColumn){\r\n                                let imageArr = [data[this.state.imagesColumn]];\r\n                                if(this.state.twoImages){\r\n                                  imageArr = [...imageArr, data[this.state.secondImageColumn]]\r\n                                }\r\n                                this.setState({\r\n                                  images:imageArr,\r\n                                  selectedRow:data,\r\n                                  disableAdd:false,\r\n                                  selectedRowIdx:index\r\n                                });\r\n                              }\r\n                              }\r\n                            }>\r\n                            {cells}\r\n                            </Table.Row>\r\n                            )\r\n                        }}\r\n                  >\r\n                  </Table>\r\n                  </Grid.Column>\r\n              </Grid.Row>\r\n              </Fragment>\r\n              )\r\n            }\r\n        </Grid>  \r\n        </div>\r\n          \r\n      </Fragment>\r\n      \r\n     \r\n    );\r\n  }\r\n}\r\n\r\nexport default ImageVisualizer;","import React  from 'react';\r\nimport { Table, Progress} from 'semantic-ui-react';\r\nimport moment from \"moment\";\r\n\r\nconst UploadHistory = (props)=>{\r\n\tconst browserLang = props.browserLang;\r\n\tconst uploads = props.uploads ? props.uploads: [];\r\n\tconst uploadRows = uploads.map((uploadObj, idx)=>{\r\n\t\tif(!uploadObj){\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tconst progress = Math.floor((uploadObj.uploadedFileCount / uploadObj.numFiles)*100);\r\n\t\treturn (\r\n\t\t\t<Table.Row key={idx}>\r\n\t\t        <Table.Cell>{moment(uploadObj.createdAt).format(\"MMM DD YYYY\")}</Table.Cell>\r\n\t\t        <Table.Cell>{uploadObj.customFolderName}</Table.Cell>\r\n\t\t        <Table.Cell>{uploadObj.numFiles}</Table.Cell>\r\n\t\t        <Table.Cell><Progress percent={progress} indicating progress /></Table.Cell>\r\n\t\t        <Table.Cell>{`${(uploadObj.uploadSizeBytes/1000000000).toFixed(2) > 1 ? `${(uploadObj.uploadSizeBytes/1000000000).toFixed(2)} GB` : `${(uploadObj.uploadSizeBytes/1000000).toFixed(2)} MB` }`}</Table.Cell>\r\n\t\t      </Table.Row>\r\n\t\t\t)\r\n\t});\r\n\r\n\treturn(\r\n\t\t<Table celled>\r\n\t\t    <Table.Header>\r\n\t\t      <Table.Row>\r\n\t\t        <Table.HeaderCell>{browserLang === \"en\"? \"Upload date\": \"Fecha de Carga\"}</Table.HeaderCell>\r\n\t\t        <Table.HeaderCell>{browserLang === \"en\"? \"Folder Name\": \"Nombre de Carpeta\"}</Table.HeaderCell>\r\n\t\t        <Table.HeaderCell>{browserLang === \"en\"? \"Number of Files\": \"Número de Archivos\"}</Table.HeaderCell>\r\n\t\t        <Table.HeaderCell>{browserLang === \"en\"? \"Progress\":\"Progreso\"}</Table.HeaderCell>\r\n\t\t        <Table.HeaderCell>{browserLang === \"en\"? \"Size\":\"Tamaño\"}</Table.HeaderCell>\r\n\t\t      </Table.Row>\r\n\t\t    </Table.Header>\r\n\t\t    <Table.Body>\r\n\t\t    \t{uploadRows}\r\n\t\t    </Table.Body>\r\n\t\t  </Table>\r\n\t\t);\t\r\n}; \r\n\r\nexport default UploadHistory;","import React, { Component } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport { Form, Message, Button } from 'semantic-ui-react';\r\nimport ReactGA from 'react-ga';\r\nimport {apiCall} from \"../services/api\";\r\n\r\nclass AdminAuthForm extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      email: \"\",\r\n      password: \"\",\r\n      profileImageUrl: \"\",\r\n      f_name:\"\",\r\n      l_name:\"\",\r\n      password_confirm:\"\",\r\n      error:false,\r\n      errorMsg:\"\",\r\n      agreedToTerms:false,\r\n      a_password:\"\",\r\n      company:\"\",\r\n      loading:false,\r\n      message:\"\",\r\n      companyList:[]\r\n    };\r\n    this.onCheckboxSelect = this.onCheckboxSelect.bind(this);\r\n    this.handleDropdownChange = this.handleDropdownChange.bind(this);\r\n  }\r\n\r\n  async componentDidMount(){\r\n    try{\r\n      const companies = await apiCall(\"GET\", `${process.env.REACT_APP_PRODUCTION_SERVER_URL}/api/admin/${this.props.adminUserId ?this.props.adminUserId : \"\" }/companies`);\r\n      const companyList = Object.keys(companies).map((comp)=>{\r\n        return {\r\n          text:comp,\r\n          value:comp\r\n        }\r\n      });\r\n      this.setState({\r\n        companyList\r\n      });\r\n    }catch(err){\r\n      console.log(err);\r\n    }\r\n\r\n  }\r\n\r\n  handleSubmit = e => {\r\n    e.preventDefault();\r\n    this.setState({\r\n      loading:true\r\n    });\r\n    const authType = this.props.signUp ? \"signup\" : \"signin\";\r\n    if(this.props.signUp){\r\n      if(this.state.password !== this.state.password_confirm){\r\n        this.setState({error: true, errorMsg:\"Your passwords don't match. Try again\"});\r\n        return;\r\n      }\r\n      e.target.reset();\r\n    }\r\n    if(this.state.a_password !== \"\"){\r\n      ReactGA.event({\r\n                 category: 'Fake Sign Up',\r\n                 action: 'Captcha triggered'\r\n                }); \r\n      this.setState({error: true, errorMsg:\"Your sign up is suspicious. Please try again later\"});\r\n      return;\r\n    }\r\n    if(authType === \"signup\"){\r\n    apiCall(\"POST\", `${process.env.REACT_APP_PRODUCTION_SERVER_URL}/api/admin/${this.props.adminUserId ?this.props.adminUserId : \"\" }/users`, {\r\n        email:this.state.email.toLowerCase().trim(),\r\n        password:this.state.password.trim(),\r\n        f_name:this.state.f_name,\r\n        l_name: this.state.l_name,\r\n        profileImageUrl: this.state.profileImageUrl,\r\n        company:this.state.company\r\n        })\r\n      .then((data) => {\r\n        ReactGA.event({\r\n                 category: 'Sign Up',\r\n                 action: 'User Has Been Created'\r\n                }); \r\n        this.props.history.push(\"/dashboard\");\r\n        this.setState({\r\n          loading:false,\r\n          message:data.message,\r\n          email: \"\",\r\n          password: \"\",\r\n          profileImageUrl: \"\",\r\n          f_name:\"\",\r\n          l_name:\"\",\r\n          password_confirm:\"\",\r\n          agreedToTerms:false,\r\n          a_password:\"\",\r\n          company:\"\"\r\n        });\r\n        setTimeout(()=>{ this.setState({\"message\":\"\", error:\"\"}) }, 3000);\r\n      })\r\n      .catch((err) => {\r\n        this.setState({\r\n          loading:false,\r\n          errorMsg:err,\r\n          email: \"\",\r\n          password: \"\",\r\n          profileImageUrl: \"\",\r\n          f_name:\"\",\r\n          l_name:\"\",\r\n          password_confirm:\"\",\r\n          agreedToTerms:false,\r\n          a_password:\"\",\r\n          company:\"\"\r\n        });\r\n         setTimeout(()=>{ this.setState({\"message\":\"\", error:\"\"}) }, 3000);\r\n        return;\r\n      });\r\n    }\r\n\r\n  };\r\n\r\n  handleChange = e => {\r\n    this.setState({ [e.target.name]: e.target.value });\r\n  };\r\n\r\n  handleDropdownChange= (evt,data)=>{\r\n    this.setState({[data.name]:data.value});\r\n  };\r\n\r\n   onCheckboxSelect(){\r\n    this.setState({\r\n      agreedToTerms: !this.state.agreedToTerms\r\n    });\r\n  }\r\n\r\n  \r\n\r\n  render() {\r\n    const { email, password, f_name, l_name , password_confirm, a_password} = this.state;\r\n    const {\r\n      signUp,\r\n      heading,\r\n      buttonText,\r\n      errors,\r\n      history\r\n    } = this.props;\r\n    const removeError = ()=>{this.setState({error:null})};\r\n    let pageLang = this.props.language;\r\n    history.listen(() => {\r\n      removeError();\r\n    });\r\n    const removeAdditionalField = this.props.removeAdditionalField ? this.props.removeAdditionalField  : false;\r\n    const customWidth = this.props.customWidth ? this.props.customWidth : \"50%\";\r\n    return (\r\n      <div>\r\n        <div className=\"section\">\r\n    <div className=\"ui container\">\r\n        \r\n        <div className=\"ui one column centered grid\">\r\n        <div className=\"row\">\r\n            <div className=\"ui segments\" id=\"authform\" style={{\"width\": customWidth}}>\r\n             <div className=\"ui segment\">\r\n                 <h1>{heading}</h1> \r\n                  {errors.message && (\r\n                  <Message \r\n                  error\r\n                  content={errors.message}/>) }\r\n                  {this.state.error && this.state.errorMsg !== \"\" && (\r\n                  <Message \r\n                  error\r\n                  content={this.state.errorMsg}/>) }\r\n                  {this.state.message !== \"\" && (\r\n                  <Message \r\n                  success\r\n                  content={this.state.message}/>) }\r\n             </div>\r\n               <div className=\"ui left aligned segment\">\r\n                    <div className=\"ui form registerForm\">\r\n          <Form error={this.state.error} onSubmit={this.handleSubmit}>\r\n          <div style={{\"display\":\"none\"}}>\r\n            <Form.Input\r\n                      style={{\"display\":\"none\"}}\r\n                      required={false}\r\n                      alt = \"Please leave this field empty\"\r\n                      tabIndex=\"-1\"\r\n                      autoComplete=\"somepassword\"\r\n                      id=\"a_password\"\r\n                      name=\"a_password\"\r\n                      onChange={this.handleChange}\r\n                      value={a_password}\r\n                      placeholder=\"**********\"\r\n                   />\r\n          </div>\r\n          {signUp && (\r\n               <div className=\"required field\">\r\n                       <Form.Input\r\n                          required={true}\r\n                          label= {pageLang === \"en\" ? \"First Name\" : \"Nombre\"} \r\n                          autoComplete=\"off\"\r\n                          id=\"f_name\"\r\n                          name=\"f_name\"\r\n                          onChange={this.handleChange}\r\n                          type=\"text\"\r\n                          value={f_name}\r\n                          placeholder=\"John\"\r\n                       />\r\n                    <div className=\"required field\">\r\n                      <Form.Input\r\n                          required={true}\r\n                          label= {pageLang === \"en\" ?  \"Last Name\": \"Apellido\"} \r\n                          autoComplete=\"off\"\r\n                          id=\"l_name\"\r\n                          name=\"l_name\"\r\n                          onChange={this.handleChange}\r\n                          type=\"text\"\r\n                          value={l_name}\r\n                          placeholder=\"Doe\"\r\n                       />\r\n                  </div>\r\n                  <div className=\"required field\">\r\n                      <Form.Dropdown\r\n                          required={true}\r\n                          label= {pageLang === \"en\" ?  \"Company\": \"Empresa\"} \r\n                          autoComplete=\"off\"\r\n                          id=\"company\"\r\n                          name=\"company\"\r\n                          onChange={this.handleDropdownChange}\r\n                          options={this.state.companyList}\r\n                          value={this.state.company}\r\n                          placeholder=\"Engin.AI\"\r\n                       />\r\n                  </div>\r\n          </div>\r\n            ) }\r\n         \r\n         \r\n          <div className=\"required field\">\r\n              <Form.Input\r\n                      required={true}\r\n                      label= \"Email\" \r\n                      autoComplete=\"off\"\r\n                      id=\"email\"\r\n                      name=\"email\"\r\n                      onChange={this.handleChange}\r\n                      type=\"email\"\r\n                      value={email}\r\n                      placeholder=\"johndoe@engin-ai.com\"\r\n                   />\r\n          </div>\r\n          <div className=\"required field\">  \r\n            <Form.Input\r\n                      required={true}\r\n                      label= {pageLang === \"en\" ? \"Password\" : \"Contraseña\"} \r\n                      autoComplete=\"off\"\r\n                      id=\"password\"\r\n                      name=\"password\"\r\n                      onChange={this.handleChange}\r\n                      type=\"password\"\r\n                      value={password}\r\n                      placeholder=\"**********\"\r\n                   />\r\n          </div>\r\n          {/*!signUp && (\r\n            <p><a href=\"/recover\">{pageLang === \"en\" ? \"Forgot your password?\" : \"¿Olvidaste tu contraseña?\"}</a></p>\r\n            )*/}\r\n          {signUp && (\r\n            <div className=\"required field\">  \r\n            <Form.Input\r\n                      required={true}\r\n                      label= {pageLang === \"en\"? \"Confirm password\" : \"Confirma la Contraseña\"} \r\n                      autoComplete=\"off\"\r\n                      id=\"password_confirm\"\r\n                      name=\"password_confirm\"\r\n                      onChange={this.handleChange}\r\n                      type=\"password\"\r\n                      value={password_confirm}\r\n                      placeholder=\"**********\"\r\n                   />\r\n          </div>\r\n            )}\r\n          {signUp && (\r\n            <Form.Field required>\r\n              <div className= \"ui checkbox\">\r\n                  <input checked={this.state.agreedToTerms} onChange={this.onCheckboxSelect} required type=\"checkbox\" name=\"agree\"/> \r\n                <label>\r\n                  <span>\r\n                    {pageLang === \"en\" ? \"I accept the\": \"Acepto los\"} <a href=\"/terms-of-use\">{pageLang === \"en\"? \"Terms and Conditions\" : \"Términos y Condiciones\"}</a> {pageLang=== \"en\" ? \"and the\":\"y la\"} <a href=\"/privacy-policy\">{pageLang === \"en\"? \"Privacy Policy\" : \"Política de Privacidad\"}</a>  \r\n                  </span>\r\n                </label> \r\n            </div>\r\n            </Form.Field>\r\n            )}\r\n\r\n          <Button loading={this.state.loading} disabled={signUp ? (!this.state.agreedToTerms || this.state.email === \"\" || this.state.password === \"\" || this.state.f_name === \"\" || this.state.l_name === \"\") : (this.state.email === \"\" || this.state.password === \"\")} className=\"ui red large fluid button\" type=\"submit\">{buttonText}</Button>\r\n         {signUp && (\r\n                <Message \r\n                  error\r\n                  content={pageLang === \"en\"? \"Passwords do not match\" : \"Las contraseñas no son iguales\"}\r\n                  />)}\r\n          </Form>\r\n                </div>\r\n                </div> \r\n                 </div>\r\n        </div>\r\n        {!removeAdditionalField && (\r\n          <div className=\"row\">\r\n                   <div className=\"ui segment\">\r\n                    {signUp ? (pageLang === \"en\" ? \"Already have an account?\" : \"¿Ya tienes una cuenta?\") : (pageLang === \"en\"? \"Not a member yet? Create a free account\" : \"Crea una cuenta gratuita\")}  <a href={signUp? \"/signin\" : \"/signup\" }>{signUp? (pageLang === \"en\" ? \"Sign In\" : \"Ingresa\") : (pageLang === \"en\" ? \"here\" : \"aquí\")}</a>.\r\n                 </div>    \r\n            </div>\r\n          )\r\n                           \r\n        }\r\n\r\n      \r\n        </div>\r\n        \r\n        \r\n    </div>\r\n   \r\n</div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\nAdminAuthForm.propTypes = {\r\n  buttonText: PropTypes.string,\r\n  errors: PropTypes.object,\r\n  heading: PropTypes.string,\r\n  history: PropTypes.object,\r\n  signIn: PropTypes.bool,\r\n  removeError: PropTypes.func\r\n};\r\n\r\nexport default AdminAuthForm;\r\n","import React, {Fragment} from \"react\";\r\nimport {Divider, Grid, Button, Form, Modal, Segment, Input} from 'semantic-ui-react';\r\nimport '../App.css';\r\nimport Dropzone from 'react-dropzone';\r\nimport {Magnifier} from \"react-image-magnifiers\";\r\nimport ReactGA from 'react-ga';\r\nimport {multipartApiCall, apiCall} from \"../services/api\";\r\nimport UploadHistory from \"../components/UploadHistory\";\r\nimport _ from \"lodash\";\r\nimport AdminAuthForm from \"../components/AdminAuthForm\";\r\n\r\nclass Dashboard extends React.Component {\r\nconstructor(props){\r\n    super(props);\r\n    this.state = {\r\n      acceptedFiles:[],\r\n      images:[],\r\n      arrayBuffers:[],\r\n      loading:false,\r\n      uploadedFiles:[],\r\n      modalOn:false,\r\n      foldername:\"\"\r\n      \r\n    };\r\n    this.handleDrop = this.handleDrop.bind(this);\r\n    this.handleSubmit = this.handleSubmit.bind(this);\r\n    this.handleChange = this.handleChange.bind(this);\r\n    this.onModalClose = this.onModalClose.bind(this);\r\n  }\r\n\r\n    componentDidMount() {\r\n      const currentUser = this.props.currentUser? this.props.currentUser : null; \r\n      const userid = currentUser && currentUser.id? currentUser.id:null;\r\n      if(!userid){\r\n        return;\r\n      }\r\n      apiCall(\"GET\",`${process.env.REACT_APP_PRODUCTION_SERVER_URL}/api/images/uploads/drive/track?userid=${userid}`).then((data)=>{\r\n        this.setState({\r\n          uploadedFiles:data\r\n        });\r\n      }).catch((err)=>{console.log(err)});\r\n      this.eventSource = new EventSource(`${process.env.REACT_APP_PRODUCTION_SERVER_URL}/api/images/uploads/drive/track/stream?userid=${userid}`);\r\n      this.eventSource.onmessage = e =>{\r\n        this.setState({uploadedFiles:JSON.parse(e.data)});\r\n      }\r\n    }\r\n\r\n    componentDidUpdate(prevProps, prevState){\r\n      const currentUser = this.props.currentUser ? this.props.currentUser : null; \r\n      const userid = currentUser && currentUser.id ? currentUser.id : null;\r\n      const progressArr = this.state.uploadedFiles.every((uploadObj)=>{\r\n        return uploadObj.numFiles === uploadObj.uploadedFileCount;\r\n      });\r\n      if(userid && _.isEqual(prevState.uploadedFiles,this.state.uploadedFiles) && progressArr){\r\n        if(this.eventSource){\r\n          console.log(\"event stream closed\");\r\n          this.eventSource.close();\r\n          this.eventSource = null;\r\n         }\r\n      }\r\n    }\r\n\r\n    componentWillUnmount() {\r\n       if(this.eventSource){\r\n        this.eventSource.close();\r\n       }\r\n    }\r\n\r\n  handleDrop(acceptedFiles){\r\n    console.log(\"acceptedFiles\",acceptedFiles);\r\n     const reader = new FileReader();\r\n     let filesArray = [];\r\n      // read file contents\r\n      acceptedFiles.forEach(file => {\r\n        filesArray.push(file);\r\n      });\r\n      // console.log(filesArray);.\r\n       ReactGA.event({\r\n                category: 'Visualization Tool',\r\n                action: 'File Upload',\r\n                label: 'File upload success'\r\n              }); \r\n     this.setState({\r\n      acceptedFiles:acceptedFiles,\r\n      arrayBuffers:filesArray\r\n     });\r\n    \r\n  }\r\n\r\n  handleChange(evt, data){\r\n    this.setState({\r\n      [data.name] : data.value\r\n    });\r\n  }\r\n\r\n  onModalClose(){\r\n    window.location.reload();    \r\n  }\r\n\r\n  handleSubmit = async (evt)=>{  \r\n    evt.preventDefault();\r\n    const userid = this.props.currentUser.id;\r\n    this.setState({\r\n      loading:true\r\n    });\r\n    try{\r\n      const formData = new FormData();\r\n      for(let file of this.state.acceptedFiles){\r\n        formData.append(\"image\", file);\r\n      }\r\n      formData.append(\"userid\", userid);\r\n      formData.append(\"foldername\",this.state.foldername);\r\n      const uploadedFiles = await multipartApiCall(\"POST\",`${process.env.REACT_APP_PRODUCTION_SERVER_URL}/api/images/uploads/drive/bulk`, formData);\r\n      this.setState({\r\n        loading:false,\r\n        modalOn:true,\r\n        acceptedFiles:[],\r\n        arrayBuffers:[],\r\n        uploadedFiles:[...this.state.uploadedFiles, uploadedFiles],\r\n        foldername:\"\"\r\n      });\r\n    }catch(err){\r\n      console.log(err);\r\n    }\r\n\r\n  }\r\n\r\n  render() {\r\n    let backgroundImg = `linear-gradient(45deg, rgb(229, 44, 78) 1%, rgb(233, 74, 99) 30%, rgb(174, 82, 157) 69%, rgb(154, 85, 177) 100%)`;\r\n    const currentUser = this.props.currentUser ? this.props.currentUser : null; \r\n    const browserLang = this.props.language || \"en\";\r\n    const configSectionWidth = this.state.twoImages? 4 : 8;\r\n    const visualSectionWidth = this.state.twoImages? 12: 8;\r\n    let tableData = [];\r\n     \r\n    // console.log(process.env.REACT_APP_PRODUCTION_SERVER_URL);\r\n    let fileNames = this.state.acceptedFiles.map((file)=>{\r\n      if(\"name\" in file){\r\n        return (<p key={file.name}>{file.name}</p>)\r\n      }else if(\"path\" in file){\r\n        return (<p key={file.path}>{file.path}</p>)\r\n      }else{\r\n        return (<p key=\"no-name\">{\"no-name\"}</p>)\r\n      }\r\n      \r\n    });\r\n    \r\n    if(this.state.parsedCsvData && \"length\" in this.state.parsedCsvData){\r\n      tableData = this.state.parsedCsvData.slice(this.state.startingRow, this.state.startingRow+this.state.maxRowCount);\r\n    }\r\n    return (\r\n      <Fragment>\r\n        <Modal open={this.state.modalOn} onClose={this.onModalClose}>\r\n          <Modal.Header>{browserLang === \"en\" ? \"Files Received\": \"Los archivos han sido recibidos\"}</Modal.Header>\r\n            <Modal.Content>\r\n              {browserLang === \"en\" ? \"We're now processing your files, the upload may take some time. Please check the 'Upload History' table to see the progress of your upload \":\"Estamos procesando sus archivos, esto puede tomar un tiempo. Por favor revise la sección de 'Historial de Cargas' para ver el progreso\"}\r\n            </Modal.Content>\r\n            <Modal.Actions>\r\n              <Button positive onClick={() => window.location.reload()}>\r\n                {browserLang === \"en\" ? \"I Understand\" : \"Entendido\"}\r\n              </Button>\r\n            </Modal.Actions>\r\n        </Modal>\r\n        <header className=\"App-hero\" style={{\r\n          \"minHeight\":\"75px\",\r\n          \"backgroundImage\":backgroundImg,\r\n          \"color\":\"white\"\r\n        }}>\r\n        </header>\r\n        <div style={{\"paddingTop\":\"16px\",\"marginLeft\":\"40px\", \"marginRight\":\"40px\"}}>\r\n          <Grid stackable>\r\n            <Grid.Row columns={2}>\r\n\r\n                <Grid.Column width={configSectionWidth} style={{\"textAlign\":\"left\"}}>\r\n                  <Grid.Row>\r\n                    <h1>{currentUser && \"company\" in currentUser ? currentUser.company : (browserLang === \"en\"? \"Welcome\" : \"Bienvenido(a)\") }</h1>\r\n                    </Grid.Row>\r\n                    <Divider hidden/>\r\n                  <Grid.Row>\r\n                    <h2>{browserLang === \"en\" ? \"Select Files\":\"Seleccionar Archivos\"}</h2>\r\n                    </Grid.Row>\r\n                    <Grid.Row>\r\n                    <Segment basic>{browserLang === \"en\" ? \"Each file upload creates a new folder. If you'd like to create a new folder, please perform separate uploads\":\"Cada subida de archivos crea una nueva carpeta. Si deseas crear nuevas carpetas, haz cargas separadas\"}</Segment>\r\n                    </Grid.Row>\r\n                    <Grid.Row>\r\n                      <Dropzone multiple={true} onDrop={acceptedFiles => this.handleDrop(acceptedFiles)}>\r\n                      {({getRootProps, getInputProps}) => (\r\n                        <section>\r\n                          <div className=\"dropzone\" {...getRootProps()}>\r\n                            <input {...getInputProps()} />\r\n                            <p>{browserLang === \"en\" ? \"Drag 'n' drop some files here, or click to select files\":\"Arrastra los archivos aquí, o haz click para seleccionar archivo\"}</p>\r\n                          </div>\r\n                        </section>\r\n                      )}\r\n                </Dropzone>\r\n                    </Grid.Row>\r\n                    <Grid.Row style={{\"maxHeight\":\"100px\", \"overflowY\":\"scroll\"}}>\r\n                      {fileNames}\r\n                    </Grid.Row>\r\n                    <Divider></Divider>\r\n                    <Grid.Row>\r\n                      <Segment basic>\r\n                        {browserLang === \"en\" ? \"Please identify this upload with a name that describes the type of data that is being sent over\":\"Por favor identifique estos archivos con un nombre que describa el tipo de datos que se está subiendo\"}\r\n                      </Segment>\r\n                    </Grid.Row>\r\n                    <Grid.Row>\r\n                      <Input onChange={this.handleChange} name=\"foldername\" style={{\"width\":\"100%\"}} placeholder={browserLang === \"en\" ? \"Dataset from highway A to B\" :\"Recorrido de via A a B\"} label={browserLang === \"en\"? \"Type a name for this folder\":\"Escribe un nombre para esta carpeta\"}></Input>\r\n                    </Grid.Row>\r\n                    <Divider hidden></Divider>\r\n                    <Grid.Row>\r\n                      <Button fluid positive loading={this.state.loading} onClick={this.handleSubmit}>\r\n                        {browserLang === \"en\"? \"Upload\": \"Subir\"}\r\n                      </Button>\r\n                    </Grid.Row>\r\n                  </Grid.Column>\r\n                  <Grid.Column>\r\n                    <h2>{browserLang === \"en\"? \"Upload History\": \"Historial de Cargas\"}</h2>\r\n                    <UploadHistory {...this.props} uploads={this.state.uploadedFiles}></UploadHistory>\r\n                  </Grid.Column>\r\n              </Grid.Row>\r\n              {currentUser && currentUser.role === \"admin\" && (\r\n              <Fragment>\r\n                  <Grid.Row>\r\n                    <h1>{browserLang === \"en\" ?  \"Admin Panel\" : \"Tablero de Administrador\"}</h1>\r\n                  </Grid.Row>\r\n                  <Grid.Row> \r\n                    <h2>{browserLang === \"en\" ? \"Create Users\": \"Creador de Usuarios\"}</h2>\r\n                  </Grid.Row>\r\n                  <Grid.Row> \r\n                    <AdminAuthForm adminUserId={currentUser.id} removeAdditionalField={true} signUp={true} heading={browserLang === \"en\" ? \"Create User\" : \"Crear Usuario\"} buttonText={browserLang === \"en\" ? \"Create\": \"Crear\"} errors ={{message:\"\"}} history ={this.props.history} removeError={()=>console.log(\"Remove errors\")}>\r\n                    </AdminAuthForm>\r\n                  </Grid.Row>\r\n              </Fragment>\r\n                )}   \r\n\r\n        </Grid>  \r\n        </div>\r\n          \r\n      </Fragment>\r\n      \r\n     \r\n    );\r\n  }\r\n}\r\n\r\nexport default Dashboard;","import React, { Component } from 'react';\r\nimport { Link } from 'react-router-dom';\r\n\r\nimport { Container, Menu, Icon } from 'semantic-ui-react';\r\n\r\nexport default class Menubar extends Component {\r\n  render() {\r\n    const { active } = this.props;\r\n    return (\r\n      <div style={{ background: '#f7f7f7', minHeight: '100vh'}}>\r\n        <Menu inverted>\r\n          <Container>\r\n            <Menu.Item header>Image Labeling</Menu.Item>\r\n            <Link to=\"/label/\">\r\n              <Menu.Item active={active === 'label'}>\r\n                <Icon name=\"tag\" style={{ marginRight: '5px' }} />\r\n                Label\r\n              </Menu.Item>\r\n            </Link>\r\n            <Link to=\"/admin/\">\r\n              <Menu.Item active={active === 'admin'}>\r\n                <Icon name=\"pencil\" style={{ marginRight: '5px' }} />\r\n                Admin\r\n              </Menu.Item>\r\n            </Link>\r\n            <Link to=\"/help/\">\r\n              <Menu.Item active={active === 'help'}>\r\n                <Icon name=\"help circle\" style={{ marginRight: '5px' }} />\r\n                Help\r\n              </Menu.Item>\r\n            </Link>\r\n          </Container>\r\n        </Menu>\r\n\r\n        <Container>{this.props.children}</Container>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React, { Component } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { Card, Grid, Button, Loader, Header } from 'semantic-ui-react';\r\nimport {apiCall} from \"../services/api\";\r\n\r\nexport default class ProjectsGrid extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      error: null,\r\n      isLoaded: false,\r\n      projects: [],\r\n    };\r\n\r\n    this.onNewProject = this.onNewProject.bind(this);\r\n  }\r\n\r\n  async componentDidMount() {\r\n    try {\r\n      const projects = await apiCall(\"get\",`${process.env.REACT_APP_PRODUCTION_SERVER_URL}/api/projects/`);\r\n      // console.log(\"projects\",projects);\r\n      if (projects.error && projects.status === 401) {\r\n        window.location = '/#/admin/login/';\r\n        return;\r\n      }\r\n\r\n      this.setState({\r\n        isLoaded: true,\r\n        projects,\r\n      });\r\n    } catch (error) {\r\n      this.setState({\r\n        isLoaded: true,\r\n        error,\r\n      });\r\n      window.location = '/#/admin/login/';\r\n    }\r\n  }\r\n\r\n  async onNewProject() {\r\n    const newProject = await apiCall(\"post\",`${process.env.REACT_APP_PRODUCTION_SERVER_URL}/api/projects`);\r\n    this.setState({\r\n      projects: this.state.projects.concat([newProject]),\r\n    });\r\n  }\r\n\r\n  render() {\r\n    const { error, isLoaded, projects } = this.state;\r\n    const { linkPrefix, newButton, title } = this.props;\r\n\r\n    if (error) {\r\n      return <div>Error: {error.message}</div>;\r\n    } else if (!isLoaded) {\r\n      return <Loader active inline=\"centered\" />;\r\n    }\r\n\r\n    const renderProjectCard = project => {\r\n      const { name, form, imagesCount, labelsCount } = project;\r\n      const id = project._id;\r\n      const info = `${imagesCount} images, ${labelsCount} labeled`;\r\n      const desc = `Tags: ${form.formParts.map(part => part.name).join(', ')}`;\r\n      return (\r\n        <Grid.Column key={id}>\r\n          <a href={`/#${linkPrefix}${id}`}>\r\n            <Card fluid link header={name} meta={info} description={desc} />\r\n          </a>\r\n        </Grid.Column>\r\n      );\r\n    };\r\n\r\n    const renderedButton = newButton ? (\r\n      <Button style={{ padding: '1.5em' }} onClick={this.onNewProject}>\r\n        <span style={{ fontSize: '4em' }}>+</span>\r\n        <div>Make a new project</div>\r\n      </Button>\r\n    ) : null;\r\n\r\n    return (\r\n      <div>\r\n        <Header as=\"h1\">{title}</Header>\r\n        <Grid stackable columns={2}>\r\n          {projects.map(renderProjectCard)}\r\n          <Grid.Column>{renderedButton}</Grid.Column>\r\n        </Grid>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React, { Component, Fragment} from 'react';\r\n\r\nimport Menubar from './Menubar';\r\nimport ProjectsGrid from './ProjectsGrid';\r\n\r\nexport default class LabelHome extends Component {\r\n  render() {\r\n    let backgroundImg = `linear-gradient(45deg, rgb(229, 44, 78) 1%, rgb(233, 74, 99) 30%, rgb(174, 82, 157) 69%, rgb(154, 85, 177) 100%)`;\r\n    return (\r\n      <Fragment>\r\n        <header className=\"App-hero\" style={{\r\n            \"minHeight\":\"75px\",\r\n            \"backgroundImage\":backgroundImg,\r\n            \"color\":\"white\"\r\n          }}>\r\n          </header>\r\n        <div>  \r\n          <Menubar {...this.props} active=\"label\">\r\n            <ProjectsGrid\r\n              {...this.props}\r\n              title=\"Start Labeling:\"\r\n              linkPrefix=\"/label/\"\r\n              newButton={false}\r\n            />\r\n          </Menubar>\r\n        </div>\r\n      </Fragment>\r\n    );\r\n  }\r\n}\r\n","import React, { Component } from 'react';\r\n\r\nimport { Loader, Checkbox, Button, Header, Table } from 'semantic-ui-react';\r\n\r\nimport { AutoSizer, List } from 'react-virtualized';\r\n\r\nimport update from 'immutability-helper';\r\nimport shallowEqualObjects from 'shallow-equal/objects';\r\n\r\nimport {apiCall} from \"../services/api\";\r\n\r\nexport default class ProjectImages extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      error: null,\r\n      isLoaded: false,\r\n      images: [],\r\n    };\r\n\r\n    this.handleLabeled = this.handleLabeled.bind(this);\r\n    this.handleDelete = this.handleDelete.bind(this);\r\n    this.markAllNotLabeled = this.markAllNotLabeled.bind(this);\r\n  }\r\n\r\n  shouldComponentUpdate(nextProps, nextState) {\r\n    const { projectId } = this.props;\r\n    if (\r\n      projectId === nextProps.projectId &&\r\n      shallowEqualObjects(this.state, nextState)\r\n    ) {\r\n      return false;\r\n    }\r\n    return true;\r\n  }\r\n\r\n  async componentDidMount() {\r\n    this.props.refetchRef(this.refetch.bind(this));\r\n    await this.refetch();\r\n  }\r\n\r\n  async refetch() {\r\n    const { projectId } = this.props;\r\n    try {\r\n      const images = await apiCall(\"GET\",`${process.env.REACT_APP_PRODUCTION_SERVER_URL}/api/images/?projectId=${projectId}`);\r\n      this.setState({\r\n        isLoaded: true,\r\n        images,\r\n      });\r\n    } catch (error) {\r\n      this.setState({\r\n        isLoaded: true,\r\n        error,\r\n      });\r\n    }\r\n  }\r\n\r\n  async handleLabeled(imageId, labeled) {\r\n    console.log(\"handleLabeled imageid\",imageId );\r\n    console.log(\"handleLabeled labeled\",labeled );\r\n    const { images } = this.state;\r\n    const idx = images.findIndex(x => x._id === imageId);\r\n    this.setState(state => ({\r\n      images: update(state.images, {\r\n        $splice: [[idx, 1, { ...state.images[idx], labeled }]],\r\n      }),\r\n    }));\r\n\r\n    await apiCall(\"PATCH\",`${process.env.REACT_APP_PRODUCTION_SERVER_URL}/api/images/${imageId}`,{ labeled });\r\n  }\r\n\r\n  async handleDelete(imageId) {\r\n    const { images } = this.state;\r\n    const idx = images.findIndex(x => x._id === imageId);\r\n    this.setState(state => ({\r\n      images: update(state.images, {\r\n        $splice: [[idx, 1]],\r\n      }),\r\n    }));\r\n\r\n    await apiCall(\"DELETE\",`${process.env.REACT_APP_PRODUCTION_SERVER_URL}/api/images/${imageId}`);\r\n  }\r\n\r\n  markAllNotLabeled() {\r\n    const { images } = this.state;\r\n    images.forEach(image => this.handleLabeled(image._id, false));\r\n  }\r\n\r\n  render() {\r\n    const { projectId } = this.props;\r\n    const { error, isLoaded, images } = this.state;\r\n\r\n    if (error) {\r\n      return <div>Error: {error.message}</div>;\r\n    } else if (!isLoaded) {\r\n      return <Loader active inline=\"centered\" />;\r\n    }\r\n\r\n    if (!images.length) {\r\n      return (\r\n        <Header className=\"centered\" as=\"h5\">\r\n          No images, upload images using the form below\r\n        </Header>\r\n      );\r\n    }\r\n\r\n    return (\r\n      <div className=\"project-images\">\r\n        <Table\r\n          celled\r\n          style={{ display: 'flex', flexDirection: 'column', height: 600 }}\r\n        >\r\n          <Table.Header style={{ flex: '0 0 auto' }}>\r\n            <Table.Row style={{ display: 'flex', background: '#f9fafb' }}>\r\n              <Table.HeaderCell style={columnStyles[0]}>ID</Table.HeaderCell>\r\n              <Table.HeaderCell style={columnStyles[1]}>\r\n                Image Link\r\n              </Table.HeaderCell>\r\n              <Table.HeaderCell style={columnStyles[2]}>\r\n                Label Status\r\n              </Table.HeaderCell>\r\n              <Table.HeaderCell style={columnStyles[3]}>\r\n                Actions\r\n              </Table.HeaderCell>\r\n              {/* extra header cell to even out the width with a fake scrollbar */}\r\n              <Table.HeaderCell\r\n                style={{\r\n                  flex: '0 0 auto',\r\n                  opacity: 0,\r\n                  overflowY: 'scroll',\r\n                  padding: 0,\r\n                  border: 0,\r\n                }}\r\n              />\r\n            </Table.Row>\r\n          </Table.Header>\r\n          <Table.Body style={{ height: '100%', flex: 1, outline: 0 }}>\r\n            <AutoSizedList\r\n              rowHeight={55}\r\n              rowCount={images.length}\r\n              style={{ overflowY: 'scroll' }}\r\n              rowRenderer={({ index, style, key }) => (\r\n                <Row\r\n                  key={key}\r\n                  style={style}\r\n                  image={images[index]}\r\n                  projectId={projectId}\r\n                  onLabeled={this.handleLabeled}\r\n                  onDelete={this.handleDelete}\r\n                />\r\n              )}\r\n              overscanRowCount={10}\r\n            />\r\n          </Table.Body>\r\n        </Table>\r\n        <Button\r\n          style={{ float: 'right' }}\r\n          icon=\"cancel\"\r\n          label=\"Mark all images as 'Unlabeled'\"\r\n          onClick={this.markAllNotLabeled}\r\n        />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst columnStyles = [\r\n  { flex: '0 0 80px', lineHeight: '32px' },\r\n  { flex: '1', lineHeight: '32px' },\r\n  { flex: '0 0 120px', lineHeight: '32px' },\r\n  { flex: '0 0 250px', lineHeight: '32px' },\r\n];\r\nconst Row = ({ image, projectId, style, onLabeled, onDelete }) => (\r\n  <Table.Row style={{ ...style, display: 'flex' }}>\r\n    <Table.Cell style={columnStyles[0]}>{image._id}</Table.Cell>\r\n    <Table.Cell style={columnStyles[1]}>\r\n      <a target=\"_blank\"rel=\"noopener noreferrer\" href={`${image.externalLink}`}>{image.originalName}</a>\r\n    </Table.Cell>\r\n    <Table.Cell style={columnStyles[2]}>\r\n      <Checkbox\r\n        checked={!!image.labeled}\r\n        label=\"Labeled\"\r\n        onChange={(e, { checked }) => onLabeled(image._id, checked)}\r\n      />\r\n    </Table.Cell>\r\n    <Table.Cell style={columnStyles[3]}>\r\n      <div>\r\n        <a\r\n          target=\"_blank\"\r\n          rel=\"noopener noreferrer\"\r\n          href={`/#/label/${projectId}/${image._id}`}\r\n        >\r\n          <Button positive icon=\"pencil\" label=\"Edit\" size=\"tiny\" />\r\n        </a>\r\n        <Button\r\n          color=\"red\"\r\n          icon=\"trash\"\r\n          label=\"Delete\"\r\n          size=\"tiny\"\r\n          onClick={() => onDelete(image._id)}\r\n        />\r\n      </div>\r\n    </Table.Cell>\r\n  </Table.Row>\r\n);\r\n\r\nconst AutoSizedList = props => (\r\n  <AutoSizer>\r\n    {({ height, width }) => <List height={height} width={width} {...props} />}\r\n  </AutoSizer>\r\n);\r\n","import React, { Component } from 'react';\r\n\r\nimport {\r\n  Button,\r\n  Form,\r\n  Grid,\r\n  Divider,\r\n  Message,\r\n  Segment,\r\n} from 'semantic-ui-react';\r\n\r\nimport {apiCall} from \"../services/api\";\r\n\r\nexport default class UploadImages extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      urlsText: '',\r\n      localPath: '',\r\n      urlsError: null,\r\n      localPathError: null,\r\n    };\r\n\r\n    this.handleChange = this.handleChange.bind(this);\r\n    this.handleSubmit = this.handleSubmit.bind(this);\r\n    this.handlePathSubmit = this.handlePathSubmit.bind(this);\r\n    this.handleFilesSubmit = this.handleFilesSubmit.bind(this);\r\n  }\r\n\r\n  handleChange(e, change) {\r\n    const { name, value } = change;\r\n    this.setState({\r\n      [name]: value,\r\n    });\r\n  }\r\n\r\n  async handleSubmit() {\r\n    const { urlsText } = this.state;\r\n    const { projectId } = this.props;\r\n\r\n    if (!urlsText) return;\r\n\r\n    const urls = urlsText\r\n      .trim()\r\n      .split('\\n')\r\n      .filter(line => line !== '');\r\n\r\n      console.log(\"urls\", urls);\r\n\r\n    const resp = await apiCall(\"POST\", `${process.env.REACT_APP_PRODUCTION_SERVER_URL}/api/images/`, \r\n    {\r\n        projectId,\r\n        urls,\r\n      });\r\n\r\n    if (!resp.ok) {\r\n      this.setState({\r\n        urlsError: resp.message,\r\n      });\r\n      return;\r\n    }\r\n\r\n    this.setState({\r\n      urlsError: null,\r\n    });\r\n\r\n    this.props.onChange();\r\n    this.setState({ urlsText: '' });\r\n  }\r\n\r\n  async handleFilesSubmit(e) {\r\n    e.preventDefault();\r\n\r\n    const form = e.target;\r\n    const formData = new FormData(form);\r\n\r\n    await apiCall(\"POST\",`${process.env.REACT_APP_PRODUCTION_SERVER_URL}/api/uploads/${this.props.projectId}`,formData);\r\n\r\n    this.props.onChange();\r\n\r\n    form.reset();\r\n  }\r\n\r\n  async handlePathSubmit(e) { \r\n    e.preventDefault();\r\n\r\n    const form = e.target;\r\n    const { localPath } = this.state;\r\n    const { projectId } = this.props;\r\n\r\n    if (!localPath) return;\r\n\r\n    const resp = await apiCall(\"POST\",`${process.env.REACT_APP_PRODUCTION_SERVER_URL}/api/images/`, {\r\n        projectId,\r\n        localPath,\r\n      });\r\n    if (!resp.ok) {\r\n      this.setState({\r\n        localPathError: resp.message,\r\n      });\r\n      return;\r\n    }\r\n\r\n    this.setState({\r\n      localPathError: null,\r\n    });\r\n    this.props.onChange();\r\n\r\n    form.reset();\r\n  }\r\n\r\n  render() {\r\n    const { urlsText, urlsError, localPath, localPathError } = this.state;\r\n\r\n    const urlsMessage = urlsError ? (\r\n      <Message negative>{urlsError}</Message>\r\n    ) : null;\r\n    const localPathMessage = localPathError ? (\r\n      <Message negative>{localPathError}</Message>\r\n    ) : null;\r\n\r\n    return (\r\n      <Segment>\r\n        <Grid columns={1} relaxed=\"very\" stackable>\r\n          {/*<Grid.Column>\r\n              <Form\r\n                method=\"post\"\r\n                encType=\"multipart/form-data\"\r\n                onSubmit={this.handleFilesSubmit}\r\n              >\r\n                <Form.Input\r\n                  label=\"Upload files from disk\"\r\n                  multiple\r\n                  type=\"file\"\r\n                  id=\"images\"\r\n                  name=\"images\"\r\n                  accept=\".jpg, .jpeg, .png\"\r\n                />\r\n                <Button type=\"submit\">Upload</Button>\r\n              </Form>\r\n            </Grid.Column>*/}\r\n\r\n          <Grid.Column>\r\n            <Form onSubmit={this.handleSubmit}>\r\n              <Form.TextArea\r\n                name=\"urlsText\"\r\n                label=\"Images URLs\"\r\n                placeholder=\"One URL per line i.e. https://images.com/cat.jpg\"\r\n                rows=\"3\"\r\n                value={urlsText}\r\n                onChange={this.handleChange}\r\n              />\r\n              <Button positive>Source from URLs</Button>\r\n            </Form>\r\n            {urlsMessage}\r\n          </Grid.Column>\r\n          {/*<Grid.Column>\r\n              <Form onSubmit={this.handlePathSubmit}>\r\n                <Form.Input\r\n                  name=\"localPath\"\r\n                  label=\"Server's filesystem path\"\r\n                  placeholder=\"i.e. /mnt/image-server/project-files/\"\r\n                  value={localPath}\r\n                  onChange={this.handleChange}\r\n                />\r\n                <Button positive>Source from server's filesystem</Button>\r\n              </Form>\r\n              {localPathMessage}\r\n            </Grid.Column>*/}\r\n        </Grid>\r\n\r\n        {/*<Divider vertical style={{ left: '33%' }}>\r\n                  Or\r\n                </Divider>\r\n                <Divider vertical style={{ left: '66%' }}>\r\n                  Or\r\n                </Divider>*/}\r\n      </Segment>\r\n    );\r\n  }\r\n}\r\n","import React from 'react';\r\nimport {\r\n  Form,\r\n  Input,\r\n  Icon,\r\n  Button,\r\n  Checkbox,\r\n  Radio,\r\n  Header,\r\n} from 'semantic-ui-react';\r\n\r\nimport { sortableHandle } from 'react-sortable-hoc';\r\n\r\nimport update from 'immutability-helper';\r\n\r\nfunction renderExtraConfig({ value, onChange }) {\r\n  if (value.type === 'text') {\r\n    return (\r\n      <Input\r\n        label=\"Input box prompt\"\r\n        className=\"visible\"\r\n        placeholder=\"Ex.: 'car brand and model'\"\r\n        onChange={(e, data) =>\r\n          onChange(value, { ...value, prompt: data.value })\r\n        }\r\n      />\r\n    );\r\n  }\r\n\r\n  if (value.type === 'select' || value.type === 'select-one') {\r\n    const options = value.options || [];\r\n    const Comp = value.type === 'select' ? Checkbox : Radio;\r\n\r\n    const renderedOptions = options.map((optionText, index) => (\r\n      <div key={index} className=\"form-checkbox\">\r\n        <Comp checked={false} tabIndex=\"-1\" />\r\n        <Input\r\n          style={{ top: '-3px' }}\r\n          value={optionText}\r\n          size=\"small\"\r\n          onChange={(e, data) =>\r\n            onChange(value, {\r\n              ...value,\r\n              options: update(options, { $splice: [[index, 1, data.value]] }),\r\n            })\r\n          }\r\n        />\r\n        <Button\r\n          color=\"red\"\r\n          type=\"button\"\r\n          icon=\"trash\"\r\n          style={{ background: 'transparent' }}\r\n          onClick={() =>\r\n            onChange(value, {\r\n              ...value,\r\n              options: update(options, { $splice: [[index, 1]] }),\r\n            })\r\n          }\r\n        />\r\n      </div>\r\n    ));\r\n\r\n    return (\r\n      <div>\r\n        <Header as=\"h5\">Options:</Header>\r\n        {renderedOptions}\r\n        <Button\r\n          type=\"button\"\r\n          size=\"mini\"\r\n          circular\r\n          icon=\"plus\"\r\n          color=\"teal\"\r\n          onClick={() =>\r\n            onChange(value, {\r\n              ...value,\r\n              options: update(options, { $push: ['Option'] }),\r\n            })\r\n          }\r\n        />\r\n      </div>\r\n    );\r\n  }\r\n  return null;\r\n}\r\n\r\nexport default function LabelFormItem({ value, onChange }) {\r\n  const options = [\r\n    { key: 'bbox', text: 'Draw a bounding box', value: 'bbox' },\r\n    { key: 'polygon', text: 'Draw a polygon figure', value: 'polygon' },\r\n    { key: 'text', text: 'Enter a text label', value: 'text' },\r\n    { key: 'select', text: 'Select all tags that apply', value: 'select' },\r\n    { key: 'polyline', text: 'Draw an unclosed line', value: 'polyline' },\r\n    {\r\n      key: 'select-one',\r\n      text: 'Select one tag that applies',\r\n      value: 'select-one',\r\n    },\r\n  ];\r\n\r\n  const extraConfig = renderExtraConfig({ value, onChange });\r\n\r\n  return (\r\n    <div\r\n      style={{\r\n        marginTop: '0.7em',\r\n        padding: '1em',\r\n        border: 'solid 1px #efefef',\r\n        background: 'white',\r\n        shadow: 'rgb(204, 204, 204) 0px 1px 2px',\r\n      }}\r\n    >\r\n      <Form className=\"form-card\" style={{ display: 'flex' }}>\r\n        <DragHandle style={{ flex: 0, marginTop: 9 }} />\r\n        <div style={{ flex: 1, padding: '0 0.5em' }}>\r\n          <Form.Field\r\n            placeholder=\"Label name\"\r\n            control=\"input\"\r\n            defaultValue={value.name}\r\n            style={{ padding: 3, fontSize: 24 }}\r\n            onChange={e => onChange(value, { ...value, name: e.target.value })}\r\n          />\r\n          <Form.Select\r\n            label=\"Label type\"\r\n            options={options}\r\n            defaultValue={value.type}\r\n            onChange={(e, change) =>\r\n              onChange(value, { ...value, type: change.value })\r\n            }\r\n            style={{ maxWidth: 400 }}\r\n          />\r\n          {extraConfig}\r\n        </div>\r\n        <div style={{ flex: '0 0 auto' }}>\r\n          <Button\r\n            type=\"button\"\r\n            style={{ background: 'transparent', padding: 0 }}\r\n            onClick={() => onChange(value, null)}\r\n          >\r\n            <Icon color=\"red\" name=\"trash\" />\r\n          </Button>\r\n        </div>\r\n      </Form>\r\n    </div>\r\n  );\r\n}\r\n\r\nconst dragHandleStyle = {\r\n  background:\r\n    'linear-gradient(#408dff, #4791ff 20%, hsl(0deg 0% 100%) 0px, rgb(255, 255, 255) 40%, #4791ff 0px, #4791ff 60%, rgb(255, 255, 255) 0px, rgb(255, 255, 255) 80%, #4791ff 0px, #4791ff)',\r\n  width: 25,\r\n  minWidth: 25,\r\n  height: 20,\r\n  opacity: 0.55,\r\n  cursor: 'move',\r\n};\r\nconst DragHandle = sortableHandle(({ style }) => (\r\n  <div style={{ ...dragHandleStyle, ...style }} />\r\n));\r\n","import React, { Component } from 'react';\r\n\r\nimport { Form, Segment, Button, Loader } from 'semantic-ui-react';\r\n\r\nimport {apiCall} from \"../services/api\";\r\n\r\n\r\nexport default class ImportData extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      message: null,\r\n      loading: false,\r\n    };\r\n    this.handleFilesSubmit = this.handleFilesSubmit.bind(this);\r\n  }\r\n\r\n  async handleFilesSubmit(e) {\r\n    e.preventDefault();\r\n\r\n    const form = e.target;\r\n    const formData = new FormData(form);\r\n\r\n    this.setState({ message: null });\r\n    const res = await apiCall(\"POST\",`${process.env.REACT_APP_PRODUCTION_SERVER_URL}/api/import/${this.props.projectId}`,formData);\r\n\r\n    // const res = await fetch(`${process.env.REACT_APP_PRODUCTION_SERVER_URL}/api/import/${this.props.projectId}`, {\r\n    //   method: 'POST',\r\n    //   body: formData,\r\n    // });\r\n    const { message } = await res.json();\r\n    this.setState({\r\n      message,\r\n      loading: false,\r\n    });\r\n\r\n    form.reset();\r\n    this.props.onChange();\r\n  }\r\n\r\n  render() {\r\n    const { message, loading } = this.state;\r\n    const loader = loading ? <Loader /> : null;\r\n    const messages = (message || '').split('\\n').map((m, idx) => <div key={idx}>{m}</div>);\r\n\r\n    return (\r\n      <Segment>\r\n        <p>\r\n          Import image labels exported from tools like{' '}\r\n          <a href=\"https://labelbox.com\">LabelBox</a>.\r\n        </p>\r\n        <p>\r\n          The files must be formatted as a valid JSON, with corresponding image\r\n          name in the \"imagePath\" field.\r\n        </p>\r\n        <p>\r\n          Objects from the \"shapes\" field will be imported as polygons with\r\n          corresponding labels created.\r\n        </p>\r\n        <Form\r\n          method=\"post\"\r\n          encType=\"multipart/form-data\"\r\n          onSubmit={this.handleFilesSubmit}\r\n        >\r\n          <Form.Input\r\n            label=\"Select JSON files\"\r\n            multiple\r\n            type=\"file\"\r\n            id=\"files\"\r\n            name=\"files\"\r\n            accept=\".json\"\r\n          />\r\n          <Button type=\"submit\">Import</Button>\r\n        </Form>\r\n        {loader}\r\n        <div style={{ marginTop: '2em' }}>{messages}</div>\r\n      </Segment>\r\n    );\r\n  }\r\n}\r\n","import React, { Component } from 'react';\r\n\r\nimport {\r\n  Header,\r\n  Divider,\r\n  Form,\r\n  Message,\r\n  Segment,\r\n  Button,\r\n} from 'semantic-ui-react';\r\n\r\nexport default class UploadReference extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      uploadError: null,\r\n    };\r\n\r\n    this.handleFileSubmit = this.handleFileSubmit.bind(this);\r\n  }\r\n\r\n  async handleFileSubmit(e) {\r\n    e.preventDefault();\r\n\r\n    const form = e.target;\r\n    const formData = new FormData(form);\r\n\r\n    const resp = await fetch(\r\n      `${process.env.REACT_APP_PRODUCTION_SERVER_URL}/api/uploads/${this.props.project.id}/reference`,\r\n      {\r\n        method: 'POST',\r\n        body: formData,\r\n      }\r\n    );\r\n\r\n    if (!resp.ok) {\r\n      this.setState({\r\n        uploadError: (await resp.json()).message,\r\n      });\r\n      return;\r\n    }\r\n\r\n    this.setState({\r\n      uploadError: null,\r\n    });\r\n\r\n    form.reset();\r\n    this.props.onUpload();\r\n  }\r\n\r\n  render() {\r\n    const { uploadError } = this.state;\r\n    const { onChange, project } = this.props;\r\n    const { referenceText, referenceLink } = project;\r\n\r\n    const uploadErrorMessage = uploadError ? (\r\n      <Message negative>{uploadError}</Message>\r\n    ) : null;\r\n\r\n    let preview = null;\r\n    if (referenceText || referenceLink) {\r\n      const img = referenceLink ? (\r\n        <div style={{ position: 'relative' }}>\r\n          <img\r\n            alt=\"Reference\"\r\n            style={{ width: 'auto', maxWidth: '100%' }}\r\n            src={referenceLink}\r\n          />\r\n          <Button\r\n            icon=\"trash\"\r\n            size=\"tiny\"\r\n            label=\"Delete\"\r\n            style={{ position: 'absolute', top: 0, right: -125 }}\r\n            onClick={() => onChange({ referenceText, referenceLink: null })}\r\n          />\r\n        </div>\r\n      ) : null;\r\n      preview = (\r\n        <div>\r\n          <Header>Preview</Header>\r\n          <p>\r\n            This is what the reference image and text would look like on the top\r\n            of the labeling page:\r\n          </p>\r\n          <Segment>\r\n            {img}\r\n            {referenceText}\r\n          </Segment>\r\n          <Divider />\r\n        </div>\r\n      );\r\n    }\r\n\r\n    return (\r\n      <Segment>\r\n        {preview}\r\n        <Form\r\n          method=\"post\"\r\n          encType=\"multipart/form-data\"\r\n          onSubmit={this.handleFileSubmit}\r\n        >\r\n          <Form.Input\r\n            label=\"Upload image from disk\"\r\n            type=\"file\"\r\n            id=\"referenceImage\"\r\n            name=\"referenceImage\"\r\n            accept=\".jpg, .jpeg, .png\"\r\n            action=\"Upload\"\r\n            style={{ maxWidth: 600 }}\r\n          />\r\n        </Form>\r\n        {uploadErrorMessage}\r\n        <Form style={{ marginTop: '1em', maxWidth: 600 }}>\r\n          <Form.TextArea\r\n            autoHeight\r\n            label=\"Reference Text\"\r\n            placeholder=\"Instructions, descriptions, etc\"\r\n            defaultValue={referenceText}\r\n            onChange={(e, { value }) =>\r\n              onChange({ referenceText: value, referenceLink })\r\n            }\r\n          />\r\n        </Form>\r\n        <Divider />\r\n        <p>\r\n          The reference information (image and/or text) will be shown on top of\r\n          the labeling interface to give the labelers more instruction on how to\r\n          label or something to compare to (image of the key colors, reference\r\n          images, etc).\r\n        </p>\r\n      </Segment>\r\n    );\r\n  }\r\n}\r\n","import React, { Component } from 'react';\r\n\r\nimport {\r\n  Header,\r\n  Form,\r\n  Segment,\r\n  Table,\r\n  Button,\r\n  Loader,\r\n} from 'semantic-ui-react';\r\n\r\nimport {apiCall} from \"../services/api\";\r\n\r\nconst options = [\r\n  { value: 'object_detection', text: 'Object Detection' },\r\n  { value: 'object_classification', text: 'Object Classification' },\r\n  { value: 'semantic_segmentation', text: 'Semantic Segmentation' },\r\n];\r\n\r\nconst inputFormat = `\r\n{\r\n  \"instances\": [\r\n    {\r\n      \"input_bytes\": {\r\n        \"b64\": \"<str>\"\r\n      }\r\n    }\r\n  ]\r\n}\r\n`;\r\n\r\nconst outputFormats = {\r\n  object_detection: `\r\n{\r\n  \"predictions\": [\r\n    {\r\n       \"det_boxes\": [<ymin>, <xmin>, <ymax>, <xmax>],\r\n       \"det_class\": <str>,\r\n       \"det_score\": <0 ~ 1 floating number\r\n    },\r\n    ...,\r\n    ...\r\n    ]\r\n}\r\n`,\r\n  object_classification: `\r\n{\r\n  \"predictions\": [[<str>, <str>, <str>, <str>, <str>]]\r\n}\r\n`,\r\n  semantic_segmentation: `\r\n{\r\n  \"predictions\": [[...], [...], [...], ...]\r\n}\r\n`,\r\n};\r\n\r\nexport default class MLAssist extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      error: null,\r\n      isLoaded: false,\r\n      models: null,\r\n      currentValue: options[0].value,\r\n      url: null,\r\n      name: null,\r\n    };\r\n\r\n    this.onSubmit = this.onSubmit.bind(this);\r\n    this.onDelete = this.onDelete.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.reload();\r\n  }\r\n\r\n  async reload() {\r\n    try {\r\n      const models = await apiCall(\"GET\",`${process.env.REACT_APP_PRODUCTION_SERVER_URL}/api/mlmodels/`);\r\n      // const models = await (await fetch(`${process.env.REACT_APP_PRODUCTION_SERVER_URL}/api/mlmodels/`)).json();\r\n      this.setState({\r\n        isLoaded: true,\r\n        error: null,\r\n        models,\r\n      });\r\n    } catch (error) {\r\n      this.setState({\r\n        isLoaded: true,\r\n        error,\r\n      });\r\n    }\r\n  }\r\n\r\n  async onSubmit(e) {\r\n    e.preventDefault();\r\n    const form = e.target;\r\n\r\n    const type = this.state.currentValue;\r\n    const { url, name } = this.state;\r\n    await apiCall(\"POST\",`${process.env.REACT_APP_PRODUCTION_SERVER_URL}/api/mlmodels/`,\r\n      {\r\n        model: {\r\n          url,\r\n          name,\r\n          type,\r\n        },\r\n      });\r\n\r\n    form.reset();\r\n    this.reload();\r\n  }\r\n\r\n  async onDelete(id) {\r\n    await apiCall(\"DELETE\",`${process.env.REACT_APP_PRODUCTION_SERVER_URL}/api/mlmodels/${id}`);\r\n    this.reload();\r\n  }\r\n\r\n  render() {\r\n    const { error, isLoaded, models, currentValue } = this.state;\r\n    const value = currentValue;\r\n\r\n    if (error) {\r\n      return <div>Error: {error.message}</div>;\r\n    } else if (!isLoaded) {\r\n      return <Loader active inline=\"centered\" />;\r\n    }\r\n\r\n    const emptyMessage = models.length ? null : (\r\n      <div style={{ textAlign: 'center', padding: '3em' }}>\r\n        No end-points, add one below\r\n      </div>\r\n    );\r\n\r\n    return (\r\n      <Segment>\r\n        <Header as=\"h2\">Available end-points</Header>\r\n        <Table>\r\n          <Table.Header>\r\n            <Table.Row>\r\n              <Table.HeaderCell>Name</Table.HeaderCell>\r\n              <Table.HeaderCell>URL</Table.HeaderCell>\r\n              <Table.HeaderCell>Type</Table.HeaderCell>\r\n              <Table.HeaderCell>Actions</Table.HeaderCell>\r\n            </Table.Row>\r\n          </Table.Header>\r\n          <Table.Body>\r\n            {(models || []).map(({ id, name, url, type }) => (\r\n              <Table.Row key={id}>\r\n                <Table.Cell>{name}</Table.Cell>\r\n                <Table.Cell>{url}</Table.Cell>\r\n                <Table.Cell>{type}</Table.Cell>\r\n                <Table.Cell>\r\n                  <Button\r\n                    icon=\"trash\"\r\n                    label=\"Delete\"\r\n                    size=\"tiny\"\r\n                    onClick={() => this.onDelete(id)}\r\n                  />\r\n                </Table.Cell>\r\n              </Table.Row>\r\n            ))}\r\n          </Table.Body>\r\n        </Table>\r\n        {emptyMessage}\r\n        <div style={{ marginTop: '2em' }}>\r\n          <Header as=\"h2\">Add a new end-point</Header>\r\n          <Form style={{ maxWidth: 600 }}>\r\n            <Form.Select\r\n              label=\"Model type\"\r\n              options={options}\r\n              value={value}\r\n              onChange={(e, { value }) =>\r\n                this.setState({ currentValue: value })\r\n              }\r\n            />\r\n          </Form>\r\n          <Header as=\"h3\">Expected API format</Header>\r\n          <Table>\r\n            <Table.Header>\r\n              <Table.Row>\r\n                <Table.HeaderCell>Input Format</Table.HeaderCell>\r\n                <Table.HeaderCell>Output Format</Table.HeaderCell>\r\n              </Table.Row>\r\n            </Table.Header>\r\n            <Table.Body>\r\n              <Table.Row>\r\n                <Table.Cell>\r\n                  <pre>{inputFormat}</pre>\r\n                </Table.Cell>\r\n                <Table.Cell>\r\n                  <pre>{outputFormats[value]}</pre>\r\n                </Table.Cell>\r\n              </Table.Row>\r\n            </Table.Body>\r\n          </Table>\r\n\r\n          <Form style={{ maxWidth: 600 }} onSubmit={this.onSubmit}>\r\n            <Form.Input\r\n              label=\"Display Name\"\r\n              placeholder=\"my_model\"\r\n              onChange={(e, { value }) => this.setState({ name: value })}\r\n            />\r\n            <Form.Input\r\n              label=\"URL\"\r\n              placeholder=\"http://host:port/v1/models/{MODEL_NAME}:predict\"\r\n              onChange={(e, { value }) => this.setState({ url: value })}\r\n            />\r\n            <Button type=\"submit\">Add</Button>\r\n          </Form>\r\n        </div>\r\n      </Segment>\r\n    );\r\n  }\r\n}\r\n","import React, { Component } from 'react';\r\n\r\nimport {\r\n  Header,\r\n  Button,\r\n  Loader,\r\n  Input,\r\n  List,\r\n  Segment,\r\n} from 'semantic-ui-react';\r\n\r\nimport DocumentMeta from 'react-document-meta';\r\n\r\nimport { sortableContainer, sortableElement } from 'react-sortable-hoc';\r\n\r\nimport update from 'immutability-helper';\r\nimport arrayMove from 'array-move';\r\n\r\nimport ProjectImages from './ProjectImages';\r\nimport UploadImages from './UploadImages';\r\nimport LabelFormItem from './LabelFormItem';\r\nimport ImportData from './ImportData';\r\nimport UploadReference from './UploadReference';\r\nimport MLAssist from './MLAssist';\r\n\r\nimport {apiCall} from \"../services/api\";\r\n\r\nimport { saveAs } from 'file-saver'\r\nimport * as JSZip from 'jszip'\r\nimport * as JSZipUtils from 'jszip-utils'\r\n\r\nimport { HashLink } from 'react-router-hash-link';\r\n\r\n\r\nexport default class ProjectPage extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      error: null,\r\n      isLoaded: false,\r\n      project: null,\r\n    };\r\n\r\n    this.onSortEnd = this.onSortEnd.bind(this);\r\n    this.handleChange = this.handleChange.bind(this);\r\n    this.handleNew = this.handleNew.bind(this);\r\n    this.handleDelete = this.handleDelete.bind(this);\r\n    this.handleNameChange = this.handleNameChange.bind(this);\r\n    this.handleReferenceChange = this.handleReferenceChange.bind(this);\r\n    this.handleProjectExport = this.handleProjectExport.bind(this);\r\n  }\r\n\r\n  async componentDidMount() {\r\n    const projectId = this.props.location.pathname.replace(\"/admin/\",\"\");\r\n    // console.log(\"componentDidMount projectId\", projectId);\r\n    // console.log(\"componentDidMount location.pathname\", this.props.location.pathname);\r\n    try {\r\n      const project = await apiCall(\"GET\",`${process.env.REACT_APP_PRODUCTION_SERVER_URL}/api/projects/${projectId}`);\r\n      console.log(\"componentDidMount project\", project);\r\n      if(project && \"form\" in project && project.form){\r\n        project.form = JSON.parse(project.form);\r\n      }\r\n      // const project = await (await fetch(`${process.env.REACT_APP_PRODUCTION_SERVER_URL}/api/projects/${projectId}`)).json();\r\n      this.setState({\r\n        isLoaded: true,\r\n        project,\r\n      });\r\n    } catch (error) {\r\n      this.setState({\r\n        isLoaded: true,\r\n        error,\r\n      });\r\n    }\r\n  }\r\n\r\n  componentDidUpdate(prevProps, prevState) {\r\n    const { project } = this.state;\r\n    if (!project) return;\r\n    const projectId = this.props.location.pathname.replace(\"/admin/\",\"\");\r\n\r\n    if (prevState.project !== project) {\r\n      apiCall(\"PATCH\",`${process.env.REACT_APP_PRODUCTION_SERVER_URL}/api/projects/${projectId}`,{ project:{...project,form:JSON.stringify(project.form)} });\r\n    }\r\n  }\r\n\r\n  onSortEnd({ oldIndex, newIndex }) {\r\n    this.setState(({ project }) => ({\r\n      project: update(project, {\r\n        form: {\r\n          formParts: {\r\n            $set: arrayMove(project.form.formParts, oldIndex, newIndex),\r\n          },\r\n        },\r\n      }),\r\n    }));\r\n  }\r\n\r\n  async handleProjectExport(){\r\n\r\n    const  projectId = this.state.project._id;\r\n     const projectJSON = await apiCall(\"GET\",`${process.env.REACT_APP_PRODUCTION_SERVER_URL}/api/projects/${projectId}/export`);\r\n     console.log(projectJSON); \r\n\r\n     var zip = new JSZip();\r\n      var count = 0;\r\n      var zipFilename = `engin-ai-labeling-project-${projectId}`;\r\n\r\n      let finalJSON = {}; \r\n\r\n      projectJSON.forEach((imgLabels)=>{\r\n          let filename = imgLabels.name;\r\n          let fileContent = JSON.parse(imgLabels.contents);\r\n          let fileId = fileContent.imageId || Math.random();\r\n          let finalObj = {};\r\n          finalJSON[fileId] = fileContent;\r\n           });\r\n        console.log(finalJSON);\r\n        const json =JSON.stringify(finalJSON);\r\n        const blob = new Blob([json],{type:'application/json'});\r\n          saveAs(blob, zipFilename);\r\n      // const fileName = `engin-ai-labeling-project-${projectId}`;\r\n      // const json = JSON.stringify(projectJSON);\r\n      // const blob = new Blob([json],{type:'application/json'});\r\n      // const href = await URL.createObjectURL(blob);\r\n      // const link = document.createElement('a');\r\n      // link.href = href;\r\n      // link.download = fileName + \".json\";\r\n      // document.body.appendChild(link);\r\n      // link.click();\r\n      // document.body.removeChild(link);\r\n\r\n  }\r\n\r\n  handleChange(oldValue, newValue) {\r\n    const { project } = this.state;\r\n    const edit = newValue ? [1, newValue] : [1];\r\n    this.setState({\r\n      project: update(project, {\r\n        form: {\r\n          formParts: {\r\n            $splice: [\r\n              [\r\n                project.form.formParts.findIndex(x => x.id === oldValue.id),\r\n                ...edit,\r\n              ],\r\n            ],\r\n          },\r\n        },\r\n      }),\r\n    });\r\n  }\r\n\r\n  handleNew() {\r\n    const { project } = this.state;\r\n    console.log(\"project\",project);\r\n    this.setState({\r\n      project: update(project, {\r\n        form: {\r\n          formParts: {\r\n            $push: [newFormPart()],\r\n          },\r\n        },\r\n      }),\r\n    });\r\n  }\r\n\r\n  async handleDelete() {\r\n    const { match, history } = this.props;\r\n    const projectId = this.props.location.pathname.replace(\"/admin/\",\"\");\r\n    await apiCall(\"DELETE\",`${process.env.REACT_APP_PRODUCTION_SERVER_URL}/api/projects/${projectId}`);\r\n\r\n    history.push('/admin/');\r\n  }\r\n\r\n  handleNameChange(e) {\r\n    const { value } = e.target;\r\n    const { project } = this.state;\r\n    this.setState({\r\n      project: update(project, {\r\n        name: {\r\n          $set: value,\r\n        },\r\n      }),\r\n    });\r\n  }\r\n\r\n  handleReferenceChange({ referenceLink, referenceText }) {\r\n    const { project } = this.state;\r\n    this.setState({\r\n      project: update(project, {\r\n        referenceText: {\r\n          $set: referenceText,\r\n        },\r\n        referenceLink: {\r\n          $set: referenceLink,\r\n        },\r\n      }),\r\n    });\r\n  }\r\n\r\n  render() {\r\n    const { match } = this.props;\r\n    const projectId = this.props.location.pathname.replace(\"/admin/\",\"\");\r\n\r\n    const { error, isLoaded, project } = this.state;\r\n\r\n    if (error) {\r\n      return <div>Error: {error.message}</div>;\r\n    } else if (!isLoaded) {\r\n      return <Loader active inline=\"centered\" />;\r\n    }\r\n\r\n    const items = project &&  project.form && project.form.formParts ? project.form.formParts  : [];\r\n    const renderedItems = items && items.length ? (\r\n      items.map((value, index) => (\r\n        <SortableItem\r\n          key={value.id}\r\n          index={index}\r\n          value={value}\r\n          onChange={this.handleChange}\r\n        />\r\n      ))\r\n    ) : (\r\n      <Header className=\"centered\" as=\"h5\">\r\n        No labels, add labels using the plus button below\r\n      </Header>\r\n    );\r\n\r\n    return (\r\n      <DocumentMeta title={`Edit project ${project.name}`}>\r\n        <div style={{ display: 'flex' }}>\r\n          <div className=\"ui\" style={{ paddingBottom: 200, flex: 1 }}>\r\n            <Input\r\n              placeholder=\"Project name\"\r\n              control=\"input\"\r\n              defaultValue={project.name}\r\n              style={{ fontSize: 24, width: '100%', marginTop: 10 }}\r\n              onChange={this.handleNameChange}\r\n            />\r\n            <div\r\n              style={{\r\n                display: 'flex',\r\n                flexDirection: 'row-reverse',\r\n                marginTop: 5,\r\n              }}\r\n            >\r\n              <Input\r\n                label=\"Labeling link\"\r\n                value={window.location.origin + '/label/' + projectId}\r\n                onClick={e => e.target.select()}\r\n              />\r\n            </div>\r\n            <div id=\"labels\" style={{ padding: '2em 0 110px 0' }}>\r\n              <Header disabled>LABELS</Header>\r\n              <SortableContainer onSortEnd={this.onSortEnd} useDragHandle>\r\n                {renderedItems}\r\n              </SortableContainer>\r\n              <Button\r\n                circular\r\n                icon=\"plus\"\r\n                color=\"teal\"\r\n                size=\"massive\"\r\n                style={{ float: 'right', marginTop: '2em' }}\r\n                onClick={this.handleNew}\r\n              />\r\n            </div>\r\n            <div id=\"images\" style={{ padding: '2em 0' }}>\r\n              <Header disabled>IMAGES</Header>\r\n              <ProjectImages\r\n                projectId={projectId}\r\n                refetchRef={f => this.setState({ handleImagesChange: f })}\r\n              />\r\n            </div>\r\n            <div id=\"upload-images\" style={{ padding: '2em 0' }}>\r\n              <Header disabled>UPLOAD IMAGES</Header>\r\n              <UploadImages\r\n                projectId={projectId}\r\n                onChange={this.state.handleImagesChange}\r\n              />\r\n            </div>\r\n            <div id=\"import-data\" style={{ padding: '2em 0' }}>\r\n              <Header disabled>IMPORT DATA</Header>\r\n              <ImportData\r\n                projectId={projectId}\r\n                onChange={() => {\r\n                  this.state.handleImagesChange();\r\n                  this.componentDidMount();\r\n                }}\r\n              />\r\n            </div>\r\n            <div id=\"export-data\" style={{ padding: '2em 0' }}>\r\n              <Header disabled>EXPORT DATA</Header>\r\n              <div onClick={this.handleProjectExport}>\r\n                <Button\r\n                  positive\r\n                  icon=\"download\"\r\n                  label=\"Download a JSON-encoded file\"\r\n                />\r\n              </div>\r\n            </div>\r\n            <div id=\"reference-information\" style={{ padding: '2em 0' }}>\r\n              <Header disabled>REFERENCE INFORMATION</Header>\r\n              <UploadReference\r\n                project={project}\r\n                onChange={this.handleReferenceChange}\r\n                onUpload={() => this.componentDidMount()}\r\n              />\r\n            </div>\r\n            <div id=\"ml-assistance\" style={{ padding: '2em 0' }}>\r\n              <Header disabled>ML ASSISTANCE MODELS</Header>\r\n              <MLAssist />\r\n            </div>\r\n            <div id=\"delete-project\" style={{ padding: '2em 0' }}>\r\n              <Header disabled>DELETE PROJECT</Header>\r\n              <p>\r\n                The button bellow will delete all metadata about labels, images\r\n                and the project.\r\n              </p>\r\n              <Button negative onClick={this.handleDelete}>\r\n                Delete project\r\n              </Button>\r\n            </div>\r\n          </div>\r\n          <Segment\r\n            style={{\r\n              flex: '0 0 auto',\r\n              width: 200,\r\n              position: 'sticky',\r\n              top: 65,\r\n              alignSelf: 'flex-start',\r\n              marginTop: 0,\r\n              marginLeft: 30,\r\n              boxShadow: '0 0 #FFFFFF',\r\n            }}\r\n          >\r\n            <Header as=\"h4\">On this page:</Header>\r\n            <List>\r\n              <List.Item>\r\n                <HashLink to=\"#labels\">Labels</HashLink>\r\n              </List.Item>\r\n              <List.Item>\r\n                <HashLink to=\"#images\">Images</HashLink>\r\n              </List.Item>\r\n              <List.Item>\r\n                <HashLink to=\"#upload-images\">Upload Images</HashLink>\r\n              </List.Item>\r\n              <List.Item>\r\n                <HashLink to=\"#import-data\">Import data</HashLink>\r\n              </List.Item>\r\n              <List.Item>\r\n                <HashLink to=\"#export-data\">Export data</HashLink>\r\n              </List.Item>\r\n              <List.Item>\r\n                <HashLink to=\"#reference-information\">Reference Info</HashLink>\r\n              </List.Item>\r\n              <List.Item>\r\n                <HashLink to=\"#ml-assistance\">ML Assistance</HashLink>\r\n              </List.Item>\r\n              <List.Item>\r\n                <HashLink to=\"#delete-project\">Delete Project</HashLink>\r\n              </List.Item>\r\n            </List>\r\n          </Segment>\r\n        </div>\r\n      </DocumentMeta>\r\n    );\r\n  }\r\n}\r\n\r\nconst SortableItem = sortableElement(LabelFormItem);\r\n\r\nconst SortableContainer = sortableContainer(({ children }) => {\r\n  return <div>{children}</div>;\r\n});\r\n\r\nconst newFormPart = () => {\r\n  const id = Math.random()\r\n    .toString(36)\r\n    .substr(2, 9);\r\n  return {\r\n    id,\r\n    name: 'New label',\r\n    type: 'bbox',\r\n  };\r\n};\r\n","import React, { Component } from 'react';\r\n\r\nimport { Header, Form, Segment } from 'semantic-ui-react';\r\nimport AuthForm from '../components/AuthForm';\r\n\r\nexport default class LoginPage extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      password: '',\r\n      error: null,\r\n    };\r\n    this.onSubmit = this.onSubmit.bind(this);\r\n  }\r\n\r\n  async onSubmit(e) {\r\n    const { password } = this.state;\r\n    const resp = await fetch(`${process.env.REACT_APP_PRODUCTION_SERVER_URL}/api/auth?password=${password}`);\r\n    if (resp.ok) {\r\n      this.setState({ error: null });\r\n      window.location = '/admin/';\r\n    } else {\r\n      this.setState({ error: 'Wrong password' });\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const authUser = this.props.authUser? this.props.authUser : (()=>console.log(\"No auth user\"));\r\n    const browserLang = this.props.language ?this.props.language : \"en\";\r\n    const removeError = this.props.removeError? this.props.removeError : (()=>console.log(\"No remove error\")); \r\n    return (\r\n        <AuthForm removeError={removeError} removeAdditionalField={true} language={browserLang} buttonText={browserLang === \"en\" ? \"Log in\" : \"Ingresa\"} heading={browserLang === \"en\" ? \"Welcome Back!\" : \"¡Aprende Ahora!\"} onAuth={authUser} {...this.props}/>\r\n    );\r\n  }\r\n}\r\n","import React, { Component, Fragment } from 'react';\r\nimport {  HashRouter as Router, Switch, Route } from 'react-router-dom';\r\n\r\nimport '../styles/AdminApp.css';\r\nimport Menubar from './Menubar';\r\nimport ProjectsGrid from './ProjectsGrid';\r\nimport ProjectPage from './ProjectPage';\r\nimport LoginPage from './LoginPage';\r\n\r\nclass AdminApp extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n  }\r\n\r\n  render() {\r\n    let backgroundImg = `linear-gradient(45deg, rgb(229, 44, 78) 1%, rgb(233, 74, 99) 30%, rgb(174, 82, 157) 69%, rgb(154, 85, 177) 100%)`;\r\n    return (\r\n    <Fragment>\r\n      <header className=\"App-hero\" style={{\r\n            \"minHeight\":\"75px\",\r\n            \"backgroundImage\":backgroundImg,\r\n            \"color\":\"white\"\r\n          }}>\r\n          </header>\r\n        <div>  \r\n          <Menubar active=\"admin\">\r\n              <Router>\r\n                <Switch>\r\n                 <Route path=\"/admin/:projectId\"\r\n                          render={\r\n                            props=>{\r\n                              return (\r\n                              <ProjectPage browserLang = {this.props.browserLang} {...this.props}></ProjectPage> \r\n                            )}\r\n                           }\r\n                        />\r\n                  <Route\r\n                    exact\r\n                    path=\"/admin/\"\r\n                    render={() => (\r\n                      <ProjectsGrid\r\n                        linkPrefix=\"/admin/\"\r\n                        title=\"Edit Projects:\"\r\n                        newButton={true}\r\n                      />\r\n                    )}\r\n                  />\r\n                  <Route exact path=\"/admin/login\" \r\n                          render={\r\n                            props=>{\r\n                              return (\r\n                              <LoginPage browserLang = {this.props.browserLang} {...this.props}></LoginPage> \r\n                            )}\r\n                           }\r\n                          />\r\n                </Switch>\r\n              </Router>\r\n          </Menubar>\r\n        </div>\r\n      </Fragment>\r\n    );\r\n  }\r\n}\r\n\r\nexport default AdminApp;\r\n","import React, { Component, Fragment } from 'react';\nimport { Polyline, Polygon, CircleMarker } from 'react-leaflet';\n\nclass Figure extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      dragging: false,\n      draggedPoint: null,\n    };\n  }\n  // abstract\n  calculateGuides() {\n    return [];\n  }\n\n  // abstract\n  onPointClick(i) {}\n\n  // abstract\n  onPointMoved(point, i) {}\n\n  // abstract\n  makeExtraElements() {\n    return null;\n  }\n\n  // abstract\n  leafletComponent() {\n    return Polygon;\n  }\n\n  // abstract\n  getRenderPoints(points) {\n    return points;\n  }\n\n  makeGuides() {\n    const guides = this.calculateGuides();\n    const { color } = this.props.options;\n    return guides.map((pos, i) => (\n      <Polyline\n        key={i}\n        positions={pos}\n        color={color}\n        opacity={0.7}\n        dashArray=\"5\"\n        weight={2}\n      />\n    ));\n  }\n\n  hasFill() {\n    return true;\n  }\n\n  render() {\n    const { figure, options, skipNextClick } = this.props;\n    const { id, points } = figure;\n    const {\n      editing,\n      finished,\n      sketch,\n      color,\n      vertexColor,\n      interactive,\n      onSelect,\n    } = options;\n    const { draggedPoint } = this.state;\n\n    const renderPoints = this.getRenderPoints(points);\n\n    const dashArray = editing ? '10' : '1';\n\n    const lineColor = editing && sketch ? color : vertexColor || color;\n    const fillColor = editing && sketch ? 'rgba(0,0,0,0)' : color;\n    const weight = editing && sketch ? 2 : 3;\n\n    const classes = ['vertex'];\n    if (editing) classes.push('editing');\n    if (finished) classes.push('finished');\n\n    const vcolor = vertexColor || color;\n    const vertices = renderPoints.map((pos, i) => (\n      <CircleMarker\n        className={classes.concat(!i ? ['first'] : []).join(' ')}\n        key={id + '-' + i}\n        center={pos}\n        fillOpacity={0.0}\n        opacity={0.0}\n        radius={5}\n        onClick={() => this.onPointClick(i)}\n        draggable={editing}\n        onDrag={e => {\n          this.setState({\n            draggedPoint: { point: e.target.getLatLng(), index: i },\n          });\n        }}\n        onDragstart={e => this.setState({ dragging: true })}\n        onDragend={e => {\n          this.onPointMoved(e.target.getLatLng(), i);\n          this.setState({ dragging: false, draggedPoint: null });\n        }}\n      >\n        <CircleMarker\n          color={vcolor}\n          fill={true}\n          fillColor={vcolor}\n          fillRule=\"nonzero\"\n          fillOpacity={1.0}\n          radius={3}\n          center={\n            draggedPoint && draggedPoint.index === i ? draggedPoint.point : pos\n          }\n        />\n      </CircleMarker>\n    ));\n\n    const guideLines = this.makeGuides();\n    const PolyComp = this.leafletComponent();\n\n    return (\n      <Fragment key={id}>\n        <PolyComp\n          positions={renderPoints}\n          color={lineColor}\n          weight={weight}\n          fill={this.hasFill()}\n          fillColor={fillColor}\n          opacity={sketch ? '0.7' : '1.0'}\n          dashArray={dashArray}\n          interactive={id !== 'trace'} // always set interactive to true, to avoid bugs in leaflet-react\n          onClick={() => {\n            if (interactive) {\n              onSelect();\n              skipNextClick();\n            }\n          }}\n        />\n        {guideLines}\n        {this.makeExtraElements()}\n        {!finished || editing ? vertices : null}\n      </Fragment>\n    );\n  }\n}\n\nexport class PolygonFigure extends Figure {\n  constructor(props) {\n    super(props);\n\n    this.onPointClick = this.onPointClick.bind(this);\n  }\n\n  leafletComponent() {\n    const {\n      options: { finished },\n    } = this.props;\n    return finished ? Polygon : Polyline;\n  }\n\n  calculateGuides() {\n    const { figure, options } = this.props;\n    const { points } = figure;\n    const { newPoint, finished } = options;\n    const { draggedPoint } = this.state;\n\n    const guides = [];\n    if (draggedPoint) {\n      const { point, index } = draggedPoint;\n      const { length } = points;\n      guides.push(\n        [point, points[(index + 1) % length]],\n        [point, points[(index - 1 + length) % length]]\n      );\n    }\n\n    const additionalGuides =\n      !finished && points.length > 0\n        ? [[points[points.length - 1], newPoint]]\n        : [];\n\n    return guides.concat(additionalGuides);\n  }\n\n  makeExtraElements() {\n    const { figure, options, skipNextClick } = this.props;\n    const { id, points } = figure;\n    const { editing, finished, calcDistance, onChange } = options;\n\n    const { dragging } = this.state;\n\n    if (!finished || !editing || dragging) {\n      return [];\n    }\n\n    const midPoints = points\n      .map((pos, i) => [pos, points[(i + 1) % points.length], i])\n      .filter(([a, b]) => calcDistance(a, b) > 40)\n      .map(([a, b, i]) => (\n        <CircleMarker\n          key={id + '-' + i + '-mid'}\n          className=\"midpoint\"\n          center={midPoint(a, b)}\n          radius={8}\n          opacity={0.0}\n          fillOpacity={0.0}\n          onMousedown={e => {\n            onChange('add', { point: midPoint(a, b), pos: i + 1, figure });\n            skipNextClick();\n          }}\n        >\n          <CircleMarker\n            radius={3}\n            color=\"white\"\n            fill={true}\n            fillOpacity={0.5}\n            opacity={0.5}\n            center={midPoint(a, b)}\n          />\n        </CircleMarker>\n      ));\n\n    return midPoints;\n  }\n\n  onPointMoved(point, index) {\n    const {\n      figure,\n      options: { onChange },\n    } = this.props;\n    onChange('move', { point, pos: index, figure });\n  }\n\n  onPointClick(i) {\n    const { figure, options, skipNextClick } = this.props;\n    const { points } = figure;\n    const { finished, editing, onChange } = options;\n\n    if (!finished && i === 0) {\n      if (points.length >= 3) {\n        onChange('end', {});\n      }\n      skipNextClick();\n      return false;\n    }\n\n    if (finished && editing) {\n      if (points.length > 3) {\n        onChange('remove', { pos: i, figure });\n      }\n      skipNextClick();\n      return false;\n    }\n  }\n}\n\nexport class BBoxFigure extends Figure {\n  calculateGuides() {\n    const { figure, options } = this.props;\n    const { points } = figure;\n    const { newPoint, finished } = options;\n    const { draggedPoint } = this.state;\n\n    if (draggedPoint) {\n      const renderPoints = this.getRenderPoints(points);\n      const { point, index } = draggedPoint;\n      const oppPoint = renderPoints[(index + 2) % renderPoints.length];\n      const sidePoint1 = { lat: oppPoint.lat, lng: point.lng };\n      const sidePoint2 = { lat: point.lat, lng: oppPoint.lng };\n      return [\n        [point, sidePoint1],\n        [sidePoint1, oppPoint],\n        [point, sidePoint2],\n        [sidePoint2, oppPoint],\n      ];\n    }\n\n    if (!finished && points.length > 0) {\n      const renderPoints = this.getRenderPoints([points[0], newPoint]);\n      return [\n        [renderPoints[0], renderPoints[1]],\n        [renderPoints[1], renderPoints[2]],\n        [renderPoints[2], renderPoints[3]],\n        [renderPoints[3], renderPoints[0]],\n      ];\n    }\n\n    return [];\n  }\n\n  getRenderPoints(points) {\n    const [p1, p2] = points;\n    if (!p1) {\n      return [];\n    }\n    if (!p2) {\n      return [p1];\n    }\n\n    return [\n      { lat: p1.lat, lng: p1.lng },\n      { lat: p1.lat, lng: p2.lng },\n      { lat: p2.lat, lng: p2.lng },\n      { lat: p2.lat, lng: p1.lng },\n    ];\n  }\n\n  onPointMoved(point, index) {\n    const {\n      figure,\n      options: { onChange },\n    } = this.props;\n    if (index === 0 || index === 2) {\n      onChange('move', { point, pos: index / 2, figure });\n    } else {\n      const [p1, p2] = figure.points;\n\n      const points =\n        index === 1\n          ? [{ lat: point.lat, lng: p1.lng }, { lat: p2.lat, lng: point.lng }]\n          : [{ lat: p1.lat, lng: point.lng }, { lat: point.lat, lng: p2.lng }];\n\n      onChange('replace', { points, figure });\n    }\n  }\n}\n\nfunction midPoint(p1, p2) {\n  return {\n    lat: (p1.lat + p2.lat) / 2,\n    lng: (p1.lng + p2.lng) / 2,\n  };\n}\n\n\nexport class UnclosedPolyline extends Figure {\n   constructor(props) {\n    super(props);\n\n    this.onPointClick = this.onPointClick.bind(this);\n  }\n\n  leafletComponent() {\n    const {\n      options: { finished },\n    } = this.props;\n    return Polyline;\n  }\n\n  calculateGuides() {\n    const { figure, options } = this.props;\n    const { points } = figure;\n    const { newPoint, finished } = options;\n    const { draggedPoint } = this.state;\n\n    const guides = [];\n    if (draggedPoint) {\n      const { point, index } = draggedPoint;\n      const { length } = points;\n      guides.push(\n        [point, points[(index + 1) % length]],\n        [point, points[(index - 1 + length) % length]]\n      );\n    }\n\n    const additionalGuides =\n      !finished && points.length > 0\n        ? [[points[points.length - 1], newPoint]]\n        : [];\n\n    return guides.concat(additionalGuides);\n  }\n  \n   hasFill() {\n    return false;\n  }\n\n  makeExtraElements() {\n    const { figure, options, skipNextClick } = this.props;\n    const { id, points } = figure;\n    const { editing, finished, calcDistance, onChange } = options;\n\n    const { dragging } = this.state;\n\n    if (!finished || !editing || dragging) {\n      return [];\n    }\n\n    const midPoints = points\n      .map((pos, i) => [pos, points[(i + 1) % points.length], i])\n      .filter(([a, b]) => calcDistance(a, b) > 40)\n      .map(([a, b, i]) => (\n        <CircleMarker\n          key={id + '-' + i + '-mid'}\n          className=\"midpoint\"\n          center={midPoint(a, b)}\n          radius={8}\n          opacity={0.0}\n          fillOpacity={0.0}\n          onMousedown={e => {\n            onChange('add', { point: midPoint(a, b), pos: i + 1, figure });\n            skipNextClick();\n          }}\n        >\n          <CircleMarker\n            radius={3}\n            color=\"white\"\n            fill={true}\n            fillOpacity={0.5}\n            opacity={0.5}\n            center={midPoint(a, b)}\n          />\n        </CircleMarker>\n      ));\n\n    return midPoints;\n  }\n\n  onPointMoved(point, index) {\n    const {\n      figure,\n      options: { onChange },\n    } = this.props;\n    onChange('move', { point, pos: index, figure });\n  }\n\n  onPointClick(i) {\n    const { figure, options, skipNextClick } = this.props;\n    const { points } = figure;\n    const { finished, editing, onChange } = options;\n\n    if (!finished && i === 0) {\n      if (points.length >= 3) {\n        onChange('end', {});\n      }\n      skipNextClick();\n      return false;\n    }\n\n    if (finished && editing) {\n      if (points.length > 3) {\n        onChange('remove', { pos: i, figure });\n      }\n      skipNextClick();\n      return false;\n    }\n  }\n}","export const colorMapping = {\n  red: '#B03060',\n  orange: '#FE9A76',\n  yellow: '#FFD700',\n  olive: '#32CD32',\n  green: '#016936',\n  teal: '#008080',\n  blue: '#0E6EB8',\n  violet: '#EE82EE',\n  purple: '#B413EC',\n  pink: '#FF1493',\n  brown: '#A52A2A',\n  gray: '#A0A0A0',\n  black: '#000000',\n};\n\nexport function convertPoint(p) {\n  return {\n    lat: p.lat,\n    lng: p.lng,\n  };\n}\n\nexport function lighten(col, amt) {\n  let usePound = false;\n  if (col[0] === '#') {\n    col = col.slice(1);\n    usePound = true;\n  }\n  const num = parseInt(col, 16);\n  let r = (num >> 16) + amt;\n  if (r > 255) r = 255;\n  else if (r < 0) r = 0;\n  let b = ((num >> 8) & 0x00ff) + amt;\n  if (b > 255) b = 255;\n  else if (b < 0) b = 0;\n  let g = (num & 0x0000ff) + amt;\n  if (g > 255) g = 255;\n  else if (g < 0) g = 0;\n  return (usePound ? '#' : '') + (g | (b << 8) | (r << 16)).toString(16);\n}\n\nexport function genId() {\n  return (\n    Math.random()\n      .toString(36)\n      .substring(2, 15) +\n    Math.random()\n      .toString(36)\n      .substring(2, 15)\n  );\n}\n\nexport const shortcuts = '1234567890qwe';\nexport const colors = [\n  'red',\n  'blue',\n  'green',\n  'violet',\n  'orange',\n  'brown',\n  'yellow',\n  'olive',\n  'teal',\n  'purple',\n  'pink',\n  'black',\n];\n","import React, { PureComponent, forwardRef } from 'react';\nimport { CRS, LatLngBounds } from 'leaflet';\n\nexport const maxZoom = 7;\nexport function withBounds(Comp) {\n  class CalcBoundsLayer extends PureComponent {\n    calcBounds() {\n      const crs = CRS.Simple;\n      const { height, width } = this.props;\n\n      if (!height || !width) return null;\n\n      const southWest = crs.unproject({ x: 0, y: height }, maxZoom - 1);\n      const northEast = crs.unproject({ x: width, y: 0 }, maxZoom - 1);\n      const bounds = new LatLngBounds(southWest, northEast);\n\n      return bounds;\n    }\n\n    render() {\n      const { forwardedRef, ...rest } = this.props;\n      const bounds = this.calcBounds();\n      if (!bounds) return null;\n      return <Comp bounds={bounds} ref={forwardedRef} {...rest} />;\n    }\n  }\n\n  return forwardRef((props, ref) => (\n    <CalcBoundsLayer {...props} forwardedRef={ref} />\n  ));\n}\n","import React, { Component } from 'react';\nimport { CRS } from 'leaflet';\nimport { Map, ImageOverlay, ZoomControl } from 'react-leaflet';\nimport Control from 'react-leaflet-control';\nimport Hotkeys from 'react-hot-keys';\nimport update from 'immutability-helper';\nimport 'leaflet-path-drag';\n\nimport 'leaflet/dist/leaflet.css';\n\nimport { Icon } from 'semantic-ui-react';\n\nimport { BBoxFigure, PolygonFigure, UnclosedPolyline } from './Figure';\n\nimport { convertPoint, lighten, colorMapping } from './utils';\nimport { withBounds, maxZoom } from './CalcBoundsHOC';\n\nclass Canvas extends Component {\n  constructor(props, context) {\n    super(props, context);\n\n    this.state = {\n      zoom: -1,\n      selectedFigureId: null,\n      cursorPos: { lat: 0, lng: 0 },\n      mouseDownFlag:false,\n      draggableView:false\n    };\n    this.prevSelectedFigure = null;\n    this.skipNextClickEvent = false;\n\n    this.mapRef = React.createRef();\n    this.handleChange = this.handleChange.bind(this);\n    this.handleClick = this.handleClick.bind(this);\n    this.handleMouseMove = this.handleMouseMove.bind(this);\n  }\n\n  componentDidUpdate(prevProps) {\n    const { onSelectionChange } = this.props;\n    const { selectedFigureId } = this.state;\n\n    if (this.prevSelectedFigureId !== selectedFigureId && onSelectionChange) {\n      this.prevSelectedFigureId = selectedFigureId;\n      onSelectionChange(selectedFigureId);\n    }\n  }\n\n  getSelectedFigure() {\n    const { selectedFigureId } = this.state;\n    const { figures } = this.props;\n    return figures.find(f => f.id === selectedFigureId);\n  }\n\n  handleChange(eventType, { point, pos, figure, points }) {\n    const { onChange, unfinishedFigure } = this.props;\n    const drawing = !!unfinishedFigure;\n\n    switch (eventType) {\n      case 'add':\n        if (drawing) {\n          let newState = unfinishedFigure.points;\n          newState = update(newState, { $push: [point] });\n\n          onChange(\n            'unfinished',\n            update(unfinishedFigure, {\n              points: {\n                $set: newState,\n              },\n            })\n          );\n        } else {\n          onChange(\n            'replace',\n            update(figure, { points: { $splice: [[pos, 0, point]] } })\n          );\n        }\n        break;\n\n      case 'end':\n        const f = unfinishedFigure;\n        onChange('new', f);\n        break;\n      case 'finishHandrawnLine':\n        const figureObject = unfinishedFigure;\n        onChange('finishHandrawnLine', figureObject);\n        break;\n\n      case 'move':\n        onChange(\n          'replace',\n          update(figure, { points: { $splice: [[pos, 1, point]] } })\n        );\n        break;\n\n      case 'replace':\n        onChange('replace', update(figure, { points: { $set: points } }));\n        break;\n\n      case 'remove':\n        onChange(\n          'replace',\n          update(figure, { points: { $splice: [[pos, 1]] } })\n        );\n        break;\n\n      default:\n        throw new Error('unknown event type ' + eventType);\n    }\n  }\n\n  handleClick(e) {\n    const { unfinishedFigure } = this.props;\n    const drawing = !!unfinishedFigure;\n\n    if (this.skipNextClickEvent) {\n      // a hack, for whatever reason it is really hard to stop event propagation in leaflet\n      this.skipNextClickEvent = false;\n      return;\n    }\n\n    if (drawing) {\n      this.handleChange('add', { point: convertPoint(e.latlng) });\n      return;\n    }\n\n    if (!drawing) {\n      this.setState({ selectedFigureId: null });\n      return;\n    }\n  }\n\n  handleMouseMove(e){\n    const { unfinishedFigure } = this.props;\n    const drawing = !!unfinishedFigure;\n    this.setState({ cursorPos: e.latlng });\n\n    if (drawing && this.state.mouseDownFlag) {\n      this.setState({\n                  draggableView:false,\n                  cursorPos: e.latlng \n                })\n      this.handleChange('add', { point: convertPoint(e.latlng) });\n      return;\n    }\n\n    if (!drawing) {\n      this.setState({ cursorPos: e.latlng  });\n      return;\n    }\n\n  }\n\n  renderFigure(figure, options) {\n    const Comp = figure.type === 'bbox' ? BBoxFigure : (figure.type === 'polyline' ? UnclosedPolyline: PolygonFigure);\n\n    return (\n      <Comp\n        key={figure.id}\n        figure={figure}\n        options={options}\n        skipNextClick={() => (this.skipNextClickEvent = true)}\n      />\n    );\n  }\n\n  render() {\n    const {\n      url,\n      bounds,\n      height,\n      width,\n      figures,\n      unfinishedFigure,\n      onChange,\n      onReassignment,\n      style,\n    } = this.props;\n\n    const { zoom, selectedFigureId, cursorPos } = this.state;\n\n    const drawing = !!unfinishedFigure;\n\n    const calcDistance = (p1, p2) => {\n      const map = this.mapRef.current.leafletElement;\n      return map.latLngToLayerPoint(p1).distanceTo(map.latLngToLayerPoint(p2));\n    };\n\n    const unfinishedDrawingDOM = drawing\n      ? this.renderFigure(unfinishedFigure, {\n          finished: false,\n          editing: false,\n          interactive: false,\n          color: colorMapping[unfinishedFigure.color],\n          onChange: this.handleChange,\n          calcDistance,\n          newPoint: cursorPos,\n        })\n      : null;\n\n    const getColor = f =>\n      f.tracingOptions && f.tracingOptions.enabled\n        ? lighten(colorMapping[f.color], 80)\n        : colorMapping[f.color];\n    const figuresDOM = figures.map((f, i) =>\n      this.renderFigure(f, {\n        editing: selectedFigureId === f.id && !drawing,\n        finished: true,\n        interactive: !drawing,\n        sketch: f.tracingOptions && f.tracingOptions.enabled,\n        color: getColor(f),\n        vertexColor: colorMapping[f.color],\n        onSelect: () => this.setState({ selectedFigureId: f.id }),\n        onChange: this.handleChange,\n        calcDistance,\n      })\n    );\n\n    const hotkeysDOM = (\n      <Hotkeys\n        keyName=\"backspace,del,c,f,-,=,left,right,up,down,space\"\n        onKeyDown={key => {\n          const tagName = document.activeElement\n            ? document.activeElement.tagName.toLowerCase()\n            : null;\n          if (['input', 'textarea'].includes(tagName)) {\n            return false;\n          }\n          if (drawing) {\n            if (key === 'f') {\n              const { type, points } = unfinishedFigure;\n              if ((type === 'polygon' || type === 'polyline') && points.length >= 3) {\n                this.handleChange('end', {});\n              }\n            }\n            if(key === \"space\"){ \n            this.setState({\n              draggableView:true,\n              drawing:false \n            });\n          }\n          } else {\n            if (key === 'c') {\n              if (selectedFigureId && this.getSelectedFigure()) {\n                onReassignment(this.getSelectedFigure().type);\n              }\n            } else if (key === 'backspace' || key === 'del') {\n              if (selectedFigureId && this.getSelectedFigure()) {\n                onChange('delete', this.getSelectedFigure());\n              }\n            }\n          }\n\n          const map = this.mapRef.current.leafletElement;\n          if (key === 'left') {\n            map.panBy([80, 0]);\n          }\n          if (key === 'right') {\n            map.panBy([-80, 0]);\n          }\n          if (key === 'up') {\n            map.panBy([0, 80]);\n          }\n          if (key === 'down') {\n            map.panBy([0, -80]);\n          }\n          if (key === '=') {\n            map.setZoom(map.getZoom() + 1);\n          }\n          if (key === '-') {\n            map.setZoom(map.getZoom() - 1);\n          }\n          if(key === \"space\"){ \n            this.setState({\n              draggableView:true \n            });\n          }\n        }}\n      onKeyUp ={\n        key => {\n          if(key === \"space\"){ \n            this.setState({\n              draggableView:false \n            });\n          }\n        }\n      }\n      />\n    );\n\n    let renderedTrace = null;\n    const selectedFigure = this.getSelectedFigure();\n    if (selectedFigure && selectedFigure.type === 'polygon') {\n      const trace = selectedFigure.tracingOptions\n        ? selectedFigure.tracingOptions.trace || []\n        : [];\n      const figure = {\n        id: 'trace',\n        type: 'line',\n        points: trace,\n      };\n      const traceOptions = {\n        editing: false,\n        finished: true,\n        color: colorMapping[selectedFigure.color],\n      };\n      renderedTrace = <PolygonFigure figure={figure} options={traceOptions} />;\n    }\n    if (selectedFigure && selectedFigure.type === 'polyline') {\n      const trace = selectedFigure.tracingOptions\n        ? selectedFigure.tracingOptions.trace || []\n        : [];\n      const figure = {\n        id: 'trace',\n        type: 'line',\n        points: trace,\n      };\n      const traceOptions = {\n        editing: false,\n        finished: true,\n        color: colorMapping[selectedFigure.color],\n      };\n      renderedTrace = <UnclosedPolyline figure={figure} options={traceOptions} />;\n    }\n\n    return (\n      <div\n        style={{\n          cursor: drawing ? 'crosshair' : (this.state.draggableView ? 'grab' : 'auto'),\n          height: '100%',\n          ...style,\n        }}\n      >\n        <Map\n          crs={CRS.Simple}\n          zoom={zoom}\n          minZoom={-50}\n          maxZoom={maxZoom}\n          center={[height / 2, width / 2]}\n          zoomAnimation={false}\n          zoomSnap={0.1}\n          zoomControl={false}\n          keyboard={false}\n          attributionControl={false}\n          onClick={this.handleClick}\n          onZoom={e => this.setState({ zoom: e.target.getZoom() })}\n          onMouseMove={this.handleMouseMove}\n          onMouseDown = {e => this.setState({mouseDownFlag: true})}\n          onMouseUp = {e => this.setState({mouseDownFlag: false})}\n          dragging={this.state.draggableView}\n          ref={this.mapRef}\n        >\n          <ZoomControl position=\"bottomright\" />\n          <Control className=\"leaflet-bar\" position=\"bottomright\">\n            <a\n              role=\"button\"\n              title=\"Zoom reset\"\n              onClick={() => {\n                const map = this.mapRef.current.leafletElement;\n                map.setView(map.options.center, map.options.zoom);\n              }}\n            >\n              <Icon name=\"redo\" fitted style={{ fontSize: '1.2em' }} />\n            </a>\n            <a\n              role=\"button\"\n              title=\"Hand\"\n              onClick={() => {\n                this.setState({\n                  draggableView:!this.state.draggableView\n                })\n              }}\n            >\n              <Icon name={this.state.draggableView? \"stop\":\"hand pointer outline\"} fitted style={{ fontSize: '1.2em' }} />\n            </a>\n          </Control>\n          <ImageOverlay url={url} bounds={bounds} />\n          {unfinishedDrawingDOM}\n          {renderedTrace}\n          {figuresDOM}\n          {hotkeysDOM}\n        </Map>\n      </div>\n    );\n  }\n}\n\nexport default withBounds(Canvas);\n","import React from 'react';\nimport { Header, Icon, Segment, Table } from 'semantic-ui-react';\n\nconst style = {\n  height: '100vh',\n  overflowY: 'auto',\n  overflowX: 'hidden',\n  borderRight: '1px solid #ccc',\n};\nconst headerIconStyle = { fontSize: '0.8em', float: 'right' };\n\nexport default function HotkeysPanel({ labels, onClose }) {\n  const labelHotkeys = labels.map((label, i) => (\n    <Table.Row key={label}>\n      <Table.Cell>{label}</Table.Cell>\n      <Table.Cell>{i}</Table.Cell>\n    </Table.Row>\n  ));\n\n  return (\n    <div style={style}>\n      <Header as=\"h2\" attached=\"top\">\n        Hotkeys\n        <Icon link name=\"close\" style={headerIconStyle} onClick={onClose} />\n      </Header>\n      <Segment attached>\n        <Header as=\"h3\"> Labels </Header>\n        <Table celled>\n          <Table.Header>\n            <Table.Row>\n              <Table.HeaderCell>Action</Table.HeaderCell>\n              <Table.HeaderCell>Key</Table.HeaderCell>\n            </Table.Row>\n          </Table.Header>\n\n          <Table.Body>{labelHotkeys}</Table.Body>\n        </Table>\n        <Header as=\"h3\"> General </Header>\n        <Table celled>\n          <Table.Header>\n            <Table.Row>\n              <Table.HeaderCell>Action</Table.HeaderCell>\n              <Table.HeaderCell>Key</Table.HeaderCell>\n            </Table.Row>\n          </Table.Header>\n\n          <Table.Body>\n            <Table.Row>\n              <Table.Cell>Complete shape</Table.Cell>\n              <Table.Cell>f</Table.Cell>\n            </Table.Row>\n            <Table.Row>\n              <Table.Cell>Change label</Table.Cell>\n              <Table.Cell>c</Table.Cell>\n            </Table.Row>\n            <Table.Row>\n              <Table.Cell>Delete figure</Table.Cell>\n              <Table.Cell>Delete</Table.Cell>\n            </Table.Row>\n            <Table.Row>\n              <Table.Cell>Cancel selection</Table.Cell>\n              <Table.Cell>Escape</Table.Cell>\n            </Table.Row>\n            <Table.Row>\n              <Table.Cell>Undo the edit</Table.Cell>\n              <Table.Cell>Ctrl+Z</Table.Cell>\n            </Table.Row>\n            <Table.Row>\n              <Table.Cell>Move Image</Table.Cell>\n              <Table.Cell>Spacebar</Table.Cell>\n            </Table.Row>\n          </Table.Body>\n        </Table>\n        <Header as=\"h3\"> Navigation </Header>\n        <Table celled>\n          <Table.Header>\n            <Table.Row>\n              <Table.HeaderCell>Action</Table.HeaderCell>\n              <Table.HeaderCell>Key</Table.HeaderCell>\n            </Table.Row>\n          </Table.Header>\n\n          <Table.Body>\n            <Table.Row>\n              <Table.Cell>Zoom In</Table.Cell>\n              <Table.Cell>+/=</Table.Cell>\n            </Table.Row>\n            <Table.Row>\n              <Table.Cell>Zoom Out</Table.Cell>\n              <Table.Cell>-</Table.Cell>\n            </Table.Row>\n            <Table.Row>\n              <Table.Cell>Move the Image</Table.Cell>\n              <Table.Cell>←→↑↓</Table.Cell>\n            </Table.Row>\n          </Table.Body>\n        </Table>\n      </Segment>\n    </div>\n  );\n}\n","import React, { PureComponent } from 'react';\nimport {\n  Header,\n  List,\n  Label,\n  Icon,\n  Button,\n  Form,\n  Checkbox,\n  Radio,\n  Select,\n} from 'semantic-ui-react';\nimport { shortcuts, colors } from './utils';\nimport Hotkeys from 'react-hot-keys';\n\nconst headerIconStyle = { fontSize: '0.8em', float: 'right' };\nexport default class Sidebar extends PureComponent {\n  render() {\n    const {\n      title,\n      onSelect,\n      labels,\n      selected,\n      toggles,\n      onToggle,\n      filter,\n      style,\n      openHotkeys,\n      onBack,\n      onSkip,\n      onSubmit,\n      labelData,\n      onFormChange,\n      models,\n      makePrediction,\n      imageName\n    } = this.props;\n\n    const hotkeysButton = openHotkeys ? (\n      <Icon\n        link\n        name=\"keyboard\"\n        style={headerIconStyle}\n        onClick={openHotkeys}\n      />\n    ) : null;\n\n    const getSelectHandler = ({ type, id }) =>\n      type === 'bbox' || type === 'polygon' || type === 'polyline' ? () => onSelect(id) : null;\n    return (\n      <div\n        style={{\n          display: 'flex',\n          flexDirection: 'column',\n          padding: '1em 0.5em',\n          borderRight: '1px solid #ccc',\n          height: '100%',\n          ...style,\n        }}\n      >\n        <Header size=\"large\" style={{ flex: '0 0 auto' }}>\n          {title}\n          {hotkeysButton}\n        </Header>\n        <Header size=\"medium\">\n          {imageName}\n        </Header>\n        <List divided selection style={{ flex: 1, overflowY: 'auto' }}>\n          {labels.map((label, i) =>\n            ListItem({\n              shortcut: shortcuts[i],\n              label,\n              color: colors[i],\n              onSelect: getSelectHandler(label),\n              selected: selected === label.id,\n              disabled: filter ? !filter(label) : false,\n              onToggle: onToggle,\n              isToggled: toggles && toggles[label.id],\n              labelData: labelData[label.id],\n              onFormChange,\n              models,\n              makePrediction,\n            })\n          )}\n          <Hotkeys keyName=\"esc\" onKeyDown={() => onSelect(null)} />\n        </List>\n        <div style={{ flex: '0 0 auto', display: 'flex' }}>\n          <Button onClick={onBack}>Back</Button>\n          <span style={{ flex: 1 }} />\n          <Button secondary onClick={onSkip}>\n            Skip\n          </Button>\n          <Button primary onClick={onSubmit}>\n            Submit\n          </Button>\n        </div>\n      </div>\n    );\n  }\n}\n\nconst iconMapping = {\n  bbox: 'object ungroup outline',\n  polygon: 'pencil alternate',\n  polyline: 'pencil alternate',\n};\n\nconst typeHidable = {\n  bbox: true,\n  polygon: true,\n  polyline: true,\n  text: false,\n  select: false,\n  'select-one': false,\n};\nfunction ListItem({\n  shortcut,\n  label,\n  onSelect,\n  onToggle,\n  color,\n  selected = false,\n  disabled = false,\n  isToggled = false,\n  labelData,\n  onFormChange,\n  models,\n  makePrediction,\n}) {\n  const icons = [];\n\n  if (onToggle && typeHidable[label.type]) {\n    icons.push(\n      <Button\n        key=\"visibility-icon\"\n        icon={isToggled ? 'eye' : 'eye slash'}\n        style={{ padding: 5 }}\n        onClick={e => {\n          onToggle(label);\n          e.stopPropagation();\n        }}\n      />\n    );\n  }\n\n  const iconType = iconMapping[label.type];\n  const figureIcon = iconType ? (\n    <Icon\n      key=\"type-icon\"\n      name={iconType}\n      style={{ opacity: 0.5, display: 'inline-block', marginLeft: 5 }}\n    />\n  ) : null;\n\n  function genSublist(label) {\n    const sublistStyle = { fontSize: '12px' };\n    if (label.type === 'text') {\n      const filteredModels = (models || []).filter(\n        ({ type }) => type === 'object_classification'\n      );\n      const options = filteredModels.map(({ id, name }) => ({\n        value: id,\n        text: name,\n      }));\n      const fillInDOM =\n        filteredModels.length > 0 ? (\n          <div>\n            Fill in using a model prediction:\n            <Select\n              options={options}\n              placeholder=\"Select a model\"\n              onChange={async (e, { value }) => {\n                const m = models.find(({ id }) => id === value);\n                const text = (await makePrediction(m)).join(', ');\n                onFormChange(label.id, [text]);\n              }}\n            />\n          </div>\n        ) : null;\n      return (\n        <List style={sublistStyle}>\n          <List.Item>\n            <Form>\n              <Form.Input\n                label={label.prompt}\n                style={{ width: '100%' }}\n                value={labelData[0] || ''}\n                onChange={(e, { value }) => onFormChange(label.id, [value])}\n              />\n              {fillInDOM}\n            </Form>\n          </List.Item>\n        </List>\n      );\n    }\n\n    if (label.type === 'select') {\n      const { options } = label;\n      const handleChange = function(option) {\n        return (e, { checked }) =>\n          onFormChange(\n            label.id,\n            checked\n              ? labelData.concat([option])\n              : labelData.filter(x => x !== option)\n          );\n      };\n\n      const items = options.map(option => (\n        <List.Item key={option}>\n          <Checkbox\n            label={option}\n            checked={labelData.indexOf(option) !== -1}\n            onChange={handleChange(option)}\n          />\n        </List.Item>\n      ));\n      return <List style={sublistStyle}>{items}</List>;\n    }\n\n    if (label.type === 'select-one') {\n      const { options } = label;\n      const items = options.map(option => (\n        <List.Item key={option}>\n          <Radio\n            label={option}\n            checked={labelData.indexOf(option) !== -1}\n            onChange={(e, { checked }) => onFormChange(label.id, [option])}\n          />\n        </List.Item>\n      ));\n      return <List style={sublistStyle}>{items}</List>;\n    }\n\n    return null;\n  }\n\n  return (\n    <List.Item\n      onClick={onSelect}\n      disabled={disabled}\n      active={selected}\n      key={label.id}\n      style={{ fontSize: '1.3em' }}\n    >\n      <Hotkeys\n        keyName={shortcut}\n        onKeyDown={() => !disabled && onSelect && onSelect()}\n      >\n        <Label color={color} horizontal>\n          {shortcut}\n        </Label>\n        {label.name}\n        {figureIcon}\n        <span style={{ float: 'right' }}>{icons}</span>\n        {genSublist(label)}\n      </Hotkeys>\n    </List.Item>\n  );\n}\n","import React, { PureComponent, Component } from 'react';\nimport { Radio, Select, Button, Loader } from 'semantic-ui-react';\n\nconst defaultStyle = {\n  width: '100%',\n  background: '#fcfcfc',\n  minHeight: 40,\n  borderBottom: '1px solid #ccc',\n  padding: '10px 15px',\n};\n\nconst smoothingOptions = [\n  { value: 0.3, text: 'Slight' },\n  { value: 0.6, text: 'Normal' },\n  { value: 1.2, text: 'Strong' },\n  { value: 1.6, text: 'Extreme' },\n];\n\nconst precisionOptions = [\n  { value: 0, text: '1x1' },\n  { value: 1, text: '3x3' },\n  { value: 2, text: '5x5' },\n];\n\nconst selectStyle = {\n  marginLeft: 10,\n};\n\nconst groupStyle = {\n  marginLeft: 20,\n};\n\nexport class PathToolbar extends PureComponent {\n  render() {\n    const { style, enabled, smoothing, precision, onChange } = this.props;\n    const disabled = !enabled;\n    const selectProps = {\n      compact: true,\n      disabled,\n      style: selectStyle,\n      onChange: (e, { name, value }) => onChange(name, value),\n    };\n\n    return (\n      <div style={{ ...style, ...defaultStyle }}>\n        <Radio\n          label=\"Auto-tracing\"\n          toggle\n          checked={enabled}\n          onChange={(e, { checked }) => onChange('enabled', checked)}\n        />\n        <span style={{ marginLeft: 100 }}>\n          <span style={groupStyle}>\n            Smoothing:\n            <Select\n              {...selectProps}\n              name=\"smoothing\"\n              value={smoothing}\n              options={smoothingOptions}\n            />\n          </span>\n          <span style={groupStyle}>\n            Anchor precision:\n            <Select\n              {...selectProps}\n              name=\"precision\"\n              value={precision}\n              options={precisionOptions}\n            />\n          </span>\n        </span>\n      </div>\n    );\n  }\n}\n\nconst predictionSmoothingOptions = [\n  { value: 1.0, text: 'Slight' },\n  { value: 2.5, text: 'Normal' },\n  { value: 5.0, text: 'Strong' },\n  { value: 10.0, text: 'Extreme' },\n];\n\nlet lastSelected = {};\nexport class MakePredictionToolbar extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      model: lastSelected.model || props.models[0].id,\n      smoothing: lastSelected.smoothing || predictionSmoothingOptions[1].value,\n      loading: false,\n    };\n  }\n\n  async handleGenerate(model, smoothing) {\n    this.setState({ loading: true });\n    await this.props.generate(model, { smoothing });\n    this.setState({ loading: false });\n  }\n\n  render() {\n    const { style, models } = this.props;\n    const { model, smoothing, loading } = this.state;\n\n    const selectProps = {\n      style: selectStyle,\n      onChange: (e, { name, value }) => {\n        this.setState({ [name]: value });\n        lastSelected[name] = value;\n      },\n    };\n\n    const options = models.map(({ id, name }) => ({ value: id, text: name }));\n    const m = models.find(m => m.id === model);\n\n    const smoothingSelect =\n      m.type === 'semantic_segmentation' ? (\n        <span style={groupStyle}>\n          Smoothing:\n          <Select\n            {...selectProps}\n            name=\"smoothing\"\n            value={smoothing}\n            options={predictionSmoothingOptions}\n          />\n        </span>\n      ) : null;\n\n    const disabled = m.type === 'object_classification';\n    const text = disabled\n      ? 'This model can only be used to generate general tags for text fields.'\n      : null;\n\n    return (\n      <div style={{ ...style, ...defaultStyle }}>\n        <span style={groupStyle}>\n          Generate selections using a model\n          <Select\n            {...selectProps}\n            name=\"model\"\n            value={model}\n            options={options}\n          />\n        </span>\n        {smoothingSelect}\n        <span style={groupStyle}>\n          <Button\n            disabled={disabled}\n            onClick={() => this.handleGenerate(m, smoothing)}\n          >\n            Generate\n          </Button>\n          <Loader active={loading} inline />\n          <span>{text}</span>\n        </span>\n      </div>\n    );\n  }\n}\n","import React from 'react';\n\nconst containerStyle = {\n  flex: '0 0 auto',\n  maxHeight: 300,\n  padding: '0 10px',\n  textAlign: 'center',\n  borderBottom: '1px solid #ccc',\n};\n\nconst imageStyle = {\n  margin: '0 auto',\n  maxHeight: 250,\n};\n\nexport default function renderReference({ referenceLink, referenceText }) {\n  if (!referenceText && !referenceLink) return null;\n  const img = referenceLink ? (\n    <img alt=\"Reference\" src={referenceLink} style={imageStyle} />\n  ) : null;\n  return (\n    <div style={containerStyle}>\n      {img}\n      <p>{referenceText}</p>\n    </div>\n  );\n}\n","// Heap implementation is adapted from:\n// https://github.com/meteor/meteor/blob/devel/packages/binary-heap/max-heap.js\n// Meteor is MIT licensed\n\n// Constructor of Heap\n// - comparator - Function - given two items returns a number\n// - options:\n//   - initData - Array - Optional - the initial data in a format:\n//        Object:\n//          - id - String - unique id of the item\n//          - value - Any - the data value\n//      each value is retained\n//   - IdMap - Constructor - Optional - custom IdMap class to store id->index\n//       mappings internally. Standard IdMap is used by default.\nexport class MaxHeap {\n  constructor(comparator, options = {}) {\n    if (typeof comparator !== 'function') {\n      throw new Error(\n        'Passed comparator is invalid, should be a comparison function'\n      );\n    }\n\n    // a C-style comparator that is given two values and returns a number,\n    // negative if the first value is less than the second, positive if the second\n    // value is greater than the first and zero if they are equal.\n    this._comparator = comparator;\n\n    // _heapIdx maps an id to an index in the Heap array the corresponding value\n    // is located on.\n    this._heapIdx = new Map();\n\n    // The Heap data-structure implemented as a 0-based contiguous array where\n    // every item on index idx is a node in a complete binary tree. Every node can\n    // have children on indexes idx*2+1 and idx*2+2, except for the leaves. Every\n    // node has a parent on index (idx-1)/2;\n    this._heap = [];\n\n    // If the initial array is passed, we can build the heap in linear time\n    // complexity (O(N)) compared to linearithmic time complexity (O(nlogn)) if\n    // we push elements one by one.\n    if (Array.isArray(options.initData)) {\n      this._initFromData(options.initData);\n    }\n  }\n\n  // Builds a new heap in-place in linear time based on passed data\n  _initFromData(data) {\n    this._heap = data.map(({ id, value }) => ({ id, value }));\n\n    data.forEach(({ id }, i) => this._heapIdx.set(id, i));\n\n    if (!data.length) {\n      return;\n    }\n\n    // start from the first non-leaf - the parent of the last leaf\n    for (let i = parentIdx(data.length - 1); i >= 0; i--) {\n      this._downHeap(i);\n    }\n  }\n\n  _downHeap(idx) {\n    while (leftChildIdx(idx) < this.size()) {\n      const left = leftChildIdx(idx);\n      const right = rightChildIdx(idx);\n      let largest = idx;\n\n      if (left < this.size()) {\n        largest = this._maxIndex(largest, left);\n      }\n\n      if (right < this.size()) {\n        largest = this._maxIndex(largest, right);\n      }\n\n      if (largest === idx) {\n        break;\n      }\n\n      this._swap(largest, idx);\n      idx = largest;\n    }\n  }\n\n  _upHeap(idx) {\n    while (idx > 0) {\n      const parent = parentIdx(idx);\n      if (this._maxIndex(parent, idx) === idx) {\n        this._swap(parent, idx);\n        idx = parent;\n      } else {\n        break;\n      }\n    }\n  }\n\n  _maxIndex(idxA, idxB) {\n    const valueA = this._get(idxA);\n    const valueB = this._get(idxB);\n    return this._comparator(valueA, valueB) >= 0 ? idxA : idxB;\n  }\n\n  // Internal: gets raw data object placed on idxth place in heap\n  _get(idx) {\n    return this._heap[idx].value;\n  }\n\n  _swap(idxA, idxB) {\n    const recA = this._heap[idxA];\n    const recB = this._heap[idxB];\n\n    this._heapIdx.set(recA.id, idxB);\n    this._heapIdx.set(recB.id, idxA);\n\n    this._heap[idxA] = recB;\n    this._heap[idxB] = recA;\n  }\n\n  get(id) {\n    return this.has(id) ? this._get(this._heapIdx.get(id)) : null;\n  }\n\n  set(id, value) {\n    if (this.has(id)) {\n      if (this.get(id) === value) {\n        return;\n      }\n\n      const idx = this._heapIdx.get(id);\n      this._heap[idx].value = value;\n\n      // Fix the new value's position\n      // Either bubble new value up if it is greater than its parent\n      this._upHeap(idx);\n      // or bubble it down if it is smaller than one of its children\n      this._downHeap(idx);\n    } else {\n      this._heapIdx.set(id, this._heap.length);\n      this._heap.push({ id, value });\n      this._upHeap(this._heap.length - 1);\n    }\n  }\n\n  remove(id) {\n    if (this.has(id)) {\n      const last = this._heap.length - 1;\n      const idx = this._heapIdx.get(id);\n\n      if (idx !== last) {\n        this._swap(idx, last);\n        this._heap.pop();\n        this._heapIdx.delete(id);\n\n        // Fix the swapped value's position\n        this._upHeap(idx);\n        this._downHeap(idx);\n      } else {\n        this._heap.pop();\n        this._heapIdx.delete(id);\n      }\n    }\n  }\n\n  has(id) {\n    return this._heapIdx.has(id);\n  }\n\n  empty() {\n    return !this.size();\n  }\n\n  clear() {\n    this._heap = [];\n    this._heapIdx = new Map();\n  }\n\n  // iterate over values in no particular order\n  forEach(iterator) {\n    this._heap.forEach(obj => iterator(obj.value, obj.id));\n  }\n\n  size() {\n    return this._heap.length;\n  }\n\n  setDefault(id, def) {\n    if (this.has(id)) {\n      return this.get(id);\n    }\n\n    this.set(id, def);\n    return def;\n  }\n\n  maxElementId() {\n    return this.size() ? this._heap[0].id : null;\n  }\n\n  _selfCheck() {\n    for (let i = 1; i < this._heap.length; i++) {\n      if (this._maxIndex(parentIdx(i), i) !== parentIdx(i)) {\n        throw new Error(\n          `An item with id ${this._heap[i].id}` +\n            ' has a parent younger than it: ' +\n            this._heap[parentIdx(i)].id\n        );\n      }\n    }\n  }\n}\n\nexport class MinHeap extends MaxHeap {\n  constructor(comparator, options) {\n    super((a, b) => -comparator(a, b), options);\n  }\n\n  maxElementId() {\n    throw new Error('Cannot call maxElementId on MinHeap');\n  }\n\n  minElementId() {\n    return super.maxElementId();\n  }\n}\n\nconst leftChildIdx = i => i * 2 + 1;\nconst rightChildIdx = i => i * 2 + 2;\nconst parentIdx = i => (i - 1) >> 1;\n","import { dijkstra } from './Dijkstra';\nconst defaultMarkRadius = 1; // ~9 pixels per mark\nexport function computePath({ points, height, width, imageData, markRadius }) {\n  console.log(\"points\",points);\n  console.log(\"height\",height);\n  console.log(\"width\",width);\n  console.log(\"imageData\",imageData);\n  console.log(\"markRadius\",markRadius);\n  \n  markRadius = markRadius === undefined ? defaultMarkRadius : markRadius;\n  function pointToId(x, y) {\n    return (height - y) * (width * 4) + x * 4;\n  }\n\n  function idToPoint(id) {\n    const x = (id % (width * 4)) / 4;\n    const y = height - Math.floor(id / (width * 4));\n    return { x, y };\n  }\n\n  const pointsSets = points.map(({ x, y }) => {\n    x = Math.floor(x);\n    y = Math.floor(y);\n    const points = [];\n    for (let dx = -markRadius; dx <= markRadius; dx++) {\n      for (let dy = -markRadius; dy <= markRadius; dy++) {\n        const p = { x: x + dx, y: y + dy };\n        if (inBounds(p, height, width)) {\n          points.push(p);\n        }\n      }\n    }\n    return points;\n  });\n\n  const idsSets = pointsSets.map(\n    ps => new Set(ps.map(({ x, y }) => pointToId(x, y)))\n  );\n\n  let minPoint, maxPoint;\n\n  function getPaths(startingSet, startingDistances, endSet) {\n    minPoint = { x: Infinity, y: Infinity };\n    maxPoint = { x: -Infinity, y: -Infinity };\n\n    for (const id of endSet) {\n      const p = idToPoint(id);\n      minPoint.x = Math.min(minPoint.x, p.x);\n      minPoint.y = Math.min(minPoint.y, p.y);\n      maxPoint.x = Math.max(maxPoint.x, p.x);\n      maxPoint.y = Math.max(maxPoint.y, p.y);\n    }\n    for (const id of startingSet) {\n      const p = idToPoint(id);\n      minPoint.x = Math.min(minPoint.x, p.x);\n      minPoint.y = Math.min(minPoint.y, p.y);\n      maxPoint.x = Math.max(maxPoint.x, p.x);\n      maxPoint.y = Math.max(maxPoint.y, p.y);\n    }\n    minPoint.x -= 3;\n    minPoint.y -= 3;\n    maxPoint.x += 3;\n    maxPoint.y += 3;\n\n    function calcCost(a, b, c, d) {\n      let sum = 0;\n      for (let i = 0; i < 3; i++) {\n        const aveA = (imageData[a + i] + imageData[b + i]) / 2;\n        const aveB = (imageData[c + i] + imageData[d + i]) / 2;\n        const diff = Math.abs(aveA - aveB);\n        sum += diff * diff;\n      }\n      return sum;\n    }\n\n    const maxCost = 1000000;\n    const distanceFn = (a, b) => {\n      const pa = idToPoint(a);\n      const pb = idToPoint(b);\n\n      if (pa.x === pb.x) {\n        const pl1 = pointToId(pa.x - 1, pa.y);\n        const pl2 = pointToId(pa.x - 1, pb.y);\n        const pr1 = pointToId(pa.x + 1, pa.y);\n        const pr2 = pointToId(pa.x + 1, pb.y);\n        const cost = calcCost(pl1, pl2, pr1, pr2);\n        return maxCost - cost;\n      } else if (pa.y === pb.y) {\n        const pl1 = pointToId(pa.x, pa.y - 1);\n        const pl2 = pointToId(pb.x, pb.y - 1);\n        const pr1 = pointToId(pa.x, pa.y + 1);\n        const pr2 = pointToId(pb.x, pb.y + 1);\n        const cost = calcCost(pl1, pl2, pr1, pr2);\n        return maxCost - cost;\n      } else {\n        const p1 = pointToId(pa.x, pb.y);\n        const p2 = pointToId(pb.x, pa.y);\n        const cost = calcCost(p1, p1, p2, p2);\n        return maxCost - Math.floor(cost / 1.414);\n      }\n    };\n\n    const neighborsFn = id => {\n      const p = idToPoint(id);\n      const points = [];\n      for (let i = -1; i <= 1; i++) {\n        for (let j = -1; j <= 1; j++) {\n          if (!i && !j) continue;\n          points.push({\n            x: p.x + i,\n            y: p.y + j,\n          });\n        }\n      }\n      const validPoints = points\n        .filter(p => inBounds(p, height, width))\n        .filter(\n          p =>\n            p.x >= minPoint.x &&\n            p.x <= maxPoint.x &&\n            p.y >= minPoint.y &&\n            p.y <= maxPoint.y\n        );\n      return validPoints.map(p => pointToId(p.x, p.y));\n    };\n\n    return dijkstra(startingDistances, endSet, distanceFn, neighborsFn);\n  }\n\n  let prevDistances = new Map();\n  for (const id of idsSets[0]) prevDistances.set(id, 0);\n  const pathsSets = [];\n\n  idsSets.forEach((currentSet, i) => {\n    if (!i) return;\n    const prevSet = idsSets[i - 1];\n    const paths = getPaths(prevSet, prevDistances, currentSet);\n    pathsSets.push(paths);\n    prevDistances = new Map();\n    paths.forEach(({ id, distance }) => prevDistances.set(id, distance));\n  });\n\n  let minDist = Infinity,\n    pathId;\n  pathsSets[pathsSets.length - 1].forEach(({ id, distance }) => {\n    if (minDist > distance) {\n      minDist = distance;\n      pathId = id;\n    }\n  });\n  let totalPath = [];\n  pathsSets.reverse();\n  pathsSets.forEach(pathsSet => {\n    let selectedPath = null;\n    pathsSet.forEach(p => {\n      if (p.id === pathId) {\n        selectedPath = p;\n      }\n    });\n\n    if (!selectedPath) {\n      return;\n    }\n\n    totalPath = selectedPath.path.concat(totalPath);\n    pathId = selectedPath.path[0];\n  });\n\n  return totalPath.map(id => idToPoint(id));\n}\n\nfunction inBounds(p, height, width) {\n  return p.x >= 0 && p.x < width && p.y >= 0 && p.y < height;\n}\n","import { MinHeap } from './MaxHeap';\n\nexport function dijkstra(startingDistances, endSet, distanceFn, neighborsFn) {\n  const queue = new MinHeap((a, b) => a - b);\n  const fromId = new Map();\n\n  const finalDistances = new Map();\n  for (const [id, dist] of startingDistances) {\n    queue.set(id, dist);\n    finalDistances.set(id, dist);\n  }\n\n  const leftSet = new Set(endSet.entries());\n  while (!queue.empty() && leftSet.size > 0) {\n    const id = queue.minElementId();\n    const dist = queue.get(id);\n    queue.remove(id);\n\n    if (leftSet.has(id)) {\n      leftSet.delete(id);\n    }\n\n    neighborsFn(id).forEach(nid => {\n      const ndist = finalDistances.has(nid)\n        ? finalDistances.get(nid)\n        : Infinity;\n      const delta = distanceFn(id, nid);\n      if (dist + delta <= ndist) {\n        queue.set(nid, dist + delta);\n        finalDistances.set(nid, dist + delta);\n\n        if (endSet.has(nid)) {\n          leftSet.add(nid);\n        }\n\n        fromId.set(nid, id);\n      }\n    });\n  }\n\n  return Array.from(endSet).map(id => {\n    const path = [];\n    let curId = id;\n    while (curId !== null) {\n      path.push(curId);\n      curId = fromId.has(curId) ? fromId.get(curId) : null;\n    }\n\n    return {\n      id,\n      path: path.reverse(),\n      distance: finalDistances.get(id),\n    };\n  });\n}\n","const d = [[1, 0], [0, -1], [-1, 0], [0, 1]];\nconst DIR = {\n  DOWN: 0,\n  LEFT: 1,\n  UP: 2,\n  RIGHT: 3,\n};\n// 2^4 mappings from mask to new direction after a possible turn\n// assuming the wall is on the right in the current direction\nconst turnDirection = [\n  -1,\n  DIR.DOWN,\n  DIR.RIGHT,\n  DIR.RIGHT,\n  DIR.UP,\n  -1,\n  DIR.UP,\n  DIR.UP,\n  DIR.LEFT,\n  DIR.DOWN,\n  -1,\n  DIR.RIGHT,\n  DIR.LEFT,\n  DIR.DOWN,\n  DIR.LEFT,\n  -1,\n];\n\nfunction vectorize(start, used, matrix) {\n  const n = used.length;\n  const m = used[0].length;\n\n  // mark everything with a bfs\n  const q = [];\n  q.push(start);\n\n  let area = 0;\n  for (let front = 0; front < q.length; front++) {\n    const cur = q[front];\n    area++;\n    for (let di = 0; di < d.length; di++) {\n      const next = [cur[0] + d[di][0], cur[1] + d[di][1]];\n\n      if (\n        next[0] >= 0 &&\n        next[0] < n &&\n        next[1] >= 0 &&\n        next[1] < m &&\n        !used[next[0]][next[1]] &&\n        matrix[next[0]][next[1]] === matrix[start[0]][start[1]]\n      ) {\n        used[next[0]][next[1]] = true;\n        q.push(next);\n      }\n    }\n  }\n\n  // skip anything too small\n  if (area < n * m * 0.002) {\n    return null;\n  }\n\n  // assume that start is indeed the left-most element of the top-most row\n  // belonging to the figure we are trying to vectorize\n  const points = [start];\n  let direction = DIR.RIGHT; // start moving right\n  let cur = start;\n\n  function getMask(pos) {\n    const [y, x] = pos;\n    const [sy, sx] = start;\n    let mask = 0;\n    if (x > 0 && y > 0 && matrix[y - 1][x - 1] === matrix[sy][sx]) mask |= 1;\n    mask <<= 1;\n\n    if (y > 0 && x < m && matrix[y - 1][x] === matrix[sy][sx]) mask |= 1;\n    mask <<= 1;\n\n    if (y < n && x < m && matrix[y][x] === matrix[sy][sx]) mask |= 1;\n    mask <<= 1;\n\n    if (y < n && x > 0 && matrix[y][x - 1] === matrix[sy][sx]) mask |= 1;\n\n    return mask;\n  }\n\n  while (true) {\n    const next = [cur[0] + d[direction][0], cur[1] + d[direction][1]];\n\n    points.push(next);\n    if (next[0] === start[0] && next[1] === start[1]) break;\n\n    const mask = getMask(next);\n    let nDirection = turnDirection[mask];\n\n    if (nDirection === -1) {\n      nDirection = (direction + 1) % 4;\n    }\n\n    direction = nDirection;\n    cur = next;\n  }\n\n  return points;\n}\n\nexport function computeVectorized(matrix) {\n  const n = matrix.length;\n  const m = matrix[0].length;\n\n  const used = matrix.map(row => row.map(() => false));\n  const vectors = [];\n\n  for (let i = 0; i < n; i++)\n    for (let j = 0; j < m; j++)\n      if (!used[i][j] && matrix[i][j] !== 0)\n        vectors.push(vectorize([i, j], used, matrix));\n\n  return vectors.filter(v => !!v);\n}\n","import { computePath } from '../image-processing/LiveWire';\nimport { computeVectorized } from '../image-processing/Segmentation';\nimport { LineUtil } from 'leaflet';\n\nexport function computeTrace(\n  points,\n  { height, width, imageData },\n  { smoothing, precision }\n) {\n  points = points.slice();\n  points.push(points[0]);\n  const path = computePath({\n    points: points.map(({ lng, lat }) => ({\n      x: lng,\n      y: lat,\n    })),\n    height,\n    width,\n    imageData,\n    markRadius: precision,\n  });\n  const simplePath = LineUtil.simplify(path, smoothing || 0.6);\n  return simplePath.map(({ x, y }) => ({ lng: x, lat: y }));\n}\n\nexport function vectorizeSegmentation(imageData, { scaling, smoothing }) {\n  scaling = scaling || 1.0;\n  smoothing = smoothing || 2.0;\n  // reduce from nxmx1 to nxm\n  imageData = imageData.map(row => row.map(channels => channels[0]));\n  const paths = computeVectorized(imageData);\n  return paths.map(path => {\n    const simplePath = LineUtil.simplify(\n      path.map(([y, x]) => ({ x, y: imageData.length - y })),\n      smoothing\n    );\n    return simplePath.map(({ x, y }) => ({\n      lng: x / scaling,\n      lat: y / scaling,\n    }));\n  });\n}\n","import React, { Component } from 'react';\nimport { genId } from './utils';\nimport { vectorizeSegmentation } from './tracing';\nimport {apiCall} from \"../services/api\";\n\n\nexport function withPredictions(Comp) {\n  return class PredictionsLayer extends Component {\n    constructor(props) {\n      super(props);\n      this.state = {\n        models: [],\n      };\n\n      this.makePrediction = this.makePrediction.bind(this);\n    }\n\n    async makePrediction(model, options = {}) {\n      const { imgB64, b64Scaling, height, width } = this.props;\n      const { id } = model;\n\n      // const req = fetch('/api/mlmodels/' + id, {\n      //   method: 'POST',\n      //   headers: {\n      //     Accept: 'application/json',\n      //     'Content-Type': 'application/json',\n      //   },\n      //   body: JSON.stringify({\n      //     instances: [\n      //       {\n      //         input_bytes: {\n      //           b64: imgB64,\n      //         },\n      //       },\n      //     ],\n      //   }),\n      // });\n\n      const resp = await apiCall(\"POST\",`${process.env.REACT_APP_PRODUCTION_SERVER_URL}/api/mlmodels/${id}`,{\n          instances: [\n            {\n              input_bytes: {\n                b64: imgB64,\n              },\n            },\n          ],\n        });\n\n\n      if (model.type === 'object_detection') {\n        const preds = [];\n        resp.predictions.forEach(({ det_boxes: [y1, x1, y2, x2] }) => {\n          preds.push({\n            type: 'bbox',\n            color: 'gray',\n            points: [\n              { lng: x1 * width, lat: (1 - y1) * height },\n              { lng: x2 * width, lat: (1 - y2) * height },\n            ],\n            id: genId(),\n            modelId: model.id,\n          });\n        });\n        return preds;\n      } else if (model.type === 'semantic_segmentation') {\n        const imageData = resp.predictions[0].raw_image;\n        const { smoothing } = options;\n        const vectors = vectorizeSegmentation(imageData, {\n          scaling: b64Scaling,\n          smoothing,\n        });\n        return vectors.map(path => ({\n          type: 'polygon',\n          color: 'gray',\n          points: path,\n          id: genId(),\n          modelId: model.id,\n        }));\n      }\n\n      return resp.predictions;\n    }\n\n    async componentDidMount() {\n      const models = await apiCall(\"get\",`${process.env.REACT_APP_PRODUCTION_SERVER_URL}/api/mlmodels`);\n      this.setState({ models });\n    }\n\n    render() {\n      const { props, state } = this;\n      const { imgB64, ...passedProps } = props;\n      const { models } = state;\n      const newProps = {\n        models,\n        makePrediction: this.makePrediction,\n      };\n\n      return <Comp {...newProps} {...passedProps} />;\n    }\n  };\n}\n","import React, { Component, Fragment } from 'react';\nimport Hotkeys from 'react-hot-keys';\nimport update from 'immutability-helper';\n\n// import 'semantic-ui-css/semantic.min.css';\n\nimport Canvas from './Canvas';\nimport HotkeysPanel from './HotkeysPanel';\nimport Sidebar from './Sidebar';\nimport { PathToolbar, MakePredictionToolbar } from './CanvasToolbar';\nimport Reference from './Reference';\nimport './LabelingApp.css';\n\nimport { genId, colors } from './utils';\nimport { computeTrace } from './tracing';\nimport { withHistory } from './LabelingAppHistoryHOC';\nimport { withLoadImageData } from './LoadImageDataHOC';\nimport { withPredictions } from './MakePredictionsHOC';\n\nimport {apiCall} from \"../services/api\";\n\n/*\n type Figure = {\n   type: 'bbox' | 'polygon';\n   points: [{ lat: Number, lng: Number }];\n   ?color: Color;\n };\n*/\n\nclass LabelingApp extends Component {\n  constructor(props) {\n    super(props);\n\n    const { labels } = props;\n    const toggles = {};\n    labels.map(label => (toggles[label.id] = true));\n\n    this.state = {\n      selected: null,\n      toggles,\n\n      selectedFigureId: null,\n\n      // UI\n      reassigning: { status: false, type: null },\n      hotkeysPanel: false,\n      imageName:\"\"\n    };\n\n    this.handleChange = this.handleChange.bind(this);\n    this.handleSelected = this.handleSelected.bind(this);\n    this.handleSelectionChange = this.handleSelectionChange.bind(this);\n    this.canvasRef = React.createRef();\n  }\n\n  componentDidMount(){\n    // console.log(\"Canvas ref in LabelingApp\", this.canvasRef);\n    //console.log(\"LabelingApp props\", this.props);\n    if(this.props.externalImageUrl && this.props.externalImageUrl.indexOf(\"https://drive.google.com/uc?export=view&id=\" > 0)){\n      const fileId = this.props.externalImageUrl.replace(\"https://drive.google.com/uc?export=view&id=\",\"\");\n      apiCall(\"GET\", `${process.env.REACT_APP_PRODUCTION_SERVER_URL}/api/images/drive/getFileMetadata?fileId=${fileId}`)\n        .then((imgData)=>{\n          this.setState({\n            imageName:imgData.name\n          });\n        })\n        .catch((err)=>{\n          console.log(err);\n        })\n    }\n\n  }\n\n  handleSelected(selected) {\n    if (selected === this.state.selected) return;\n    const { pushState } = this.props;\n\n    if (!selected) {\n      pushState(\n        state => ({\n          unfinishedFigure: null,\n        }),\n        () => this.setState({ selected })\n      );\n      return;\n    }\n\n    const { labels } = this.props;\n\n    const labelIdx = labels.findIndex(label => label.id === selected);\n    const type = labels[labelIdx].type;\n    const color = colors[labelIdx];\n\n    pushState(\n      state => ({\n        unfinishedFigure: {\n          id: null,\n          color,\n          type,\n          points: [],\n        },\n      }),\n      () => this.setState({ selected })\n    );\n  }\n\n  handleSelectionChange(figureId) {\n    if (figureId) {\n      this.setState({ selectedFigureId: figureId });\n    } else {\n      this.setState({\n        reassigning: { status: false, type: null },\n        selectedFigureId: null,\n      });\n    }\n  }\n\n  handleChange(eventType, figure, newLabelId) {\n    if (!figure.color) return;\n    const { labels, figures, pushState, height, width, imageData } = this.props;\n    const label =\n      figure.color === 'gray'\n        ? { id: '__temp' }\n        : labels[colors.indexOf(figure.color)];\n    const idx = (figures[label.id] || []).findIndex(f => f.id === figure.id);\n\n    switch (eventType) {\n      case 'new':\n      console.log(\"figure points\", figure.points);\n        pushState(\n          state => ({\n            figures: update(state.figures, {\n              [label.id]: {\n                $push: [\n                  {\n                    id: figure.id || genId(),\n                    type: figure.type,\n                    points: figure.points,\n                  },\n                ],\n              },\n            }),\n            unfinishedFigure: null,\n          }),\n          () =>\n            this.setState({\n              selected: null,\n            })\n        );\n        break;\n\n      case 'finishHandrawnLine':\n       pushState(\n          state => ({\n            figures: update(state.figures, {\n              [label.id]: {\n                $push: [\n                  {\n                    id: figure.id || genId(),\n                    type: figure.type,\n                    points: figure.points,\n                  },\n                ],\n              },\n            }),\n            unfinishedFigure: null,\n          }),\n        () =>\n          this.setState({\n            selected: null,\n          })\n      );\n      break;\n\n      case 'replace':\n        pushState(state => {\n          let { tracingOptions } = figure;\n          if (tracingOptions && tracingOptions.enabled) {\n            const imageInfo = {\n              height,\n              width,\n              imageData,\n            };\n            tracingOptions = {\n              ...tracingOptions,\n              trace: computeTrace(figure.points, imageInfo, tracingOptions),\n            };\n          } else {\n            tracingOptions = { ...tracingOptions, trace: [] };\n          }\n\n          return {\n            figures: update(state.figures, {\n              [label.id]: {\n                $splice: [\n                  [\n                    idx,\n                    1,\n                    {\n                      id: figure.id,\n                      type: figure.type,\n                      points: figure.points,\n                      tracingOptions,\n                    },\n                  ],\n                ],\n              },\n            }),\n          };\n        });\n        break;\n\n      case 'delete':\n        pushState(state => ({\n          figures: update(state.figures, {\n            [label.id]: {\n              $splice: [[idx, 1]],\n            },\n          }),\n        }));\n        break;\n\n      case 'unfinished':\n        pushState(\n          state => ({ unfinishedFigure: figure }),\n          () => {\n            const { unfinishedFigure } = this.props;\n            const { type, points } = unfinishedFigure;\n            if (type === 'bbox' && points.length >= 2) {\n              this.handleChange('new', unfinishedFigure);\n            }\n          }\n        );\n        break;\n\n      case 'recolor':\n        if (label.id === newLabelId) return;\n        pushState(state => ({\n          figures: update(state.figures, {\n            [label.id]: {\n              $splice: [[idx, 1]],\n            },\n            [newLabelId]: {\n              $push: [\n                {\n                  id: figure.id,\n                  points: figure.points,\n                  type: figure.type,\n                  tracingOptions: figure.tracingOptions,\n                },\n              ],\n            },\n          }),\n        }));\n        break;\n\n      default:\n        throw new Error('unknown event type ' + eventType);\n    }\n  }\n\n  render() {\n    const {\n      labels,\n      imageUrl,\n      reference,\n      onBack,\n      onSkip,\n      onSubmit,\n      pushState,\n      popState,\n      figures,\n      unfinishedFigure,\n      height,\n      width,\n      models,\n      makePrediction,\n    } = this.props;\n    const {\n      selected,\n      selectedFigureId,\n      reassigning,\n      toggles,\n      hotkeysPanel,\n    } = this.state;\n\n    const forwardedProps = {\n      onBack,\n      onSkip,\n      onSubmit,\n      models,\n      makePrediction,\n    };\n\n    let selectedFigure = null;\n    const allFigures = [];\n    labels.forEach((label, i) => {\n      figures[label.id].forEach(figure => {\n        if (\n          toggles[label.id] &&\n          (label.type === 'bbox' || label.type === 'polygon' || label.type === 'polyline')\n        ) {\n          allFigures.push({\n            color: colors[i],\n            points: figure.points,\n            id: figure.id,\n            type: figure.type,\n            tracingOptions: figure.tracingOptions,\n          });\n\n          if (figure.id === selectedFigureId) {\n            selectedFigure = { ...figure, color: colors[i] };\n          }\n        }\n      });\n    });\n    figures.__temp.forEach(figure => {\n      allFigures.push({\n        color: 'gray',\n        ...figure,\n      });\n    });\n\n    const sidebarProps = reassigning.status\n      ? {\n          title: 'Select the new label',\n          selected: null,\n          onSelect: selected => {\n            const figure = this.canvasRef.current.getSelectedFigure();\n            if (figure) {\n              this.handleChange('recolor', figure, selected);\n            }\n\n            this.setState({ reassigning: { status: false, type: null } });\n          },\n          filter: label => label.type === reassigning.type,\n          labelData: figures,\n          imageName:this.state.imageName\n        }\n      : {\n          title: 'Labeling',\n          selected,\n          onSelect: this.handleSelected,\n          toggles,\n          onToggle: label =>\n            this.setState({\n              toggles: update(toggles, {\n                [label.id]: { $set: !toggles[label.id] },\n              }),\n            }),\n          openHotkeys: () => this.setState({ hotkeysPanel: true }),\n          onFormChange: (labelId, newValue) =>\n            pushState(state => ({\n              figures: update(figures, { [labelId]: { $set: newValue } }),\n            })),\n          labelData: figures,\n          imageName:this.state.imageName\n        };\n\n    const hotkeysPanelDOM = hotkeysPanel ? (\n      <HotkeysPanel\n        labels={labels.map(label => label.name)}\n        onClose={() => this.setState({ hotkeysPanel: false })}\n      />\n    ) : null;\n\n    let toolbarDOM = null;\n    const toolbarStyle = {\n      position: 'absolute',\n      top: 0,\n      left: 0,\n      zIndex: 10000,\n    };\n\n    if (selectedFigure && (selectedFigure.type === 'polygon' || selectedFigure.type === 'polyline')) {\n      const options = selectedFigure.tracingOptions || {\n        enabled: false,\n        smoothing: 0.3,\n        precision: 0,\n        trace: [],\n      };\n      const handler = (property, value) => {\n        this.handleChange(\n          'replace',\n          update(selectedFigure, {\n            tracingOptions: {\n              $set: update(options, { [property]: { $set: value } }),\n            },\n          })\n        );\n      };\n\n      toolbarDOM = (\n        <PathToolbar style={toolbarStyle} onChange={handler} {...options} />\n      );\n    } else if (!selectedFigure && models.length > 0) {\n      toolbarDOM = (\n        <MakePredictionToolbar\n          style={toolbarStyle}\n          models={models}\n          generate={async (model, options) => {\n            const preds = await makePrediction(model, options);\n            if (model.type !== 'object_classification') {\n              preds.forEach(f => this.handleChange('new', f));\n            }\n          }}\n        />\n      );\n    }\n\n    const demoBar = this.props.demo ? (\n      <div\n        style={{\n          width: '100%',\n          flex: '0 0 auto',\n          background: '#FFD700',\n          padding: '5px 10px',\n          fontWeight: 800,\n          textAlign: 'center',\n        }}\n      >\n        This is a demo page. The changes will not be saved and all network\n        responses are static.{' '}\n        <a target=\"_blank\" href=\"https://github.com/Slava/label-tool\">\n          GitHub repo\n        </a>\n      </div>\n    ) : null;\n    let backgroundImg = `linear-gradient(45deg, rgb(229, 44, 78) 1%, rgb(233, 74, 99) 30%, rgb(174, 82, 157) 69%, rgb(154, 85, 177) 100%)`;\n\n    return (\n    <Fragment>\n       <header className=\"App-hero\" style={{\n            \"minHeight\":\"75px\",\n            \"backgroundImage\":backgroundImg,\n            \"color\":\"white\"\n          }}>\n          </header>\n      <div\n        style={{ display: 'flex', height: '92vh', flexDirection: 'column' }}\n      >\n        {demoBar}\n        <div style={{ display: 'flex', flex: 1, height: '100%' }}>\n          <Hotkeys keyName=\"ctrl+z\" onKeyDown={popState}>\n            <Sidebar\n              labels={labels}\n              {...sidebarProps}\n              {...forwardedProps}\n              style={{ flex: 1, maxWidth: 300 }}\n            />\n            {hotkeysPanelDOM}\n            <div style={{ flex: 4, display: 'flex', flexDirection: 'column' }}>\n              <Reference {...reference} />\n              <div style={{ position: 'relative', height: '100%' }}>\n                {toolbarDOM}\n                <Canvas\n                  url={imageUrl}\n                  height={height}\n                  width={width}\n                  figures={allFigures}\n                  unfinishedFigure={unfinishedFigure}\n                  onChange={this.handleChange}\n                  onReassignment={type =>\n                    this.setState({ reassigning: { status: true, type } })\n                  }\n                  onSelectionChange={this.handleSelectionChange}\n                  ref={this.canvasRef}\n                  style={{ flex: 1 }}\n                />\n              </div>\n            </div>\n          </Hotkeys>\n        </div>\n      </div>\n    </Fragment>\n     \n    );\n  }\n}\n\nexport default withLoadImageData(withHistory(withPredictions(LabelingApp)));\n","import React, { Component } from 'react';\nimport _ from \"lodash\";\n\nexport function withLoadImageData(Comp) {\n  return class LoadImageLayer extends Component {\n    constructor(props) {\n      super(props);\n      this.state = {\n        height: null,\n        width: null,\n        imageData: null,\n      };\n\n      this.componentDidUpdate({}, this.state);\n    }\n\n    componentDidUpdate(prevProps, prevState) {\n      const { imageUrl, demo } = this.props;\n\n      if (imageUrl !== prevProps.imageUrl) {\n\n        const img = new Image();\n        const setState = this.setState.bind(this);\n        img.onload = async function() {\n          const { height, width } = this;\n          setState({ height, width });\n\n          const resetImage = () => {\n            const canvas = document.getElementById('test-canvas');\n            const ctx = canvas.getContext('2d');\n            const scale = demo ? 0.5 : Math.min(800, height) / height;\n            const sHeight = Math.floor(scale * height);\n            const sWidth = Math.floor(scale * width);\n            canvas.height = sHeight;\n            canvas.width = sWidth;\n            ctx.imageSmoothingQuality = 'high';\n            ctx.imageSmoothingEnabled = true;\n            ctx.drawImage(img, 0, 0, sWidth, sHeight);\n            const imgB64 = canvas\n              .toDataURL()\n              .substring('data:image/png;base64,'.length);\n\n            canvas.height = height;\n            canvas.width = width;\n            ctx.drawImage(img, 0, 0, width, height);\n            const data = ctx.getImageData(0, 0, width, height).data;\n\n            setState({ imageData: data, imgB64, b64Scaling: scale });\n          };\n\n          if (document.readyState !== 'loading') {\n            resetImage();\n          } else {\n            document.addEventListener('DOMContentLoaded', resetImage);\n          }\n        };\n        img.crossOrigin = 'Anonymous';\n        img.alt = \"Image did not load\"\n        img.src = imageUrl;\n        \n      }\n    }\n\n    render() {\n      const { props, state } = this;\n      const { height, width, imageData, imgB64, b64Scaling } = state;\n\n      if (!height) return null;\n\n      return (\n        <Comp\n          height={height}\n          width={width}\n          imageData={imageData}\n          imgB64={imgB64}\n          b64Scaling={b64Scaling}\n          {...props}\n        />\n      );\n    }\n  };\n}\n","import React, { Component } from 'react';\nimport update from 'immutability-helper';\n\nexport function withHistory(Comp) {\n  return class HistoryLayer extends Component {\n    constructor(props) {\n      super(props);\n\n      const { labelData, labels } = props;\n      let figures = {};\n\n      labels.map(label => (figures[label.id] = []));\n      figures.__temp = [];\n      Object.keys(labelData).forEach(key => {\n        figures[key] = (figures[key] || []).concat(labelData[key]);\n      });\n      figures = this.flipY(figures);\n      this.state = {\n        figures, // mapping from label name to a list of Figure structures\n        unfinishedFigure: null,\n        figuresHistory: [],\n        unfinishedFigureHistory: [],\n      };\n\n      this.pushState = this.pushState.bind(this);\n      this.popState = this.popState.bind(this);\n    }\n\n    flipY(figures) {\n      // flip the y-coordinate\n      const f = {};\n      Object.keys(figures).forEach(label => {\n        f[label] = figures[label].map(figure => {\n          if (figure.type !== 'polygon' && figure.type !== 'bbox' && figure.type !== 'polyline')\n            return figure;\n\n          let tracingOptions;\n          if (figure.tracingOptions && figure.tracingOptions.enabled) {\n            tracingOptions = {\n              ...figure.tracingOptions,\n              trace: this.transformPoints(figure.tracingOptions.trace),\n            };\n          } else {\n            tracingOptions = figure.tracingOptions;\n          }\n\n          return {\n            ...figure,\n            points: this.transformPoints(figure.points),\n            tracingOptions,\n          };\n        });\n      });\n      return f;\n    }\n\n    transformPoints(points) {\n      const { height } = this.props;\n      return points.map(({ lat, lng }) => ({\n        lat: height - lat,\n        lng,\n      }));\n    }\n\n    componentDidUpdate(prevProps, prevState) {\n      const { onLabelChange, height, width } = this.props;\n      const { figures } = this.state;\n\n      if (figures !== prevState.figures) {\n        onLabelChange({\n          labels: this.flipY(figures),\n          height,\n          width,\n        });\n      }\n    }\n\n    pushState(stateChange, cb) {\n      this.setState(\n        state => ({\n          figuresHistory: update(state.figuresHistory, {\n            $push: [state.figures],\n          }),\n          unfinishedFigureHistory: update(state.unfinishedFigureHistory, {\n            $push: [state.unfinishedFigure],\n          }),\n          ...stateChange(state),\n        }),\n        cb\n      );\n    }\n\n    popState() {\n      this.setState(state => {\n        let { figuresHistory, unfinishedFigureHistory } = state;\n        if (!figuresHistory.length) {\n          return {};\n        }\n\n        figuresHistory = figuresHistory.slice();\n        unfinishedFigureHistory = unfinishedFigureHistory.slice();\n        const figures = figuresHistory.pop();\n        let unfinishedFigure = unfinishedFigureHistory.pop();\n\n        if (unfinishedFigure && !unfinishedFigure.points.length) {\n          unfinishedFigure = null;\n        }\n\n        return {\n          figures,\n          unfinishedFigure,\n          figuresHistory,\n          unfinishedFigureHistory,\n        };\n      });\n    }\n\n    render() {\n      const { props, state, pushState, popState } = this;\n      const { figures, unfinishedFigure } = state;\n      const passedProps = {\n        pushState,\n        popState,\n        figures,\n        unfinishedFigure,\n      };\n      return <Comp {...passedProps} {...props} />;\n    }\n  };\n}\n","import demoImg from './demo-assets/demo.jpg';\nimport semanticSegmentationResponse from './demo-assets/semantic-segmentation.json.resp';\nimport objectDetectionResponse from './demo-assets/object-detection.json.resp';\n\nexport const demoMocks = {\n  '/api/images/getLabelingInfo': url => {\n    const points = [\n      { lat: 309.045449970124, lng: 625.3817609078532 },\n      { lat: 389.39416927673574, lng: 636.0189083788734 },\n      { lat: 391.74775348325585, lng: 630.3874266468058 },\n      { lat: 418.2995456637876, lng: 649.6483578597326 },\n      { lat: 442.7837802564911, lng: 650.5189084230287 },\n      { lat: 456.5065601296597, lng: 656.2611489389324 },\n      { lat: 457.14786455087716, lng: 675.4384182973803 },\n      { lat: 427.1138701171609, lng: 687.190850901878 },\n      { lat: 416.01435043513527, lng: 680.9881781383931 },\n      { lat: 404.63825712075703, lng: 700.754498022768 },\n      { lat: 348.10066020274917, lng: 706.2554371527104 },\n      { lat: 307.3043488435318, lng: 713.6338242619977 },\n      { lat: 297.63517780645657, lng: 707.2677077164033 },\n      { lat: 301.754589002519, lng: 699.4873776084357 },\n      { lat: 343.34918202031685, lng: 694.0881597393285 },\n      { lat: 263.2327265766655, lng: 699.2697399676117 },\n      { lat: 226.99605937946436, lng: 680.4440840363329 },\n      { lat: 193.5886815129756, lng: 683.2733733670453 },\n      { lat: 194.45923207627172, lng: 663.7948045132946 },\n      { lat: 252.89493863752404, lng: 653.5658353945652 },\n      { lat: 282.2760201487682, lng: 653.7834730353892 },\n      { lat: 278.79381789558374, lng: 625.9258550099132 },\n    ].map(({ lat, lng }) => ({ lat: 700 - lat, lng }));\n    const points2 = [\n      { lat: 200.46477246638622, lng: 770.3928381027434 },\n      { lat: 202.93964620053913, lng: 761.9075567285049 },\n      { lat: 213.72302461363398, lng: 760.4933431661318 },\n      { lat: 226.62772337028846, lng: 764.9127605485477 },\n      { lat: 275.7716446627535, lng: 754.1293821354528 },\n      { lat: 344.8913325237385, lng: 759.432682994352 },\n      { lat: 371.23106012293744, lng: 760.6701198614285 },\n      { lat: 381.48410845014234, lng: 741.5782367693917 },\n      { lat: 400.3992148468825, lng: 743.346003722358 },\n      { lat: 401.63665171395894, lng: 739.2801397305354 },\n      { lat: 436.28488399209976, lng: 750.9474016201134 },\n      { lat: 450.6037963111274, lng: 780.1155563440585 },\n      { lat: 479.41839764447917, lng: 770.5696147980401 },\n      { lat: 493.9140866588034, lng: 778.7013427816854 },\n      { lat: 493.3837565729135, lng: 798.853886045502 },\n      { lat: 483.3074849410052, lng: 808.5766042868171 },\n      { lat: 469.51890270786754, lng: 806.2785072479608 },\n      { lat: 462.2710582007054, lng: 798.853886045502 },\n      { lat: 450.780573006424, lng: 799.5609928266886 },\n      { lat: 440.5275246792191, lng: 828.9059242459302 },\n      { lat: 423.291796887797, lng: 834.386001800126 },\n      { lat: 406.05606909637487, lng: 839.8660793543218 },\n      { lat: 402.3437584951455, lng: 835.0931085813125 },\n      { lat: 379.716341497176, lng: 842.5177297837713 },\n      { lat: 355.85148763213004, lng: 844.2854967367377 },\n      { lat: 346.39393443375997, lng: 847.7326422950221 },\n      { lat: 343.56550730901375, lng: 844.8158268226276 },\n      { lat: 325.35750769346015, lng: 846.6719821232423 },\n      { lat: 319.9658184869127, lng: 841.4570696119915 },\n      { lat: 324.38523586932865, lng: 826.607827207074 },\n      { lat: 336.59783310277044, lng: 834.731484905481 },\n      { lat: 352.07604580659114, lng: 835.3908786715936 },\n      { lat: 369.1758521514147, lng: 829.5128759753552 },\n      { lat: 386.2756584962383, lng: 823.6348732791167 },\n      { lat: 353.38624554456584, lng: 822.2353237918115 },\n      { lat: 317.69773361828294, lng: 825.2676810143062 },\n      { lat: 253.50359574886406, lng: 826.0655287481668 },\n      { lat: 204.2428073372761, lng: 815.8344419242217 },\n      { lat: 190.22242909705494, lng: 826.0655287481668 },\n      { lat: 186.85493641000312, lng: 813.560867074456 },\n      { lat: 189.08564167217213, lng: 801.0562054007453 },\n      { lat: 194.76957879658613, lng: 795.7511974179589 },\n      { lat: 258.42967459002284, lng: 804.087638533766 },\n      { lat: 316.7847624006732, lng: 795.3722682763313 },\n      { lat: 274.99975551549045, lng: 781.1453633343426 },\n      { lat: 238.34643008376008, lng: 783.2465357442481 },\n    ].map(({ lat, lng }) => ({ lat: 700 - lat, lng }));\n    return {\n      ok: true,\n      status: 200,\n      json: async () => {\n        return {\n          project: {\n            id: 'demo',\n            name: 'Test Project',\n            referenceText: null,\n            referenceLink: null,\n            form: {\n              formParts: [\n                {\n                  id: 'mzs64divv',\n                  name: 'Human',\n                  type: 'polygon',\n                },\n                {\n                  id: 'ywx7emnqc',\n                  name: 'Shoes',\n                  type: 'bbox',\n                },\n                {\n                  id: 'qvjf23y51',\n                  name: 'Image quality',\n                  type: 'select-one',\n                  options: ['Bad', 'Okay', 'Excellent'],\n                },\n              ],\n            },\n          },\n          image: {\n            id: 1,\n            originalName: 'demo.jpg',\n            link: demoImg,\n            externalLink: null,\n            localPath: null,\n            labeled: 0,\n            labelData: {\n              labels: {\n                mzs64divv: [\n                  {\n                    id: 'hpctbyvju7k5t68znsphx3',\n                    type: 'polygon',\n                    points,\n                    tracingOptions: {\n                      trace: [],\n                      enabled: false,\n                      smoothing: 1.2,\n                    },\n                  },\n                  {\n                    id: 'hpctbyvju7k5t68znsphx4',\n                    type: 'polygon',\n                    points: points2,\n                    tracingOptions: {\n                      trace: [],\n                      enabled: false,\n                      smoothing: 1.2,\n                    },\n                  },\n                ],\n              },\n            },\n            lastEdited: 1552629203129,\n            projectsId: 'demo',\n          },\n        };\n      },\n    };\n  },\n  '/api/mlmodels': () => {\n    return {\n      ok: 1,\n      status: 200,\n      json: async () => [\n        {\n          id: 1,\n          name: 'object detection - faster_rcnn',\n          url: 'http://someserver.com/v1/models/faster_rcnn:predict',\n          type: 'object_detection',\n        },\n        {\n          id: 2,\n          name: 'semantic segmentation - deeplabv3',\n          url:\n            'http://someserver.com/v1/models/deeplabv3plus_xception65:predict',\n          type: 'semantic_segmentation',\n        },\n      ],\n    };\n  },\n  '/api/mlmodels/1': () => {\n    return fetch(objectDetectionResponse);\n  },\n  '/api/mlmodels/2': () => {\n    return fetch(semanticSegmentationResponse);\n  },\n  '/api/images/1': () => {\n    return {\n      ok: 1,\n      status: 200,\n    };\n  },\n};\n","import React, { Component } from 'react';\nimport LabelingApp from './LabelingApp';\n\nimport { Loader } from 'semantic-ui-react';\nimport DocumentMeta from 'react-document-meta';\n\nimport { demoMocks } from './demo';\n\nimport {apiCall} from \"../services/api\";\nimport _ from \"lodash\";\n\n\nexport default class LabelingLoader extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      project: null,\n      image: null,\n      isLoaded: false,\n      error: null,\n    };\n  }\n\n  async fetch(...args) {\n    const { projectId } = this.props.match.params;\n    if (projectId === 'demo') {\n      const path = typeof args[0] === 'string' ? args[0] : args[0].pathname;\n      return demoMocks[path](...args);\n    }\n\n    return await fetch(...args);\n  }\n\n  componentDidMount() {\n    this.refetch();\n  }\n\n  componentDidUpdate(prevProps) {\n    if (prevProps.match.params.imageId !== this.props.match.params.imageId) {\n      this.refetch();\n    }\n  }\n\n  async refetch() {\n    this.setState({\n      isLoaded: false,\n      error: null,\n      project: null,\n      image: null,\n    });\n\n    const { match, history } = this.props;\n    let { projectId, imageId } = match.params;\n    // console.log(\"projectId\",projectId);\n    // console.log(\"imageId\",imageId);\n\n    try {\n\n      const { project, image } = await apiCall(\"get\",`${process.env.REACT_APP_PRODUCTION_SERVER_URL}/api/images/getLabelingInfo?projectId=${projectId}${imageId? (`&imageId=${imageId}`):\"\"}`);\n      // console.log(project);\n      if (!image) {\n        history.replace(`/label/${projectId}/over`);\n        return;\n      }\n\n      history.replace(`/label/${project._id}/${image._id}`);\n\n      this.setState({\n        isLoaded: true,\n        project,\n        image,\n      });\n    } catch (error) {\n      this.setState({\n        isLoaded: true,\n        error,\n      });\n    }\n  }\n\n  async pushUpdate(labelData) {\n    const { imageId } = this.props.match.params;\n    await apiCall(\"PATCH\",`${process.env.REACT_APP_PRODUCTION_SERVER_URL}/api/images/${imageId}`,{ labelData:JSON.stringify(labelData) });\n    // await this.fetch('/api/images/' + imageId, {\n    //   method: 'PATCH',\n    //   headers: {\n    //     Accept: 'application/json',\n    //     'Content-Type': 'application/json',\n    //   },\n    //   body: JSON.stringify({ labelData }),\n    // });\n  }\n\n  async markComplete() {\n    const { imageId } = this.props.match.params;\n    console.log(\"markComplete imageId\",imageId);\n    await apiCall(\"PATCH\",`${process.env.REACT_APP_PRODUCTION_SERVER_URL}/api/images/${imageId}`,{ labeled:true });\n    // await this.fetch('/api/images/' + imageId, {\n    //   method: 'PATCH',\n    //   headers: {\n    //     Accept: 'application/json',\n    //     'Content-Type': 'application/json',\n    //   },\n    //   body: JSON.stringify({ labeled: true }),\n    // });\n  }\n\n  render() {\n    const { history } = this.props;\n    const { project, image, isLoaded, error } = this.state;\n\n\n    if (error) {\n      return <div>Error: {error.message}</div>;\n    } else if (!isLoaded) {\n      return <Loader active inline=\"centered\" />;\n    }\n\n    const title = `Image ${image && image._id? image._id:\"\"} for project ${project && project.name?project.name: \"\" } -- Label Tool`;\n\n    const props = {\n      onBack: () => {\n        history.goBack();\n      },\n      onSkip: () => {\n        const project = this.state.project || null;\n        const image = this.state.image || null;\n        let nextImageId = \"\";\n        if(image && project){\n          let imgIdx = _.findIndex(project.images,(img)=> { return img === image._id});\n          if(imgIdx > -1 && ((imgIdx +1) < project.images.length)){\n            nextImageId = project.images[imgIdx+1];\n          }\n          // console.log(\"project images\", project.images);\n          // console.log(\"current image index\", imgIdx);\n          // console.log(\"nextimage\", nextImageId);\n        }\n\n        if(nextImageId && nextImageId !== \"\"){\n          history.push(`/label/${project._id}/${nextImageId}`);\n          return;  \n        }\n        history.push(`/label/${project._id}`);\n      },\n      onSubmit: () => {\n        this.markComplete();\n        const project = this.state.project || null;\n        const image = this.state.image || null;\n        let nextImageId = \"\";\n        if(image && project){\n          let imgIdx = _.findIndex(project.images,(img)=> { return img === image._id});\n          if(imgIdx > -1 && ((imgIdx +1) < project.images.length)){\n            nextImageId = project.images[imgIdx+1];\n          }\n          // console.log(\"project images\", project.images);\n          // console.log(\"current image index\", imgIdx);\n          // console.log(\"nextimage\", nextImageId);\n        }\n\n        if(nextImageId && nextImageId !== \"\"){\n          history.push(`/label/${project._id}/${nextImageId}`);\n          return;  \n        }\n        history.push(`/label/${project._id}`);\n      },\n      onLabelChange: this.pushUpdate.bind(this),\n    };\n\n    const { referenceLink, referenceText } = project;\n\n    return (\n      <DocumentMeta title={title}>\n        <LabelingApp\n          labels={project.form.formParts}\n          reference={{ referenceLink, referenceText }}\n          labelData={image.labelData.labels || {}}\n          imageUrl={`${process.env.REACT_APP_PRODUCTION_SERVER_URL}${image.link}`}\n          externalImageUrl={image.externalLink}\n          fetch={this.fetch.bind(this)}\n          demo={project._id === 'demo'}\n          {...props}\n        />\n      </DocumentMeta>\n    );\n  }\n}\n","import React, { Component, Fragment } from 'react';\nimport { Link } from 'react-router-dom';\n\nimport { Message } from 'semantic-ui-react';\n\nexport default class OverScreen extends Component {\n  render() {\n    const { projectId } = this.props.match.params;\n    let backgroundImg = `linear-gradient(45deg, rgb(229, 44, 78) 1%, rgb(233, 74, 99) 30%, rgb(174, 82, 157) 69%, rgb(154, 85, 177) 100%)`;\n\n    return (\n      <Fragment>\n          <header className=\"App-hero\" style={{\n            \"minHeight\":\"75px\",\n            \"backgroundImage\":backgroundImg,\n            \"color\":\"white\"\n          }}>\n          </header>\n          <Message style={{ maxWidth: 600, margin: '100px auto' }}>\n            <Message.Header>No more images in this project</Message.Header>\n            <p>\n              To upload more images or view previously tagged ones head to the{' '}\n              <a href={`/#/admin/${projectId}`}>admin panel</a>.\n            </p>\n          </Message>\n      </Fragment>\n    );\n  }\n}\n","import React, {Fragment} from 'react';\r\nimport { Link } from 'react-router-dom';\r\n\r\nconst NotFound = (props) => {\r\n\tconst browserLang = props.browserLang;\r\n\tconst imgUrl = \"images/background-image-hero.jpg\";\r\n\tlet backgroundImg = `linear-gradient(45deg, rgba(0, 26, 255, 0.7) 1%, rgb(99, 97, 238) 30%, rgb(119, 99, 213) 69%, rgb(161, 103, 161) 100%),url(${imgUrl})`;\r\n\treturn (\r\n<Fragment>\r\n\t<header className=\"App-hero\" style={{\r\n          \"minHeight\":\"75px\",\r\n          \"backgroundImage\":backgroundImg,\r\n          \"color\":\"white\"\r\n        }}>\r\n\t</header>\r\n\t  <div  style={{\"paddingTop\":\"16px\",\"marginLeft\":\"40px\", \"marginRight\":\"40px\"}}>\r\n\t    <h1>{browserLang === \"en\" ?  \"404 - Not Found!\":\"404 - No Existe Esta Página\"}</h1>\r\n\t    <a href=\"/\">\r\n\t      {browserLang === \"en\" ?  \"Go Home\":\"Volver al Inicio\"}\r\n\t    </a>\r\n\t  </div>\r\n</Fragment>\r\n\t);\r\n}\r\nexport default NotFound;\r\n","import React from \"react\";\r\nimport '../App.css';\r\nimport withAuth from \"../hocs/withAuth\";\r\nimport { HashRouter as Router , Route, Switch, withRouter } from \"react-router-dom\";\r\nimport { authUser } from \"../store/actions/auth\";\r\nimport { removeError } from \"../store/actions/errors\";\r\nimport Homepage from \"../Homepage\";\r\nimport DataLabeling from \"../components/DataLabeling\";\r\nimport AuthPage from \"../components/AuthPage\";\r\nimport DamageAnalysis from \"../components/DamageAnalysis\";\r\nimport AiConsulting from \"../components/AiConsulting\";\r\nimport Demo from \"./Demo\";\r\nimport ImageVisualizer from \"./ImageVisualizer\";\r\nimport Dashboard from \"./Dashboard\";\r\nimport ReactGA from 'react-ga';\r\nimport LabelHome from './LabelHome';\r\nimport AdminApp from './AdminApp';\r\nimport { connect } from \"react-redux\";\r\nimport LabelingLoader from \"../label/LabelingLoader\";\r\nimport OverScreen from \"../label/OverScreen\";\r\nimport NotFound from \"../components/NotFound\";\r\n\r\n\r\nconst EnhancedDashboard = withAuth(Dashboard);\r\n\r\nconst trackPage = (page) => {\r\n    ReactGA.set({\r\n      page\r\n    });\r\n    ReactGA.pageview(page);\r\n  };\r\n\r\nclass Main extends React.Component {\r\nconstructor(props){\r\n\t\tsuper(props);\r\n\t\tthis.state = {};\r\n\t}\r\n  render() {\r\n    return (\r\n      <Router>\r\n      <Switch>\r\n        <Route\r\n        path=\"/data-labeling\"\r\n         render={\r\n          props=>{\r\n          const page = this.props.location.pathname;\r\n          trackPage(page);\r\n          return (\r\n            <DataLabeling browserLang={this.props.language} {...this.props}></DataLabeling>\r\n            );\r\n          }\r\n         }\r\n         >\r\n         </Route>\r\n          <Route\r\n        path=\"/pavements-analysis\"\r\n         render={\r\n          props=>{\r\n            const page = this.props.location.pathname;\r\n            trackPage(page);\r\n            return (\r\n            <DamageAnalysis browserLang={this.props.language} {...this.props}></DamageAnalysis>\r\n          );}\r\n         }\r\n         >\r\n         </Route>\r\n         <Route\r\n        path=\"/ai-consulting\"\r\n         render={\r\n          props=>{\r\n            const page = this.props.location.pathname;\r\n            trackPage(page);\r\n            return (\r\n            <AiConsulting browserLang={this.props.language} {...this.props}></AiConsulting>\r\n          )}\r\n         }\r\n         >\r\n         </Route>\r\n         <Route\r\n        path=\"/demo\"\r\n         render={\r\n          props=>{\r\n            const page = this.props.location.pathname;\r\n            trackPage(page);\r\n            return(\r\n            <Demo browserLang = {this.props.language} {...this.props}></Demo> \r\n          )}\r\n         }\r\n         >\r\n         </Route>\r\n         <Route\r\n        path=\"/visualize\"\r\n         render={\r\n          props=>{\r\n            const page = this.props.location.pathname;\r\n            trackPage(page);\r\n            return (\r\n            <ImageVisualizer browserLang = {this.props.language} {...this.props}></ImageVisualizer> \r\n          )}\r\n         }\r\n         >\r\n         </Route>\r\n         <Route exact path=\"/label/:projectId\" component={LabelingLoader} />\r\n          <Route\r\n            exact\r\n            path=\"/label/:projectId/:imageId\"\r\n            render={props =>\r\n              props.match.params.imageId === 'over' ? (\r\n                <OverScreen {...props} />\r\n              ) : (\r\n                <LabelingLoader {...props} />\r\n              )\r\n            }\r\n          />  \r\n         <Route path=\"/label\" \r\n                render={\r\n                    props=>{\r\n                      const page = this.props.location.pathname;\r\n                      trackPage(page);\r\n                      return (\r\n                      <LabelHome browserLang = {this.props.language} {...this.props}></LabelHome> \r\n                    )}\r\n                   }\r\n                />\r\n         <Route path=\"/admin\"\r\n                render={\r\n                    props=>{\r\n                      const page = this.props.location.pathname;\r\n                      trackPage(page);\r\n                      return (\r\n                      <AdminApp browserLang = {this.props.language} {...this.props}></AdminApp> \r\n                    )}\r\n                   }\r\n                />\r\n         <Route\r\n          path=\"/dashboard\"\r\n          render={\r\n          props=>{\r\n            const page = this.props.location.pathname;\r\n            trackPage(page);\r\n            return(\r\n            <EnhancedDashboard browserLang={this.props.language} {...this.props}></EnhancedDashboard>\r\n          )}\r\n         }\r\n         >\r\n         </Route>\r\n         <Route\r\n          path=\"/signin\"\r\n          render={\r\n          props=>{\r\n            const page = this.props.location.pathname;\r\n            trackPage(page);\r\n            return(\r\n            <AuthPage onAuth={this.props.authUser} browserLang={this.props.language} errors={this.props.errors} buttonText={this.props.language === \"en\"? \"Login Now\":\"Ingresar Ahora\"} heading={this.props.language === \"en\"? \"Welcome Back\":\"Bienvenido de Vuelta\"} removeError={this.props.removeError} signUp={false} removeAdditionalField={true}  {...this.props}></AuthPage>\r\n          )}\r\n         }\r\n         >\r\n         </Route>\r\n               \r\n        <Route\r\n        exact path=\"/\"\r\n         render={\r\n          props=>{\r\n            const page = this.props.location.pathname;\r\n            trackPage(page);\r\n            return(\r\n            <Homepage browserLang={this.props.language} {...this.props}></Homepage>\r\n          )}\r\n         }\r\n         >\r\n          \r\n        </Route>\r\n        <Route\r\n         render={\r\n          props=>{\r\n            const page = this.props.location.pathname;\r\n            trackPage(page);\r\n            return(\r\n            <NotFound browserLang={this.props.language} {...this.props}></NotFound>\r\n          )}\r\n         }\r\n         />\r\n      </Switch>\r\n      \r\n      </Router>\r\n      \r\n      );\r\n  }\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n  return {\r\n    currentUser: state.currentUser,\r\n    errors: state.errors,\r\n    language:state.language\r\n  };\r\n}\r\n\r\nexport default withRouter(\r\n  connect(mapStateToProps, { authUser, removeError})(Main)\r\n);\r\n","import React, { Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { setUserLanguage, updateCurrentUser } from \"../store/actions/users\";\r\n\r\nexport default function withAuth(ComponentToBeRendered) {\r\n  class Authenticate extends Component {\r\n    componentWillMount() {\r\n      console.log(\"componentWillMount\", this.props);\r\n      if (this.props.isAuthenticated === false && this.props.location.pathname !== \"/signin\") {\r\n        this.props.history.push(\"/signin\");\r\n      }\r\n    }\r\n    componentWillUpdate(nextProps) {\r\n      console.log(\"componentWillUpdate\", nextProps);\r\n      if (nextProps.isAuthenticated === false && this.props.location.pathname !== \"/signin\") {\r\n        this.props.history.push(\"/signin\");\r\n      }\r\n    }\r\n    render() {\r\n      return (\r\n          <ComponentToBeRendered {...this.props} />\r\n        );\r\n    }\r\n  }\r\n\r\n  function mapStateToProps(state) {\r\n    return { \r\n    isAuthenticated: state.currentUser.isAuthenticated,\r\n    currentUser: state.currentUser.user,\r\n    language: state.language \r\n  };\r\n  }\r\n\r\n  return connect(mapStateToProps,{setUserLanguage, updateCurrentUser})(Authenticate);\r\n}\r\n","import { SET_CURRENT_USER } from \"../actionTypes\";\r\nimport { UPDATE_USER } from \"../actionTypes\";\r\n\r\nconst DEFAULT_STATE = {\r\n  isAuthenticated: false, // hopefully be true, when logged in\r\n  user: {} // all the user info when logged in\r\n};\r\n\r\nexport default (state = DEFAULT_STATE, action) => {\r\n  //debugger;\r\n  switch (action.type) {\r\n    case SET_CURRENT_USER:\r\n      return {\r\n        // turn empty object into false or if there are keys, true\r\n        isAuthenticated: !!Object.keys(action.user).length,\r\n        user: action.user\r\n      };\r\n    \r\n    case UPDATE_USER:\r\n        if(action.user){\r\n          return{\r\n            ...state,\r\n            ...action.user\r\n          }\r\n        }\r\n        return state;\r\n    default:\r\n      return state;\r\n        }\r\n};\r\n","import { SET_USER_LANGUAGE } from \"../actionTypes\";\r\n\r\nconst language = (state = {}, action) => {\r\n  //debugger;\r\n  switch (action.type) {\r\n  \tcase SET_USER_LANGUAGE:\r\n\t\treturn action.language\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default language;","import { combineReducers } from \"redux\";\r\nimport currentUser from \"./currentUser\";\r\nimport errors from \"./errors\";\r\nimport language from \"./language\";\r\n\r\nconst rootReducer = combineReducers({\r\n  currentUser,\r\n  errors,\r\n  language\r\n});\r\n\r\nexport default rootReducer;\r\n","import { ADD_ERROR, REMOVE_ERROR } from \"../actionTypes\";\r\n\r\nexport default (state = { message: null }, action) => {\r\n  switch (action.type) {\r\n    case ADD_ERROR:\r\n      return { ...state, message: action.error };\r\n    case REMOVE_ERROR:\r\n      return { ...state, message: null };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","import React, { Component } from \"react\";\nimport Navbar from './Navbar';\nimport './App.css';\nimport detectBrowserLanguage from 'detect-browser-language';\nimport { HashRouter as Router } from 'react-router-dom';\nimport Main from \"./containers/Main\";\nimport ReactGA from 'react-ga';\nimport { Provider } from \"react-redux\";\nimport { configureStore } from \"./store\";\nimport { setAuthorizationToken, setCurrentUser } from \"./store/actions/auth\";\nimport { setUserLanguage } from \"./store/actions/users\";\nimport jwtDecode from \"jwt-decode\";\n\nconst store = configureStore();\nconst browserLang = detectBrowserLanguage().toLowerCase();\nlet language = \"en\";\nif(browserLang.indexOf (\"en\") < 0){\n  language = browserLang;\n}\nif (localStorage.enginJwtToken) {\n  setAuthorizationToken(localStorage.enginJwtToken);\n  // prevent someone from manually tampering with the key of jwtToken in localStorage\n  try {\n    store.dispatch(setCurrentUser(jwtDecode(localStorage.enginJwtToken)));\n  } catch (e) {\n    store.dispatch(setCurrentUser({}));\n  }\n}\n\n\nif(localStorage.language) {\n  store.dispatch(setUserLanguage(localStorage.language));\n}else{\n  store.dispatch(setUserLanguage(language));\n}\n\nclass App extends Component{\n  constructor(props){\n    super(props);\n  }\n\n  componentDidMount(){\n    ReactGA.initialize('UA-144858526-3', {\n      debug: false,\n      titleCase: false\n    });\n  }\n\n  render (){\n  \n  return (\n  <Provider store={store}>\n    <div style={{\"overflow\":\"hidden\"}}>\n      <div className=\"App\">\n      <Router>\n        <Navbar browserLang={language}></Navbar>\n        <Main browserLang={language}>\n        </Main>\n      </Router>      \n      </div>\n    </div>\n  </Provider>\n  );\n}}\n\nexport default App;\n","import rootReducer from \"./reducers\";\r\nimport { createStore, applyMiddleware, compose } from \"redux\";\r\nimport thunk from \"redux-thunk\";\r\n\r\nexport function configureStore() {\r\n  const store = createStore(\r\n    rootReducer,\r\n    compose(\r\n      applyMiddleware(thunk),\r\n      window.devToolsExtension ? window.devToolsExtension() : f => f\r\n    )\r\n  );\r\n\r\n  return store;\r\n}\r\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}